(function(g){var window=this;'use strict';var Hu=function(b){b.publish("cardstatechange",b.jp()&&b.Dp()?1:0)},zr=function(b,L){var q=g.gW(L),V=q?L:arguments;
for(q=q?0:1;q<V.length;q++){if(b==null)return;b=b[V[q]]}return b},oYb=function(b){var L=g.Bw(b);
b=g.pM(b);return new g.bD(L.x,L.y,b.width,b.height)},h3w=function(b,L,q){var V=V===void 0?{}:V;
var Q;return Q=g.Kw(b,L,function(){g.i8(Q);q.apply(b,arguments)},V)},iZ=function(b){b=g.t_(b);
delete g7[b];g.KJ(g7)&&KF&&KF.stop()},O6q=function(){KF||(KF=new g.Xw(function(){dHw()},20));
var b=KF;b.isActive()||b.start()},dHw=function(){var b=g.jR();
g.aY(g7,function(L){BeQ(L,b)});
g.KJ(g7)||O6q()},vu=function(b,L,q,V){g.OY.call(this);
if(!Array.isArray(b)||!Array.isArray(L))throw Error("Start and end parameters must be arrays");if(b.length!=L.length)throw Error("Start and end points must be the same length");this.L=b;this.Y=L;this.duration=q;this.X=V;this.coords=[];this.progress=this.J=0;this.j=null},BeQ=function(b,L){L<b.startTime&&(b.endTime=L+b.endTime-b.startTime,b.startTime=L);
b.progress=(L-b.startTime)/(b.endTime-b.startTime);b.progress>1&&(b.progress=1);b.J=1E3/(L-b.j);b.j=L;EYW(b,b.progress);b.progress==1?(b.U=0,iZ(b),b.onFinish(),b.Cg()):b.isPlaying()&&b.Bz()},EYW=function(b,L){typeof b.X==="function"&&(L=b.X(L));
b.coords=Array(b.L.length);for(var q=0;q<b.L.length;q++)b.coords[q]=(b.Y[q]-b.L[q])*L+b.L[q]},FIW=function(b,L){g.Le.call(this,b);
this.coords=L.coords;this.x=L.coords[0];this.y=L.coords[1];this.z=L.coords[2];this.duration=L.duration;this.progress=L.progress;this.fps=L.J;this.state=L.U},xm=function(b,L,q,V,Q){vu.call(this,L,q,V,Q);
this.element=b},psW=function(b,L,q,V,Q){if(L.length!=2||q.length!=2)throw Error("Start and end points must be 2D");
xm.call(this,b,L,q,V,Q)},M3q=function(b){return Math.pow(b,3)},e3W=function(b){return 3*b*b-2*b*b*b},TeF=function(b){g.l.call(this);
this.L=b||window;this.U=[]},tC=function(b){return b.baseUrl||null},a5=function(b,L){return g.Dt(g.KM(b,L),function(q){return!!q})},Z6w=function(b,L,q){function V(VJ){var oY=VJ.hovercardButton;
if(!oY)return null;oY=oY.subscribeButtonRenderer;if(!oY)return null;var Eo=G(oY.unsubscribedButtonText),qT=G(oY.subscribedButtonText);if(oY.subscribed){var S5=G(oY.subscriberCountWithUnsubscribeText);var f3=G(oY.subscriberCountText)}else S5=G(oY.subscriberCountText),f3=G(oY.subscriberCountWithSubscribeText);var Nu=null;if(VJ.signinEndpoint){Nu=zr(VJ,"signinEndpoint","webNavigationEndpointData","url");if(!Nu){var PJ,X2;Nu=(X2=g.T((PJ=oY.signInEndpoint)==null?void 0:PJ.commandMetadata,g.eg))==null?
void 0:X2.url}if(!Nu)return null}return Eo&&(qT||Nu)?{subscribed:oY.subscribed,subscribeText:Eo,subscribeCount:S5,unsubscribeText:qT,unsubscribeCount:f3,enabled:oY.enabled,signinUrl:Nu,classic:VJ.useClassicSubscribeButton}:null}
function Q(VJ){if(VJ){var oY=[],Eo=VJ.videoId;Eo&&oY.push("v="+Eo);(Eo=VJ.playlistId)&&oY.push("list="+Eo);(VJ=VJ.startTimeSeconds)&&oY.push("t="+VJ);return"/watch?"+oY.join("&")}}
function G(VJ){if(!VJ)return null;var oY=VJ.simpleText;return oY?oY:VJ.runs?g.KM(VJ.runs,function(Eo){return Eo.text}).join(""):null}
L=L.endscreenElementRenderer;if(!L)return null;var R=L.style,h=L.endpoint||{},d=null,O=null,B=!1,E=null,F=null,p=null,M=null,y=!1,S=null,v=null,K=null,t=null,r=null,k=null;if(R==="VIDEO")g.T(h,g.jz)?d=g.T(h,g.jz).url:(k=g.T(h,g.O6),d=Q(k)),O=!1,E=b,L.thumbnailOverlays?(B=L.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,F=G(B.text),B=B.style==="LIVE"):F=G(L.videoDuration);else if(R==="PLAYLIST")g.T(h,g.jz)?d=g.T(h,g.jz).url:(k=g.T(h,g.O6),d=Q(k)),O=!1,E=b,p=G(L.playlistLength);else if(R===
"CHANNEL"){if(y=zr(h,"browseEndpoint","browseId"))M=y,d="/channel/"+M;O=!1;E="new";(y=!!L.isSubscribe)?S=V(L):v=G(L.subscribersText)}else R==="WEBSITE"?((K=zr(h,"urlEndpoint","url"))&&(d=K),O=!0,E="new",K=L.icon.thumbnails[0].url):R==="CREATOR_MERCHANDISE"&&(L.productPrice&&(t=G(L.productPrice)),L.additionalFeesText&&(r=G(L.additionalFeesText)),(O=zr(h,"urlEndpoint","url"))&&(d=O),O=!0,E="new");b=zr(L,"title","accessibility","accessibilityData","label");var n=L.endpoint?L.endpoint.clickTrackingParams:
null,G$="";if(L.metadata){var L3=G(L.metadata);L3&&(G$=L3)}return{id:"element-"+q,type:R,title:G(L.title),metadata:G$,callToAction:G(L.callToAction),Qu:L.image,iconUrl:K,left:Number(L.left),width:Number(L.width),top:Number(L.top),aspectRatio:Number(L.aspectRatio),startMs:Math.floor(Number(L.startMs)),endMs:Math.floor(Number(L.endMs)),videoDuration:F,lj:B,playlistLength:p,channelId:M,subscribeButton:S,subscribersText:v,isSubscribe:y,targetUrl:d||null,u8v:O,sessionData:n?{itct:n}:null,ats:E,vv:b?b:
null,isPlaceholder:L.isPlaceholder,impressionUrls:a5(L.impressionUrls||[],tC),JVo:a5(L.hovercardShowUrls||[],tC),clickUrls:a5(h.loggingUrls||[],tC),visualElement:g.eW(L.trackingParams),productPrice:t,additionalFeesText:r,watchEndpoint:k||null}},yJQ=function(b,L){var q={startMs:Math.floor(Number(b.startMs)),
impressionUrls:a5(b.impressionUrls||[],tC),elements:a5(b.elements||[],function(V,Q){return Z6w(L,V,Q)})};
b.trackingParams&&(q.visualElement=g.eW(b.trackingParams));return q},ws_=function(b){g.Eg.call(this,b);
this.j=this.endscreen=null;this.L={};this.J={};this.X=this.B=null;this.V=[];this.U=null;this.Ls=!0;this.Y=0;b=b.C();this.Uo=g.AG(b)||g.CN(b);this.events=new g.OO(this);g.A(this,this.events);this.events.K(this.player,g.nf("creatorendscreen"),this.onCueRangeEnter);this.events.K(this.player,g.kM("creatorendscreen"),this.onCueRangeExit);this.events.K(this.player,"resize",this.No);this.events.K(window,"focus",this.vqs);this.load();var L=g.zE("STYLE");(g.ed("HEAD")[0]||document.body).appendChild(L);this.addOnDisposeCallback(function(){g.tw(L)});
L.sheet&&(L.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),L.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},Spw=function(b){return b.player.getVideoData().B6?"current":b.Uo?"new":"current"},r7=function(b){return b.player.C().playerStyle==="creator-endscreen-editor"},IhQ=function(b){var L=b.player.getVideoData(),q=L.videoId;
b.j&&b.j.abort();q={method:"POST",onFinish:function(Q){var G=b.j=null;Q.status===200&&(Q=Q.responseText,Q.substring(0,3)===")]}"&&(Q=Q.substring(3),G=JSON.parse(Q),G=yJQ(G,Spw(b))));DU(b,G)},
urlParams:{v:q},withCredentials:!0};b.Uo&&(q.urlParams.ptype="embedded");var V=L.aP;V&&(q.postParams={ad_tracking:V});if(L=g.W_Y(L))if(L=g.Ws(L),L=g.yZ(L))b.j=g.xj(L,q)},DU=function(b,L,q){q=q===void 0?!0:q;
b.player.Ey("creatorendscreen");b.B&&(b.B.dispose(),b.B=null,b.X.dispose(),b.X=null);for(var V=g.x(Object.values(b.L)),Q=V.next();!Q.done;Q=V.next())Q.value.dispose();b.L={};b.J={};b.V.length>0&&(b.V.forEach(function(h){h.dispose()}),b.V.length=0);
b.U&&(g.on(b.U,"ytp-ce-element-show"),b.U.setAttribute("aria-hidden","true"));b.Y=0;if((b.endscreen=L)&&L.elements){q&&WIb(b);q=[];V=new g.ch(L.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});q.push(V);b.player.C().L||(b.B=new g.C({D:"div",G:"ytp-ce-shadow"}),g.lt(b.player,b.B.element,4),b.X=new g.q5(b.B,200));for(V=0;V<L.elements.length;++V){Q=L.elements[V];var G=$Hy(b,Q);if(G){b.L[Q.id]=G;b.J[Q.id]=Q;g.lt(b.player,G.element,4);var R=new g.ch(Q.startMs,Q.endMs,{id:"ytp-ce-element-"+
Q.id,namespace:"creatorendscreen"});q.push(R);H6y(b,G,Q)}else g.vF(new g.dU("buildEndscreenElement null",Q))}b.player.b1(q);b.No()}},WIb=function(b){var L=g.yA(),q=g.wt();
q&&L&&b.endscreen.visualElement&&g.Q9(g.lF)(void 0,q,L,b.endscreen.visualElement)},$Hy=function(b,L){var q=null;
switch(L.type){case "VIDEO":b={D:"div",JV:["ytp-ce-element","ytp-ce-video"],S:{tabindex:"0","aria-label":L.vv||"","aria-hidden":"true"},Z:[{D:"div",G:"ytp-ce-element-shadow"},{D:"div",G:"ytp-ce-covering-image",S:jH(L)},{D:"div",G:"ytp-ce-covering-shadow-top"},{D:"a",G:"ytp-ce-covering-overlay",S:{href:uZ(b,L.targetUrl),tabindex:"-1"},Z:[{D:"div",JV:["ytp-ce-video-title","ytp-webkit-ellipsis"],S:{dir:g.MG(L.title||"")},rC:L.title},{D:"div",G:L.lj?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
rC:L.videoDuration||void 0}]}]};q=new g.C(b);break;case "PLAYLIST":b={D:"div",JV:["ytp-ce-element","ytp-ce-playlist"],S:{tabindex:"0","aria-label":L.vv||"","aria-hidden":"true"},Z:[{D:"div",G:"ytp-ce-element-shadow"},{D:"div",G:"ytp-ce-covering-image",S:jH(L)},{D:"div",G:"ytp-ce-covering-shadow-top"},{D:"a",G:"ytp-ce-covering-overlay",S:{href:uZ(b,L.targetUrl),tabindex:"-1"},Z:[{D:"div",JV:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],S:{dir:g.MG(L.title||"")},rC:L.title},{D:"div",G:"ytp-ce-playlist-count",
Z:[{D:"div",G:"ytp-ce-playlist-icon"},{D:"div",G:"ytp-ce-playlist-count-text",rC:L.playlistLength||void 0}]}]}]};q=new g.C(b);break;case "CHANNEL":q={D:"div",JV:["ytp-ce-element","ytp-ce-channel",L.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],S:{tabindex:"0","aria-label":L.vv||"","aria-hidden":"true"},Z:[{D:"div",G:"ytp-ce-element-shadow"},{D:"div",G:"ytp-ce-expanding-overlay",Z:[{D:"div",G:"ytp-ce-expanding-overlay-hider"},{D:"div",G:"ytp-ce-expanding-overlay-background"},{D:"div",G:"ytp-ce-expanding-overlay-content",
Z:[{D:"div",G:"ytp-ce-expanding-overlay-body",Z:[{D:"div",G:"ytp-ce-expanding-overlay-body-padding",Z:[{D:"a",JV:["ytp-ce-channel-title","ytp-ce-link"],S:{href:uZ(b,L.targetUrl),target:"_blank",tabindex:"-1",dir:g.MG(L.title||"")},rC:L.title},L.subscribeButton?{D:"div",G:"ytp-ce-subscribe-container",Z:[{D:"div",G:"ytp-ce-channel-subscribe"}]}:"",L.subscribersText?{D:"div",G:"ytp-ce-channel-subscribers-text",rC:L.subscribersText}:"",L.metadata?{D:"div",JV:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],rC:L.metadata}:""]}]}]}]},{D:"div",G:"ytp-ce-expanding-image",S:jH(L)}]};q=new g.C(q);var V=g.Zj(document,"div","ytp-ce-channel-subscribe",q.element)[0];if(L.subscribeButton&&L.channelId){g.Rn(V,"ytp-ce-subscribe-button");if(b.player.C().L){var Q=null;var G=L.sessionData.itct}else Q="endscreen",G=null;Q=new g.my(L.subscribeButton.subscribeText,L.subscribeButton.subscribeCount,L.subscribeButton.unsubscribeText,L.subscribeButton.unsubscribeCount,!!L.subscribeButton.enabled,!!L.subscribeButton.classic,
L.channelId,!!L.subscribeButton.subscribed,Q,G,b.player,!1);V.appendChild(Q.element);b.V.push(Q)}break;case "WEBSITE":b={D:"div",JV:["ytp-ce-element","ytp-ce-website"],S:{tabindex:"0","aria-label":L.vv||"","aria-hidden":"true"},Z:[{D:"div",G:"ytp-ce-element-shadow"},{D:"div",G:"ytp-ce-expanding-overlay",Z:[{D:"div",G:"ytp-ce-expanding-overlay-hider"},{D:"div",G:"ytp-ce-expanding-overlay-background"},{D:"div",G:"ytp-ce-expanding-overlay-content",Z:[{D:"div",G:"ytp-ce-expanding-overlay-body",Z:[{D:"div",
G:"ytp-ce-expanding-overlay-body-padding",Z:[{D:"div",G:"ytp-ce-website-title",S:{dir:g.MG(L.title||"")},rC:L.title},{D:"div",G:"ytp-ce-website-metadata",rC:L.metadata},{D:"a",JV:["ytp-ce-website-goto","ytp-ce-link"],S:{href:uZ(b,L.targetUrl),target:"_blank",tabindex:"-1"},rC:L.callToAction}]}]}]}]},{D:"div",G:"ytp-ce-expanding-image",S:jH(L)},{D:"div",G:"ytp-ce-expanding-icon",S:z3y(L.iconUrl)}]};q=new g.C(b);break;case "CREATOR_MERCHANDISE":q="",L.productPrice&&(q={D:"div",G:"ytp-ce-merchandise-price-container",
Z:[{D:"div",G:"ytp-ce-merchandise-price",rC:L.productPrice}]},L.additionalFeesText&&q.Z.push({D:"div",G:"ytp-ce-merchandise-additional-fees",rC:L.additionalFeesText})),b={D:"div",JV:["ytp-ce-element","ytp-ce-merchandise"],S:{tabindex:"0","aria-label":L.vv||"","aria-hidden":"true"},Z:[{D:"div",G:"ytp-ce-element-shadow"},{D:"div",G:"ytp-ce-expanding-overlay",Z:[{D:"div",G:"ytp-ce-expanding-overlay-hider"},{D:"div",G:"ytp-ce-expanding-overlay-background"},{D:"div",G:"ytp-ce-expanding-overlay-content",
Z:[{D:"div",G:"ytp-ce-expanding-overlay-body",Z:[{D:"div",G:"ytp-ce-expanding-overlay-body-padding",Z:[{D:"div",G:"ytp-ce-merchandise-title",S:{dir:g.MG(L.title||"")},rC:L.title},q,{D:"div",G:"ytp-ce-merchandise-metadata",rC:L.metadata},{D:"a",JV:["ytp-ce-merchandise-goto","ytp-ce-link"],S:{href:uZ(b,L.targetUrl),target:"_blank",tabindex:"-1"},rC:L.callToAction}]}]}]}]},{D:"div",G:"ytp-ce-expanding-image",S:jH(L)},{D:"div",G:"ytp-ce-merchandise-invideo-cta-container",Z:[{D:"div",G:"ytp-ce-merchandise-invideo-cta",
rC:L.callToAction||void 0}]}]},q=new g.C(b)}L.isPlaceholder&&g.Rn(q.element,"ytp-ce-placeholder");return q},jH=function(b){if(b.Qu)var L=b.Qu.thumbnails;
return z3y(L?L[L.length-1].url:null)},z3y=function(b){return b?{style:"background-image: url("+b+")"}:{}},H6y=function(b,L,q){function V(d){d&&(L.listen("blur",function(){d.style.display!="none"&&b.Ls&&d.focus()}),L.K(d,"focus",G),L.K(d,"blur",R))}
function Q(d){b.Y+=d;b.Y>0?(g.Rn(L.element,"ytp-ce-force-expand"),cu(b,q.id,!0)):(g.on(L.element,"ytp-ce-force-expand"),g.on(L.element,"ytp-ce-element-hover"),cu(b,q.id,!1))}
function G(){Q(1)}
function R(){Q(-1)}
L.listen("mouseenter",function(){gY8(b,L,q)});
L.listen("mouseleave",function(){KIW(b,L,q)});
b.player.C().L||L.listen("click",function(){g.Rn(L.element,"ytp-ce-element-hover")});
L.listen("click",function(d){i6s(b,q,d)});
L.listen("keypress",function(d){i6s(b,q,d)});
L.listen("focus",function(){gY8(b,L,q)});
L.listen("blur",function(){KIW(b,L,q)});
L.listen("touchstart",function(){gY8(b,L,q)});
var h=g.wh("ytp-ce-expanding-overlay-hider",L.element);h&&L.K(h,"touchstart",function(d){d.stopPropagation();g.on(L.element,"ytp-ce-element-hover");g.on(L.element,"ytp-ce-force-expand")});
L.listen("keydown",function(d){b.Ls=d.keyCode===9&&!d.shiftKey});
V(g.wh("ytp-sb-subscribe",L.element));V(g.wh("ytp-sb-unsubscribe",L.element));L.listen("focus",G);L.listen("blur",R)},i6s=function(b,L,q){if(L.targetUrl&&(!q||q.type!=="keypress"||q.keyCode===13)){for(var V=q.target;V&&!g.GG(V,"ytp-ce-element");){g.GG(V,"subscribe-label")&&vYw(b,L);
if(g.GG(V,"ytp-ce-channel-subscribe"))return;V=V.parentElement||null}if(!V||g.GG(V,"ytp-ce-element-hover")){q.preventDefault();q.stopPropagation();if(V=b.L[L.id])KIW(b,V,L),V.element.blur();if(q.ctrlKey||q.metaKey||L.ats==="new")vYw(b,L),b.player.sendVideoStatsEngageEvent(17,void 0),b.player.pauseVideo(),q=g.Ws(uZ(b,L.targetUrl)),q=g.yZ(q),g.lY(q,void 0,L.sessionData);else{var Q=g.Nn(b.player.C())||b.player.getVideoData().B6,G=function(){var R=uZ(b,L.targetUrl),h=L.sessionData,d=L.watchEndpoint,O=
g.ha(R);Q&&O&&(O.v||O.list)?b.player.O8(O.v,h,O.list,!1,void 0,d||void 0):g.kF(R,h)};
vYw(b,L,function(){b.player.sendVideoStatsEngageEvent(17,G)})}}}},uZ=function(b,L){b=b.player.C();
if(L){if(L.startsWith("//"))return b.protocol+":"+L;if(L.startsWith("/"))return g.ps(b)+L}else return"";return L},gY8=function(b,L,q){g.GG(L.element,"ytp-ce-element-hover")||(q.type==="VIDEO"||q.type==="PLAYLIST"?g.Rn(L.element,"ytp-ce-element-hover"):b.player.C().L?(new g.Xw(function(){g.Rn(L.element,"ytp-ce-element-hover")},200)).start():g.Rn(L.element,"ytp-ce-element-hover"),Pu(b,q.JVo),cu(b,q.id,!0))},KIW=function(b,L,q){g.on(L.element,"ytp-ce-element-hover");
g.on(L.element,"ytp-ce-force-expand");cu(b,q.id,!1)},cu=function(b,L,q){b.B&&(q?b.X.show():b.X.hide());
for(var V=g.x(Object.keys(b.L)),Q=V.next();!Q.done;Q=V.next())Q=Q.value,Q!==L&&g.dE(b.L[Q].element,"ytp-ce-element-shadow-show",q)},Pu=function(b,L,q){function V(){G||(Q++,Q===L.length&&(R.stop(),q&&q()))}
if(!L||L.length===0||r7(b))q&&q();else{L=xHb(b,L);var Q=0,G=!1,R=new g.Xw(function(){G=!0;q&&q()},1E3,b);
R.start();for(b=0;b<L.length;b++)g.uS(L[b],V)}},vYw=function(b,L,q){Pu(b,L.clickUrls,q);
(b=g.wt())&&L.u8v&&g.Lg(b,L.visualElement)},xHb=function(b,L){var q=b.player.getVideoData().clientPlaybackNonce;
b=b.player.getCurrentTime().toFixed(2);q={CPN:q,AD_CPN:q,MT:b};b=[];for(var V=0;V<L.length;V++)b.push(t3q(L[V],q));return b},t3q=function(b,L){return b.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(q){var V=unescape(q);
V=V.substring(1,V.length-1);return L[V]?escape(L[V]):q})},ah_=function(b){return typeof b==="string"?b:""},nF=function(b,L,q){for(var V in L)if(L[V]===b)return b;
return q},rJF=function(b,L,q,V){this.value=b;
this.target=L;this.showLinkIcon=q;this.U=V},km=function(b){return b.value?b.value:null},lZ=function(b){if(!b)return null;
var L=g.Ws(ah_(b.value));L=g.yZ(L);if(!L)return null;var q=nF(b.target,DHy,"current");if(q==null)b=null;else{var V=b.show_link_icon;b=new rJF(L,q,V==="true"||V==="false"?V==="true":!0,b.pause_on_navigation!=null?b.pause_on_navigation:!0)}return b},jb_=function(b,L,q){this.type=b;
this.trigger=L;this.url=q},PEy=function(b){if(!b)return null;
var L=nF(b.type,urw),q=nF(b.trigger,cJ8);b=b.url;b=Array.isArray(b)&&b.length?b[0]:b;b=lZ(b?b:null);return L?new jb_(L,q,b):null},nYq=function(b,L,q,V,Q){this.id=b;
this.type=L;this.style=q;this.data=Q;this.action=V||[]},kIy=function(b,L){return g.A_(b.action,L)},lhW=function(b,L){this.context=b;
this.U=L},AJ_=function(b){return b.customMessage?AC("div","iv-card-message",b.customMessage):""},Ym=function(b,L){b="background-image: url("+b+");";
var q=[];L&&q.push(L);return{D:"div",G:"iv-card-image",S:{style:b},Z:q}},YpT=function(b){if(!b.metaInfo||b.metaInfo.length===0)return"";
var L=[];b=g.x(b.metaInfo);for(var q=b.next();!q.done;q=b.next())L.push(AC("li","",q.value));return{D:"ul",G:"iv-card-meta-info",Z:L}},AC=function(b,L,q){L?typeof L==="string"?L={"class":L}:Array.isArray(L)&&(L={"class":L.join(" ")}):L={};
L.dir=g.MG(q);return{D:b,S:L,rC:q}},CEb=function(b){if(!b.customMessage)return"";
var L=["iv-card-action","iv-card-primary-link"],q={};b.XP&&(L.push("iv-card-action-icon"),q.style="background-image: url("+b.XP+");");q.dir=g.MG(b.customMessage);var V=[{D:"span",rC:b.customMessage}];b.showLinkIcon&&(V.push("\u00a0"),V.push({D:"span",G:"iv-card-link-icon"}));return{D:"div",JV:L,S:q,Z:V}},CF=function(b,L,q,V){if(V){L=g.x(L);
for(var Q=L.next();!Q.done;Q=L.next())b.U(Q.value,V,q.id,q.sessionData,q.Iu.click,5)}},mHW=function(b,L){this.merchant=b;
this.price=L},sbW=function(b){var L;
(L=b)&&!(L=b.length>1?b.charAt(0)==="/"&&b.charAt(1)!=="/":b==="/")&&(L=b.replace(/^(https?:)?\/\//,"").split("/",1),L=!L||L.length<1||!L[0]?[]:L[0].toLowerCase().split(".").reverse(),L=L[0]==="com"&&L[1]==="youtube"||L[0]==="be"&&L[1]==="youtu");return L?b.indexOf("/redirect?")===-1:!1},Xsu=function(b,L){return L?L:sbW(b)?"current":"new"},sJ=function(b,L){g.l.call(this);
var q=this;this.element=b;this.context=L;this.Lk=!1;this.Ks=new Map;this.SP=new Map;this.context.W.addEventListener(g.nf("annotations_module"),function(V){(V=q.Ks.get(V))&&V.apply(q)});
this.context.W.addEventListener(g.kM("annotations_module"),function(V){(V=q.SP.get(V))&&V.apply(q)})},XH=function(b,L,q,V,Q,G,R){b.context.U.listen(L,"click",function(h){b.y0(q,V,Q,G||[],R||0,h)});
b.context.U.listen(L,"touchstart",function(){b.Lk=!1});
b.context.U.listen(L,"touchmove",function(){b.Lk=!0})},fh8=function(b){var L;
return((L=g.T(b,g.jz))==null?0:L.url)?g.T(b,g.jz).url:(b=g.T(b,g.O6))&&b.videoId?(L="/watch?v="+b.videoId,b.playlistId&&(L+="&list="+b.playlistId),b.index&&(L+="&index="+b.index),b.startTimeSeconds&&(L+="&t="+b.startTimeSeconds),L):null},fF=function(b,L,q){return{IY:(b.impressionLoggingUrlsV2s||[]).map(function(V){return V.baseUrl||""}),
click:(q.loggingUrls||[]).map(function(V){return V.baseUrl||""}),
close:(L.dismissLoggingUrlsV2s||[]).map(function(V){return V.baseUrl||""}),
W3:(L.impressionLoggingUrlsV2s||[]).map(function(V){return V.baseUrl||""}),
x9:(L.clickLoggingUrlsV2s||[]).map(function(V){return V.baseUrl||""})}},JJW=function(b,L,q){sJ.call(this,L,q);
var V=this;this.W=b;this.eventId=null;this.Fv=this.Hx=this.cM=this.B=this.isInitialized=!1;this.cards=[];this.jO=this.X=this.Qc=this.J=this.uc=this.U=null;this.Ls=[];this.yc=this.V=this.l1=this.Wx=null;this.Y=0;this.eP=new g.Xw(function(){},q.N.MV?4E3:3E3);
g.A(this,this.eP);this.N0=new g.Xw(function(){});
g.A(this,this.N0);this.Dr=new lhW(q,function(Q,G,R,h,d,O){XH(V,Q,G,R,h,d,O)});
this.Uo=new g.C({D:"div",G:"iv-drawer",S:{id:"iv-drawer"},Z:[{D:"div",G:"iv-drawer-header",S:{"aria-role":"heading"},Z:[{D:"span",G:"iv-drawer-header-text"},{D:"button",JV:["iv-drawer-close-button","ytp-button"],S:{"aria-label":"Hide cards",tabindex:"0"}}]},{D:"div",G:"iv-drawer-content"}]});g.A(this,this.Uo);this.j=this.Uo.element;this.gC=new g.q5(this.Uo,330);g.A(this,this.gC);this.Xv=g.wh("iv-drawer-header-text",this.j);this.L=g.wh("iv-drawer-content",this.j);this.addCueRange(0,q.videoData.lengthSeconds*
1E3,"",function(){V.cM&&JC(V,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(V.cM=V.B)&&UJ(V)});
this.Eo=new g.OO(this);g.A(this,this.Eo);this.W.addEventListener("videodatachange",this.L4.bind(this))},UHb=function(b,L){L=L.data;
L.autoOpenMs&&b.addCueRange(L.autoOpenMs,0x8000000000000,"",function(){JC(b,"YOUTUBE_DRAWER_AUTO_OPEN")});
L.autoCloseMs&&b.addCueRange(L.autoCloseMs,0x8000000000000,"",function(){UJ(b)});
var q=L.headerText;g.rh(b.Xv,q);b.X&&(b.W.T("player_tooltip_data_title_killswitch")?b.X.setAttribute("title",q):b.X.setAttribute("data-tooltip-title",q));L.eventId&&(b.eventId=L.eventId);b.Wx=g.eW(L.trackingParams);b.V=g.eW(L.closeTrackingParams);b.l1=g.eW(L.iconTrackingParams)},biR=function(b,L){var q=L.cardId?L.cardId:"cr:"+b.Y,V=b.W.C().experiments.Zr("enable_error_corrections_infocard_web_client");
if(!L.content&&L.teaser.simpleCardTeaserRenderer&&V){var Q=L.teaser.simpleCardTeaserRenderer,G=L.icon?L.icon.infoCardIconRenderer:null;if(Q.channelAvatar&&Q.channelAvatar.thumbnails&&Q.channelAvatar.thumbnails.length>0)var R=bR(Q.channelAvatar.thumbnails,22,22).url;L={id:q,timestamp:b.Y,type:"simple",teaserText:g.E9(Q.message),teaserDurationMs:Number(L.cueRanges[0].teaserDurationMs),startMs:Number(L.cueRanges[0].startCardActiveMs),autoOpen:!!L.autoOpen,sessionData:{},sponsored:!1,Iu:{},Xk:null,h5:Q.trackingParams?
g.eW(Q.trackingParams):null,l1:G&&G.trackingParams?g.eW(G.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,XP:null,title:"",customMessage:"",url:null,onClickCommand:Q.onTapCommand||null,Rw:R};L2(b,L)}else{var h;if((h=L.content)==null?0:h.simpleCardContentRenderer){if(!L.cueRanges.length)return;R=(Q=L.content)==null?void 0:Q.simpleCardContentRenderer;Q=L.teaser.simpleCardTeaserRenderer;G=L.icon?L.icon.infoCardIconRenderer:null;L={id:q,timestamp:b.Y,type:"simple",teaserText:g.E9(Q.message),
teaserDurationMs:Number(L.cueRanges[0].teaserDurationMs),startMs:Number(L.cueRanges[0].startCardActiveMs),autoOpen:!!L.autoOpen,sessionData:q1(b,q,L,R),sponsored:!1,Iu:fF(R,Q,R.command),Xk:R.trackingParams?g.eW(R.trackingParams):null,h5:Q.trackingParams?g.eW(Q.trackingParams):null,l1:G&&G.trackingParams?g.eW(G.trackingParams):null,imageUrl:bR(R.image.thumbnails,290,290).url,displayDomain:R.displayDomain?g.E9(R.displayDomain):null,showLinkIcon:!!R.showLinkIcon,XP:null,title:R.title?g.E9(R.title):"",
customMessage:R.callToAction?g.E9(R.callToAction):"",url:g.T(R.command,g.jz).url?lZ({pause_on_navigation:!b.context.videoData.isLivePlayback,target:"new",value:g.T(R.command,g.jz).url}):null,onClickCommand:null};L2(b,L)}else{var d;if((d=L.content)==null?0:d.collaboratorInfoCardContentRenderer){if(!L.cueRanges.length)return;R=(G=L.content)==null?void 0:G.collaboratorInfoCardContentRenderer;Q=L.teaser.simpleCardTeaserRenderer;G=L.icon?L.icon.infoCardIconRenderer:null;L={id:q,timestamp:b.Y,type:"collaborator",
teaserText:g.E9(Q.message),teaserDurationMs:Number(L.cueRanges[0].teaserDurationMs),startMs:Number(L.cueRanges[0].startCardActiveMs),autoOpen:!!L.autoOpen,sessionData:q1(b,q,L,R),sponsored:!1,Iu:fF(R,Q,R.endpoint),Xk:R.trackingParams?g.eW(R.trackingParams):null,h5:Q.trackingParams?g.eW(Q.trackingParams):null,l1:G&&G.trackingParams?g.eW(G.trackingParams):null,channelId:g.T(R.endpoint,g.ju).browseId,customMessage:R.customText?g.E9(R.customText):null,profileImageUrl:bR(R.channelAvatar.thumbnails,290,
290).url,title:R.channelName?g.E9(R.channelName):"",metaInfo:[R.subscriberCountText?g.E9(R.subscriberCountText):""],url:lZ({pause_on_navigation:!b.context.videoData.isLivePlayback,target:"new",value:g.T(R.endpoint,g.ju).canonicalBaseUrl?g.T(R.endpoint,g.ju).canonicalBaseUrl:"/channel/"+g.T(R.endpoint,g.ju).browseId}),onClickCommand:null};L2(b,L)}else{var O;if((O=L.content)==null?0:O.playlistInfoCardContentRenderer){if(!L.cueRanges.length)return;var B;R=(B=L.content)==null?void 0:B.playlistInfoCardContentRenderer;
Q=L.teaser.simpleCardTeaserRenderer;G=L.icon?L.icon.infoCardIconRenderer:null;L={id:q,timestamp:b.Y,type:"playlist",teaserText:g.E9(Q.message),teaserDurationMs:Number(L.cueRanges[0].teaserDurationMs),startMs:Number(L.cueRanges[0].startCardActiveMs),autoOpen:!!L.autoOpen,sessionData:q1(b,q,L,R),sponsored:!1,Iu:fF(R,Q,R.action),Xk:R.trackingParams?g.eW(R.trackingParams):null,h5:Q.trackingParams?g.eW(Q.trackingParams):null,l1:G&&G.trackingParams?g.eW(G.trackingParams):null,cS:bR(R.playlistThumbnail.thumbnails,
258,290).url,customMessage:R.customMessage?g.E9(R.customMessage):null,playlistVideoCount:g.E9(R.playlistVideoCount),title:R.playlistTitle?g.E9(R.playlistTitle):"",metaInfo:[R.channelName?g.E9(R.channelName):"",R.videoCountText?g.E9(R.videoCountText):""],url:lZ({pause_on_navigation:!b.context.videoData.isLivePlayback,target:"new",value:fh8(R.action)}),onClickCommand:null};L2(b,L)}else{var E;if((E=L.content)==null?0:E.videoInfoCardContentRenderer){if(!L.cueRanges.length)return;var F;R=(F=L.content)==
null?void 0:F.videoInfoCardContentRenderer;Q=L.teaser.simpleCardTeaserRenderer;G=L.icon?L.icon.infoCardIconRenderer:null;L={id:q,timestamp:b.Y,type:"video",teaserText:g.E9(Q.message),teaserDurationMs:Number(L.cueRanges[0].teaserDurationMs),startMs:Number(L.cueRanges[0].startCardActiveMs),autoOpen:!!L.autoOpen,sessionData:q1(b,q,L,R),sponsored:!1,Iu:fF(R,Q,R.action),Xk:R.trackingParams?g.eW(R.trackingParams):null,h5:Q.trackingParams?g.eW(Q.trackingParams):null,l1:G&&G.trackingParams?g.eW(G.trackingParams):
null,cS:bR(R.videoThumbnail.thumbnails,258,290).url,videoDuration:R.lengthString?g.E9(R.lengthString):null,customMessage:R.customMessage?g.E9(R.customMessage):null,title:R.videoTitle?g.E9(R.videoTitle):"",metaInfo:[R.channelName?g.E9(R.channelName):"",R.viewCountText?g.E9(R.viewCountText):""],isLiveNow:!!R.badge,url:lZ({pause_on_navigation:!b.context.videoData.isLivePlayback,target:"new",value:fh8(R.action)}),onClickCommand:null};L2(b,L)}}}}}b.Y++},bR=function(b,L,q){for(var V=-1,Q=-1,G=0;G<b.length;G++){if(b[G].height===
L||b[G].width===q)return b[G];
((b[G].height||0)<L||(b[G].width||0)<q)&&(V<0||(b[V].height||0)<(b[G].height||0)||(b[V].width||0)<(b[G].width||0))?V=G:((b[G].height||0)>=L||(b[G].width||0)>=q)&&(Q<0||(b[Q].height||0)>(b[G].height||0)||(b[Q].width||0)>(b[G].width||0))&&(Q=G)}return b[Q>=0?Q:V]},q1=function(b,L,q,V){return{feature:q.feature?q.feature:"cards",
src_vid:b.context.videoData.videoId,annotation_id:L,ei:b.context.videoData.eventId||"",itct:V.trackingParams||""}},qfQ=function(b,L){if(L=L9q(b,L))L===b.U&&(b.U=null),b.W.removeCueRange(L.EN.id),g.tw(L.ey),g.J_(b.cards,L),b.dE(),Vd(b)},JC=function(b,L,q){if(!b.B){b.gC.show();
b.uc=new g.Xw(function(){g.Rn(b.context.W.getRootNode(),g.ir.IV_DRAWER_OPEN)},0);
b.uc.start();b.Eo.K(b.L,"mousewheel",function(R){b.eP.start();R.preventDefault();R=R||window.event;var h=0;R.type=="MozMousePixelScroll"?h=0==(R.axis==R.HORIZONTAL_AXIS)?R.detail:0:window.opera?h=R.detail:h=R.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?R.wheelDeltaY/-30:R.wheelDeltaY/-1.2:R.wheelDelta/-1.6:R.wheelDeltaY/-3;if(R=h)b.L.scrollTop+=R});
b.B=!0;var V=g.wt();V&&b.Wx&&b.V&&g.UE(V,[b.Wx,b.V]);L={TRIGGER_TYPE:L};for(var Q=g.x(b.cards),G=Q.next();!G.done;G=Q.next())G=G.value,G.dG||(G.dG=!0,Vdy(b.context.logger,G.EN.Iu.IY,L)),V&&g.UE(V,[G.EN.Xk]);Hu(b.W);q&&(b.J=new g.Xw(function(){b.Qc=b.X;b.jO.focus()},330),b.J.start())}},UJ=function(b){b.B&&(b.gC.hide(),g.Dw(b.Eo),g.on(b.context.W.getRootNode(),g.ir.IV_DRAWER_OPEN),b.B=!1,Hu(b.W),b.J&&b.J.stop(),b.J=new g.Xw(function(){b.Qc&&(b.Qc.focus(),b.Qc=null)},330),b.J.start())},QVs=function(b){g.NG(b.IE(),
[g.ir.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.lt(b.W,b.j,5);b.gH();b.X=g.wh("ytp-cards-button",b.W.getRootNode());b.jO=g.wh("iv-drawer-close-button",b.j);b.isInitialized=!0},NhW=function(b){b.Ls.push(g.Vk("iv-teaser-shown",b.QB,b));
b.Ls.push(g.Vk("iv-teaser-hidden",b.pMc,b));b.Ls.push(g.Vk("iv-teaser-clicked",b.cT,b));b.Fv=!0},oV_=function(b,L){var q;
return L.onClickCommand&&((q=g.T(L.onClickCommand,g.u28))==null?void 0:q.targetId)==="engagement-panel-error-corrections"?(b.yc=L,!0):!1},h1q=function(b,L){b.yc=L;
var q=b.W.getVideoData();if(!q)return!1;q=g.Pt(q);if(q==null?0:q.markersMap)for(var V,Q=0;((V=q)==null?void 0:V.markersMap.length)>Q;Q++){var G=void 0,R=(G=q)==null?void 0:G.markersMap[Q];if(R.key==="ERROR_CORRECTION_MARKERS"&&(G=void 0,(R=(G=R.value)==null?void 0:G.markers)&&R.length>0))return V=void 0,L.startMs=((V=g.T(R[0],g.eRJ))==null?void 0:V.timeRangeStartMillis)||0,b.yc=null,!0}return!1},L2=function(b,L){if(!oV_(b,L)||h1q(b,L)){var q=dIq(b,L);
if(q){var V={EN:L,ey:q.element,dG:!1};if(L.onClickCommand)b.W.T("web_infocards_teaser_show_logging_fix")&&(b.Fv||NhW(b),qfQ(b,L.id),q=b.findLastIndex(V),g.ND(b.cards,q,0,V));else{b.isInitialized||QVs(b);qfQ(b,L.id);var Q=b.findLastIndex(V);g.ND(b.cards,Q,0,V);q.ID(b.L,Q);b.dE()}L.autoOpen?b.addCueRange(L.startMs,0x8000000000000,L.id,function(){b.B||(b.U=V,Vd(b),Oiq(b,V),JC(b,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(q=b.context.W.getCurrentTime()*1E3,q<5E3&&q>L.startMs&&Bhs(b,V),b.addCueRange(L.startMs,
L.startMs+1,L.id,function(){Bhs(b,V)}),Vd(b))}}},dIq=function(b,L){switch(L.type){case "simple":b=b.Dr;
var q=L.displayDomain?{D:"div",G:"iv-card-image-text",rC:L.displayDomain}:void 0;var V=CEb(L);q={D:"div",JV:["iv-card"],Z:[{D:"a",G:"iv-click-target",S:{href:L.url?km(L.url)||"":""},Z:[Ym(L.imageUrl,q),{D:"div",G:"iv-card-content",Z:[AC("h2",void 0,L.title),V]}]}]};q=new g.C(q);CF(b,g.TE("iv-click-target",q.element),L,L.url);L=q;break;case "collaborator":b=b.Dr;q={D:"div",JV:["iv-card","iv-card-channel"],Z:[{D:"a",JV:["iv-click-target"],S:{href:km(L.url)||"","data-ytid":L.channelId},Z:[Ym(L.profileImageUrl),
{D:"div",G:"iv-card-content",Z:[AJ_(L),{D:"h2",G:"iv-card-primary-link",rC:L.title},YpT(L)]}]}]};q=new g.C(q);CF(b,g.TE("iv-click-target",q.element),L,L.url);L=q;break;case "playlist":b=b.Dr;q={D:"div",JV:["iv-card","iv-card-playlist"],Z:[{D:"a",G:"iv-click-target",S:{href:km(L.url)||""},Z:[Ym(L.cS,{D:"div",G:"iv-card-image-overlay",Z:[{D:"span",G:"iv-card-playlist-video-count",rC:L.playlistVideoCount}]}),{D:"div",G:"iv-card-content",Z:[AJ_(L),AC("h2","iv-card-primary-link",L.title),YpT(L)]}]}]};
q=new g.C(q);CF(b,g.TE("iv-click-target",q.element),L,L.url);L=q;break;case "productListing":b=b.Dr;var Q=L.offers.length!=0;q=["iv-card"];V="";var G=CEb(L);Q&&(q.push("iv-card-product-listing"),V="iv-card-primary-link",G=L.offers[0],Q=[],G.price&&Q.push({D:"div",G:"iv-card-offer-price",rC:G.price}),G.merchant&&Q.push({D:"div",G:"iv-card-offer-merchant",rC:G.merchant}),G={D:"div",Z:Q});Q=L.url?km(L.url)||"":"";q={D:"div",JV:q,S:{tabindex:"0"},Z:[{D:"a",JV:["iv-card-image","iv-click-target"],S:{style:"background-image: url("+
L.imageUrl+");",href:Q,"aria-hidden":"true",tabindex:"-1"}},{D:"div",G:"iv-card-content",Z:[L.sponsored?{D:"div",G:"iv-card-sponsored",Z:["Sponsored",{D:"div",G:"iv-ad-info-container",Z:[{D:"div",G:"iv-ad-info",rC:"{{adInfo}}"},{D:"div",G:"iv-ad-info-icon-container",Z:[{D:"div",G:"iv-ad-info-icon"},{D:"div",G:"iv-ad-info-callout"}]}]}]}:"",{D:"a",G:"iv-click-target",S:{href:Q},Z:[AC("h2",V,L.title),G]}]}]};q=new g.C(q);V=g.zE("span");g.rh(V,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
q.setContent(V,"adInfo");CF(b,g.TE("iv-click-target",q.element),L,L.url);L=q;break;case "video":b=b.Dr;V=L.videoDuration?{D:"span",G:"iv-card-video-duration",rC:L.videoDuration}:void 0;G=L.isLiveNow?{D:"span",JV:["yt-badge","yt-badge-live"],rC:"LIVE NOW"}:null;Q={D:"div",JV:["iv-card","iv-card-video"],Z:[{D:"a",G:"iv-click-target",S:{href:((q=L.url)==null?void 0:km(q))||""},Z:[Ym(L.cS,V),{D:"div",G:"iv-card-content",Z:[AJ_(L),AC("h2","iv-card-primary-link",L.title),YpT(L),G]}]}]};q=new g.C(Q);CF(b,
g.TE("iv-click-target",q.element),L,L.url);L=q;break;default:return null}return L},EVF=function(b){if(b.U)return b.U.EN.type==="productListing";
if(b.W.T("enable_wn_infocards")){var L;return!((L=b.cards)==null||!L.length)&&g.iD(b.cards,function(q){return q.EN.type==="productListing"})}return g.iD(b.cards,function(q){return q.EN.type==="productListing"})},Vd=function(b){g.dE(b.W.getRootNode(),"ytp-cards-shopping-active",EVF(b))},Bhs=function(b,L){if(!g.GG(b.W.getRootNode(),"ytp-cards-teaser-shown")){if(b.U!==L){var q=g.wt(),V=b.U?b.U.EN.l1:b.l1;
q&&V&&g.bb(q,[V]);b.U=L;Vd(b)}(q=b.isInitialized&&b.IE().style.display=="none")||(q=b.context.W.getPlayerState(),V=q===0&&b.context.W.getCurrentTime()===0,q=!(q===1||q===3||V));if(!q&&L.EN.teaserDurationMs){var Q;q={teaserText:L.EN.teaserText,durationMs:L.EN.teaserDurationMs,onClickCommand:L.EN.onClickCommand,Rw:(Q=L.EN.Rw)!=null?Q:null};b.W.xM(!0,q)}b.N0.isActive()||((!b.B||!b.eP.isActive()&&b.Hx)&&Oiq(b,L),b.N0.start(910+L.EN.teaserDurationMs))}},Oiq=function(b,L){b.Uo.xf?(L=new vu([0,
b.L.scrollTop],[0,L.ey.offsetTop],600,e3W),b.context.B.listen(L,"animate",function(q){b.L.scrollTop=q.y}),b.context.B.listen(L,"finish",function(q){b.L.scrollTop=q.y}),L.play()):(b.Uo.Ck(!0),b.L.scrollTop=L.ey.offsetTop,b.Uo.Ck(!1))},Qd=function(b){return b.U&&b.U.EN?b.U.EN:b.cards[0]&&b.cards[0].EN?b.cards[0].EN:null},L9q=function(b,L){return g.A_(b.cards,function(q){return q.EN.id===L})},Ge=function(b,L,q){sJ.call(this,b,L);
this.annotation=q;this.isActive=!1},F9R=function(b){var L=b.annotation.data;
"start_ms"in L&&"end_ms"in L&&b.addCueRange(Number(L.start_ms),Number(L.end_ms),b.annotation.id,function(){b.show()},function(){b.hide()})},Rl=function(b,L,q){Ge.call(this,b,L,q);
this.U=null;this.B=!1;this.L=null},pKW=function(b,L){var q=q===void 0?0:q;
var V=oYb(L).width;g.dO(L,V);q=new psW(L,[V,L.offsetTop],[V-V-q,L.offsetTop],200,M3q);g.A(b,q);b.context.B.listen(q,"begin",function(){g.MR(L,!0)});
q.play()},Mdw=function(b,L,q,V,Q,G,R){this.U=b;
this.B=L;this.N=q;this.videoData=V;this.logger=Q;this.W=G;this.L=R},e1q=function(b,L,q){Ge.call(this,b,L,q);
var V=this;this.V=this.isCollapsed=this.Uo=!1;this.J=5E3;this.L=this.B=this.U=this.j=null;this.Y=this.createElement({D:"div",JV:["iv-promo-contents"]});this.X=new g.Xw(function(){V.U.setAttribute("aria-hidden","true");g.MR(V.B,!1);g.MR(V.L,!0)},700,this);
g.A(this,this.X)},Ziq=function(b){var L=b.annotation.data;
if(b.annotation.style==="cta")var q=6;else if(b.annotation.style==="video"||b.annotation.style==="playlist")q=7;b.J=L.collapsedelay_ms||b.J;var V=["iv-promo","iv-promo-inactive"];b.IE().setAttribute("aria-hidden","true");b.IE().setAttribute("aria-label","Promotion");b.IE().tabIndex=0;var Q=b.annotation.Oy(),G=L.image_url;if(G){var R=b.createElement({D:"div",JV:["iv-promo-img","iv-click-target"]});G=b.createElement({D:"img",S:{src:G,"aria-hidden":"true"}});R.appendChild(G);L.video_duration&&!L.is_live?
(G=b.createElement({D:"span",G:"iv-promo-video-duration",rC:L.video_duration}),R.appendChild(G)):L.playlist_length&&(G=b.createElement({D:"span",G:"iv-promo-playlist-length",rC:L.playlist_length.toString()}),R.appendChild(G));Q&&XH(b,R,Q,b.annotation.id,L.session_data,void 0,q)}Q?(G=b.createElement({D:"a",G:"iv-promo-txt"}),g.Hs(G,km(Q)),b.U=G):b.U=b.createElement({D:"div",G:"iv-promo-txt"});switch(b.annotation.style){case "cta":case "website":var h=b.createElement({D:"p",Z:[{D:"strong",rC:L.text_line_1}]});
var d=b.createElement({D:"p",Z:[{D:"span",G:"iv-promo-link",rC:L.text_line_2}]});if(G=L.text_line_3){V.push("iv-promo-website-card-cta-redesign");var O=b.createElement({D:"button",JV:["iv-promo-round-expand-icon","ytp-button"]});G=b.createElement({D:"button",JV:["iv-button","iv-promo-button"],Z:[{D:"span",G:"iv-button-content",rC:G}]});var B=b.createElement({D:"div",G:"iv-promo-button-container"});B.appendChild(G);Q&&XH(b,b.IE(),Q,b.annotation.id,L.session_data,void 0,q)}g.Rn(b.U,"iv-click-target");
Q&&XH(b,b.U,Q,b.annotation.id,L.session_data,void 0,q);break;case "playlist":case "video":h=b.createElement({D:"p",Z:[{D:"span",rC:L.text_line_1}]}),d=b.createElement({D:"p",Z:[{D:"strong",rC:L.text_line_2}]}),L.is_live&&(h=d,d=b.createElement({D:"span",JV:["yt-badge","iv-promo-badge-live"],rC:"LIVE NOW"})),g.Rn(b.U,"iv-click-target"),Q&&XH(b,b.U,Q,b.annotation.id,L.session_data,void 0,q),V.push("iv-promo-video")}h&&b.U.appendChild(h);d&&b.U.appendChild(d);b.Y.appendChild(b.U);B&&b.Y.appendChild(B);
q=b.createElement({D:"div",G:"iv-promo-actions"});b.L=b.createElement({D:"button",JV:["iv-promo-expand","ytp-button"]});b.L.title="Expand";b.context.U.listen(b.L,"click",function(E){Th_(b,5E3,E)});
q.appendChild(b.L);g.MR(b.L,!1);b.context.U.listen(b.IE(),"mouseover",b.hXo,b);b.context.U.listen(b.IE(),"mouseout",b.zN,b);b.context.U.listen(b.IE(),"touchend",function(E){Th_(b,5E3,E)});
b.B=b.createElement({D:"button",JV:["iv-promo-close","ytp-button"]});b.B.title="Close";b.context.U.listen(b.B,"click",b.annotation.style==="cta"&&L.text_line_3?b.lQ:b.VU,b);q.appendChild(b.B);g.NG(b.IE(),V);R&&(g.Ki(b.IE(),R),O&&R.appendChild(O));g.Ki(b.IE(),b.Y);g.Ki(b.IE(),q)},Th_=function(b,L,q){q.stopPropagation();
ywQ(b);wKw(b,L);b.U.focus()},Sfw=function(b){b.isCollapsed||b.V||b.j||(g.Rn(b.IE(),"iv-promo-collapsed"),b.isCollapsed=!0,b.X.start())},ywQ=function(b){b.X.stop();
b.isCollapsed&&(g.hS(b.IE(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),b.isCollapsed=!1,b.U&&b.U.removeAttribute("aria-hidden"),g.MR(b.L,!1),g.MR(b.B,!0))},wKw=function(b,L){b.j||(b.j=g.DK(function(){Ij_(this);
Sfw(this)},L,b))},Ij_=function(b){b.j&&(g.wW.clearTimeout(b.j),b.j=null)},W98=function(b){this.W=b},Vdy=function(b,L,q){L&&(q?N1(b,L.map(function(V){return g.vx(V,q)})):N1(b,L))},N1=function(b,L,q,V){var Q=1,G=void 0,R=-1;
if(q){var h=!1;G=function(){Q--;Q||h||(clearTimeout(R),h=!0,q())};
R=setTimeout(function(){h=!0;q()},1E3)}L=g.x(L||[]);
for(var d=L.next();!d.done;d=L.next())d=d.value,Q++,g.uS(d,G);V&&(Q++,V!==0&&b.W.sendVideoStatsEngageEvent(V,G))},gVs=function(b){g.Eg.call(this,b);
var L=this;this.Ls=this.V=!1;this.loadNumber=0;this.Y={};this.logger=new W98(this.player);this.X=new g.OO(this);this.J=this.j=null;this.events=new g.OO(this);this.Vt=this.Uo=this.U=null;this.yc=[];g.A(this,this.X);this.X.K(this.player,"onVideoAreaChange",function(){L.publish("onVideoAreaChange")});
this.X.K(this.player,"onHideControls",function(){L.publish("onHideControls")});
this.X.K(this.player,"onShowControls",function(){L.publish("onShowControls")});
this.X.K(this.player,"resize",function(G){L.publish("resize",G)});
this.X.K(this.player,"presentingplayerstatechange",function(G){L.publish("presentingplayerstatechange",G)});
this.subscribe("presentingplayerstatechange",this.OC,this);this.subscribe("resize",this.O3,this);this.player.C().Hx.subscribe("vast_info_card_add",this.cK,this);g.A(this,this.events);this.Dr=this.createElement({D:"div",G:"video-custom-annotations"});this.L=new g.C({D:"div",JV:["ytp-player-content","ytp-iv-player-content"]});g.A(this,this.L);g.lt(this.player,this.L.element,4);this.L.hide();this.B=new g.C({D:"div",JV:["ytp-iv-video-content"]});g.A(this,this.B);b=this.createElement({D:"div",G:"video-annotations"});
b.appendChild(this.Dr);this.B.element.appendChild(b);this.oo()?this.load():this.player.T("web_fix_annotations")&&(this.j=function(){L.loaded||L.RD()||!L.oo()||($Ib(L),L.load())},this.player.addEventListener("videodatachange",this.j));
var q=this.createElement({D:"style"});(g.ed("HEAD")[0]||document.body).appendChild(q);this.addOnDisposeCallback(function(){g.tw(q)});
if(b=q.sheet){for(var V=g.x(HiT),Q=V.next();!Q.done;Q=V.next())b.insertRule(Q.value,0);V=g.x(z1y);for(Q=V.next();!Q.done;Q=V.next())b.insertRule(Q.value,0)}},K9W=function(b){b=b.createElement({D:"div",
JV:["annotation","annotation-type-custom"]});g.MR(b,!1);return b},iiq=function(b){var L=b.player.C();
b=b.player.getVideoData();return(L.annotationsLoadPolicy||b.annotationsLoadPolicy)===1&&!b.q9||L.Hx.get(b.videoId)||g.YX(b)||g.Cx(b)?!0:!1},DIW=function(b,L){function q(h){var d=b.loadNumber;
b.J=null;b.loaded&&b.loadNumber===d&&b.player.getVideoData().videoId===V&&(h=g.ZH(h)&&h.responseXML?h.responseXML:null)&&(vV_(b,h),g.Rn(b.player.getRootNode(),"iv-module-loaded"))}
var V=L.videoId;g.QX()&&(q=xI8(b,q));var Q={format:"XML",onFinish:q,onError:function(){b.J=null},
urlParams:{}};L.isPharma&&(Q.urlParams.pharma="1");Q.method="POST";Q.withCredentials=!0;var G=b.player.C().Hx.get(V);G&&tdw(Q,G);var R=G&&(G.oX||G.RX);(G==null?0:G.oX)&&Math.random()<g.Xo(b.player.C().experiments,"annotation_module_vast_cards_load_logging_fraction")&&g.vF(new g.dU("Unexpected call to loadVastInfoCards; Attempting to load annotations via cardsXml."));if(!L.bO||R)L.Vp?(Math.random()<g.Xo(b.player.C().experiments,"annotation_module_vast_cards_load_logging_fraction")&&g.vF(new g.dU("Unexpected call to loadVastInfoCards; Attempting to load annotations via invideo URL.")),
ajb(b,L.Vp,Q)):(b.j=function(){if(!b.V)b.onVideoDataChange(Q);var h=b.player.getVideoData();(h==null?0:g.A6(h))&&!b.Ls&&rwq(b,h)},b.player.addEventListener("videodatachange",b.j))},jVW=function(b,L){L=!L.isCued()&&!g.X(L,1024);
b.L.Ck(L);b.B.Ck(L)},ajb=function(b,L,q){b.V=!0;
b.J=g.xj(L,q)},$Ib=function(b){b.j&&(b.player.removeEventListener("videodatachange",b.j),b.j=null)},u9R=function(b,L){for(var q={},V=g.x(L.attributes),Q=V.next();!Q.done;Q=V.next())Q=Q.value,q[Q.name]=Q.nodeValue;
for(V=0;V<L.childNodes.length;V++)if(Q=L.childNodes[V],g.iq(Q)&&Q.nodeType==1){if(q[Q.tagName])var G=q[Q.tagName];else if(Q.tagName==="data"){Q.childNodes.length>0&&(G=Q.childNodes[0].nodeValue,q[Q.tagName]=typeof G==="string"?G.trim():G);continue}else G=[],q[Q.tagName]=G;Q&&Q.tagName==="TEXT"?Q.childNodes.length===1&&Q.childNodes[0].nodeType===3?G.push(Q.childNodes[0].nodeValue):G.push(""):Q&&G.push(u9R(b,Q))}return q},cw8=function(b){var L=b.player.getVideoData();
if(L.Vp){var q=b.player.C().Hx.get(L.videoId);if(q){var V={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(Q,G,R){Q=b.loadNumber;G=L.videoId;b.loaded&&b.loadNumber===Q&&b.player.getVideoData().videoId===G&&(R=g.ZH(R)&&R.responseXML?R.responseXML:null)&&vV_(b,R)}};
g.QX()&&(V.onFinish=xI8(b,V.onFinish));V.postParams={ic_only:"1"};tdw(V,q);b.V=!0;g.xj(L.Vp,V)}}},tdw=function(b,L){b.method="POST";
b.postParams=b.postParams||{};L.RX&&(b.postParams.ic_coll=L.RX);L.oX&&(b.postParams.ic_xml=L.oX);L.f8&&(b.postParams.ic_track=L.f8)},P5q=function(b){var L=new g.C({D:"div"});
g.MR(L.element,!1);var q=new JJW(b.player,L.element,ol(b));g.A(q,L);L.ID(b.L.element);q.yq();return q},rwq=function(b,L){var q,V;
if(L=(q=L.getWatchNextResponse())==null?void 0:(V=q.cards)==null?void 0:V.cardCollectionRenderer)b.Ls=!0,nVW(b,L),L.headerText&&b.Vt&&(q=g.E9(L.headerText),b.player.T("player_tooltip_data_title_killswitch")?b.Vt.setAttribute("title",q):b.Vt.setAttribute("data-tooltip-title",q))},ol=function(b){if(!b.Uo){var L=new TeF(b);
g.A(b,L);var q=new g.My(b);g.A(b,q);b.Uo=new Mdw(L,q,b.player.C(),b.player.getVideoData(),b.logger,b.player,b.mS)}return b.Uo},vV_=function(b,L){var q=!1,V=L.getElementsByTagName("annotations");
if(V&&!(V.length<1)&&(V=V[0].getAttribute("itct"))){var Q=g.wt();if(Q){var G=g.yA();G&&g.Q9(g.ku)(void 0,Q,G,[g.eW(V)])}}L=L.getElementsByTagName("annotation");for(V=0;V<L.length;V++){G=u9R(b,L[V]);Q=null;try{if(G){var R=G.id,h=/.+/;var d=typeof R==="string"&&h!=null&&R!=null&&R.match(h)?R:"";var O=nF(G.type,kE_),B=nF(G.style,ljs),E=ah_(G.data),F=E.length!==0?JSON.parse(E):{};var p=G.action;G=PEy;if(p==null)var M=null;else if(g.gW(p)){h=[];for(var y=g.x(p),S=y.next();!S.done;S=y.next()){var v=G(S.value);
v&&h.push(v)}M=h}else{var K=G(p);M=K?[K]:[]}Q=d&&O?new nYq(d,O,B,M,F):null}else Q=null}catch(L3){}if(Q)if(Q.type==="branding"||Q.type==="promotion"){G=b;h=Q;var t=K9W(G),r=null;switch(h.type){case "branding":if(G.player.C().c5)break;G.player.T("web_player_overlay_positioned_layout")?(t.setAttribute("data-overlay-order","11"),G.player.Rb(t,4,!0)):G.L.element.appendChild(t);r=new Rl(t,ol(G),h);break;case "promotion":g.lt(G.player,t,4),r=new e1q(t,ol(G),h)}r&&r.yq();if(G=r)g.A(b,G),b.Y[Q.id]=G}else if(Q.type===
"card"||Q.type==="drawer"){b.U||(b.U=P5q(b),g.A(b,b.U));if(Q.type==="card"){t=b.U;var k=(q=Q)&&q.data&&q.data.card_type;Q=q.data;if(k)switch(G=Q.tracking||{},G={IY:G.impression,click:G.click,close:G.close,W3:G.teaser_impression,x9:G.teaser_click},h=Q.tracking_params||{},r=null,k){case "collaborator":q={id:q.id,timestamp:Q.timestamp||0,type:Q.card_type,teaserText:Q.teaser_text,teaserDurationMs:Q.teaser_duration_ms,startMs:Q.start_ms,autoOpen:Q.auto_open||!1,sessionData:Q.session_data||{},sponsored:Q.sponsored||
!1,Iu:G,Xk:h.card?g.eW(h.card):null,h5:h.teaser?g.eW(h.teaser):null,l1:h.icon?g.eW(h.icon):null,channelId:Q.channel_id,customMessage:Q.custom_message?Q.custom_message:null,profileImageUrl:Q.image_url,title:Q.title,metaInfo:Q.meta_info,url:lZ({pause_on_navigation:Q.pause_on_navigation,target:Q.target||"new",value:Q.url}),onClickCommand:null};L2(t,q);break;case "playlist":q={id:q.id,timestamp:Q.timestamp||0,type:Q.card_type,teaserText:Q.teaser_text,teaserDurationMs:Q.teaser_duration_ms,startMs:Q.start_ms,
autoOpen:Q.auto_open||!1,sessionData:Q.session_data||{},sponsored:Q.sponsored||!1,Iu:G,Xk:h.card?g.eW(h.card):null,h5:h.teaser?g.eW(h.teaser):null,l1:h.icon?g.eW(h.icon):null,cS:Q.image_url,playlistVideoCount:Q.playlist_video_count,customMessage:Q.custom_message?Q.custom_message:null,title:Q.title,metaInfo:Q.meta_info,url:lZ({pause_on_navigation:Q.pause_on_navigation,target:Q.target||"new",value:Q.url}),onClickCommand:null};L2(t,q);break;case "productListing":Q.signin_url&&(r=lZ({target:"current",
value:Q.signin_url}));k=[];for(var n=Q.offers||[],G$=0;G$<n.length;G$++)k.push(new mHW(g.YY(n[G$].merchant),g.YY(n[G$].price)));q={id:q.id,timestamp:Q.timestamp||0,type:Q.card_type,teaserText:Q.teaser_text,teaserDurationMs:Q.teaser_duration_ms,startMs:Q.start_ms,autoOpen:Q.auto_open||!1,sessionData:Q.session_data||{},sponsored:Q.sponsored||!1,Iu:G,Xk:h.card?g.eW(h.card):null,h5:h.teaser?g.eW(h.teaser):null,l1:h.icon?g.eW(h.icon):null,imageUrl:Q.image_url,displayDomain:Q.display_domain?Q.display_domain:
null,showLinkIcon:!!Q.show_link_icon,XP:Q.button_icon_url?Q.button_icon_url:null,title:Q.title,customMessage:Q.custom_message?Q.custom_message:null,url:lZ({pause_on_navigation:Q.pause_on_navigation,target:Q.target||"new",value:Q.url}),xNs:r,tYV:Q.signin_title?Q.signin_title:void 0,Pac:Q.signin_message?Q.signin_message:void 0,offers:k,onClickCommand:null};L2(t,q);break;case "simple":q={id:q.id,timestamp:Q.timestamp||0,type:Q.card_type,teaserText:Q.teaser_text,teaserDurationMs:Q.teaser_duration_ms,
startMs:Q.start_ms,autoOpen:Q.auto_open||!1,sessionData:Q.session_data||{},sponsored:Q.sponsored||!1,Iu:G,Xk:h.card?g.eW(h.card):null,h5:h.teaser?g.eW(h.teaser):null,l1:h.icon?g.eW(h.icon):null,imageUrl:Q.image_url,displayDomain:Q.display_domain?Q.display_domain:null,showLinkIcon:!!Q.show_link_icon,XP:Q.button_icon_url?Q.button_icon_url:null,title:Q.title,customMessage:Q.custom_message?Q.custom_message:null,url:lZ({pause_on_navigation:Q.pause_on_navigation,target:Q.target||"new",value:Q.url}),onClickCommand:null};
L2(t,q);break;case "video":q={id:q.id,timestamp:Q.timestamp||0,type:Q.card_type,teaserText:Q.teaser_text,teaserDurationMs:Q.teaser_duration_ms,startMs:Q.start_ms,autoOpen:Q.auto_open||!1,sessionData:Q.session_data||{},sponsored:Q.sponsored||!1,Iu:G,Xk:h.card?g.eW(h.card):null,h5:h.teaser?g.eW(h.teaser):null,l1:h.icon?g.eW(h.icon):null,cS:Q.image_url,videoDuration:Q.video_duration||null,customMessage:Q.custom_message?Q.custom_message:null,title:Q.title,metaInfo:Q.meta_info,isLiveNow:!!Q.is_live_now,
url:lZ({pause_on_navigation:Q.pause_on_navigation,target:Q.target||"new",value:Q.url}),onClickCommand:null},L2(t,q)}}else UHb(b.U,Q);q=!0}}q&&(Hu(b.player),b.O3())},nVW=function(b,L){var q=!1;
b.U||(b.U=P5q(b),g.A(b,b.U));for(var V=g.x(L.cards||[]),Q=V.next();!Q.done;Q=V.next())Q=Q.value,Q.cardRenderer&&(biR(b.U,Q.cardRenderer),q=!0);if(q){var G;(G=b.player.getVideoData())!=null&&g.A6(G)||(q=b.U,V=L.headerText?g.E9(L.headerText):"",g.rh(q.Xv,V),q.X&&(q.W.T("player_tooltip_data_title_killswitch")?q.X.setAttribute("title",V):q.X.setAttribute("data-tooltip-title",V)),q.context.videoData.eventId&&(q.eventId=q.context.videoData.eventId),q.Wx=L.trackingParams?g.eW(L.trackingParams):null,q.V=
L.closeButton.infoCardIconRenderer.trackingParams?g.eW(L.closeButton.infoCardIconRenderer.trackingParams):null,q.l1=L.icon.infoCardIconRenderer.trackingParams?g.eW(L.icon.infoCardIconRenderer.trackingParams):null,b.O3());Hu(b.player)}},AwR=function(b,L,q,V,Q){if(!b.player.C().c5){var G=[];
L.navigationEndpoint&&g.T(L.navigationEndpoint,g.ju)&&g.T(L.navigationEndpoint,g.ju).browseId&&G.push(new jb_("openUrl","click",new rJF("/channel/"+g.T(L.navigationEndpoint,g.ju).browseId,"new",!0,!0)));var R=L.watermark.thumbnails[0];V={channel_name:L.channelName,end_ms:L.endTimeMs,image_height:R.height,image_type:1,image_url:R.url,image_width:R.width,is_mobile:!1,session_data:{annotation_id:q,ei:Q,feature:"iv",itct:L.trackingParams,src_vid:V},start_ms:L.startTimeMs};if(L.subscribeButton&&g.T(L.subscribeButton,
g.u2)){V.channel_id=g.T(L.subscribeButton,g.u2).channelId;var h;L=g.T(L.subscribeButton,g.u2);R=Q=null;L.subscribed?(L.subscriberCountWithUnsubscribeText&&(Q=g.E9(L.subscriberCountWithUnsubscribeText)),L.subscriberCountText&&(R=g.E9(L.subscriberCountText))):(L.subscriberCountText&&(Q=g.E9(L.subscriberCountText)),L.subscriberCountWithSubscribeText&&(R=g.E9(L.subscriberCountWithSubscribeText)));var d,O=((d=g.T((h=L.signInEndpoint)==null?void 0:h.commandMetadata,g.eg))==null?void 0:d.url)||"";h={subscribeText:g.E9(L.unsubscribedButtonText),
subscribeCount:Q||"",unsubscribeText:g.E9(L.subscribedButtonText),unsubscribeCount:R||"",enabled:L.enabled||!1,classic:!1,subscribed:L.subscribed||!1,feature:"iv",signInUrl:O};V.standalone_subscribe_button_data=h}G=new nYq(q,"branding","branding",G,V);h=K9W(b);b.player.T("web_player_overlay_positioned_layout")?(h.setAttribute("data-overlay-order","11"),b.player.Rb(h,4,!0)):b.L.element.appendChild(h);G=new Rl(h,ol(b),G);G.yq();g.A(G,G);b.Y[q]=G}},xI8=function(b,L){return function(){var q=g.Mu.apply(0,
arguments);
b.RD()||b.yc.push(g.kt.V$(function(){L.apply(null,g.a(q))}))}},Yf_=function(b){return b==="annotation-editor"||b==="live-dashboard"};
g.tX.prototype.xM=g.uh(35,function(b,L){var q=g.zV(this.HM());q&&q.xM(b,L)});
var g7={},KF=null;g.c8(vu,g.OY);g.e=vu.prototype;g.e.getDuration=function(){return this.duration};
g.e.play=function(b){if(b||this.U==0)this.progress=0,this.coords=this.L;else if(this.isPlaying())return!1;iZ(this);this.startTime=b=g.jR();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.j=this.startTime;this.progress||this.Ph();this.zK("play");this.isPaused()&&this.zK("resume");this.U=1;var L=g.t_(this);L in g7||(g7[L]=this);O6q();BeQ(this,b);return!0};
g.e.stop=function(b){iZ(this);this.U=0;b&&(this.progress=1);EYW(this,this.progress);this.onStop();this.Cg()};
g.e.pause=function(){this.isPlaying()&&(iZ(this),this.U=-1,this.zK("pause"))};
g.e.jP=function(){this.U==0||this.stop(!1);this.zK("destroy");vu.gg.jP.call(this)};
g.e.destroy=function(){this.dispose()};
g.e.Bz=function(){this.zK("animate")};
g.e.zK=function(b){this.dispatchEvent(new FIW(b,this))};
g.c8(FIW,g.Le);g.c8(xm,vu);xm.prototype.B=function(){};
xm.prototype.Bz=function(){this.B();xm.gg.Bz.call(this)};
xm.prototype.Cg=function(){this.B();xm.gg.Cg.call(this)};
xm.prototype.Ph=function(){this.B();xm.gg.Ph.call(this)};
g.c8(psW,xm);psW.prototype.B=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.Z(TeF,g.l);g.e=TeF.prototype;g.e.listen=function(b,L,q,V){q=(0,g.rW)(q,V||this.L);b=g.Kw(b,L,q);this.U.push(b);return b};
g.e.jg=function(b,L,q,V){q=(0,g.rW)(q,V||this.L);b=h3w(b,L,q);this.U.push(b);return b};
g.e.oU=function(b){g.i8(b);g.J_(this.U,b)};
g.e.removeAll=function(){g.i8(this.U);this.U.length=0};
g.e.jP=function(){this.removeAll();g.l.prototype.jP.call(this)};g.Z(ws_,g.Eg);g.e=ws_.prototype;g.e.load=function(){g.Eg.prototype.load.call(this);if(!r7(this)){var b=g.$LY(this.player.getVideoData());b?(b=yJQ(b,Spw(this)),DU(this,b,!1)):IhQ(this)}};
g.e.unload=function(){DU(this,null);this.j&&(this.j.abort(),this.j=null);g.Eg.prototype.unload.call(this)};
g.e.hD=function(b,L){return r7(this)?b==="loadCustomEndscreenRenderer"?(b=yJQ(L,"new"),DU(this,b),!0):null:null};
g.e.getOptions=function(){return r7(this)?["loadCustomEndscreenRenderer"]:[]};
g.e.No=function(){if(this.endscreen&&this.endscreen.elements){var b=this.player.getVideoContentRect();if(b&&b.width!==0&&b.height!==0){var L=this.player.getPlayerSize();if(L&&L.width!==0&&L.height!==0){var q=b.width/b.height;var V=0;for(var Q=-1,G=0;G<C5W.length;G++){var R=Math.abs(L.width-C5W[G]);if(Q===-1||V>=R)Q=G,V=R}V=mIF[Q];this.B&&g.VI(this.B.element,"outline-width",Math.max(L.width,L.height)+"px");for(L=0;L<this.endscreen.elements.length;++L)if(G=this.endscreen.elements[L].id,Q=this.L[G],
R=this.J[G],Q&&R){var h=R.width*q/R.aspectRatio,d=Math.round(R.width*b.width);G=Math.round(h*b.height);var O=b.left+Math.round(R.left*b.width),B=b.top+Math.round(R.top*b.height);g.Fu(Q.element,d,G);g.dO(Q.element,O,B);g.hS(Q.element,sV8);d>256||G>256?g.Rn(Q.element,"ytp-ce-large-round"):d>96||G>96?g.Rn(Q.element,"ytp-ce-medium-round"):g.Rn(Q.element,"ytp-ce-small-round");g.hS(Q.element,XK_);d=R.left+R.width/2;R=R.top+h/2;g.Rn(Q.element,d<=.5&&R<=.5?"ytp-ce-top-left-quad":d>.5&&R<=.5?"ytp-ce-top-right-quad":
d<=.5&&R>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.hS(Q.element,mIF);g.Rn(Q.element,V);(Q=g.Zj(document,"div","ytp-ce-expanding-overlay-body",Q.element)[0])&&g.VI(Q,"height",G+"px")}}}}};
g.e.onCueRangeEnter=function(b){if(this.endscreen)if(b.getId()==="ytp-ce-in-endscreen")Pu(this,this.endscreen.impressionUrls),(b=g.wt())&&this.endscreen.visualElement&&g.Ji(b,this.endscreen.visualElement),this.U&&(g.Rn(this.U,"ytp-ce-element-show"),this.U.removeAttribute("aria-hidden"),this.player.jp()?g.Rn(this.U,"ytp-ce-hide-button-lower"):g.on(this.U,"ytp-ce-hide-button-lower"));else{b=b.getId().substring(15);var L=this.L[b],q=this.J[b];g.Rn(L.element,"ytp-ce-element-show");L.element.removeAttribute("aria-hidden");
L=this.player.getRootNode();g.Rn(L,"ytp-ce-shown");Pu(this,q.impressionUrls);(L=g.wt())&&g.Ji(L,q.visualElement);this.player.C().V&&this.player.vx("endscreenelementshown",b)}};
g.e.onCueRangeExit=function(b){if(b.getId()==="ytp-ce-in-endscreen")this.U&&(g.on(this.U,"ytp-ce-element-show"),this.U.setAttribute("aria-hidden","true"));else{b=b.getId().substring(15);var L=this.L[b];g.on(L.element,"ytp-ce-element-show");L.element.setAttribute("aria-hidden","true");L=this.player.getRootNode();g.on(L,"ytp-ce-shown");this.player.C().V&&this.player.vx("endscreenelementhidden",b)}};
g.e.vqs=function(b){var L=this;b.target===window&&(new g.Xw(function(){for(var q=g.x(Object.values(L.L)),V=q.next();!V.done;V=q.next())g.hS(V.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.e.Ck=function(b){for(var L=g.x(Object.values(this.L)),q=L.next();!q.done;q=L.next())q=q.value,b?q.element.setAttribute("hidden",""):q.element.removeAttribute("hidden")};
g.e.tzs=function(b){this.U&&this.player.getRootNode().removeChild(this.U);b&&(g.Rn(b,"ytp-ce-hide-button-container"),this.U=b,g.lt(this.player,this.U,4))};
var C5W=[346,426,470,506,570,640,853,1280,1920],mIF="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),XK_=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],sV8=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var DHy={f3o:"current",PBt:"new"};var urw={CLOSE:"close",TBc:"openUrl",SUBSCRIBE:"subscribe"},cJ8={tpv:"click",CLOSE:"close",nlr:"hidden",cuc:"rollOut",Q_r:"rollOver",KlV:"shown"};nYq.prototype.Oy=function(){var b=kIy(this,function(L){return L.type==="openUrl"&&L.url!=null});
return b?b.url:null};
var ljs={T_D:"anchored",uD:"branding",CHANNEL:"channel",MpD:"cta",wpr:"highlightText",cKX:"label",PLAYLIST:"playlist",POPUP:"popup",vzc:"speech",SUBSCRIBE:"subscribe",rrx:"title",VIDEO:"video",k$v:"website"},kE_={uD:"branding",mEo:"card",l32:"drawer",YfV:"highlight",aUX:"marker",kmc:"promotion",TEXT:"text",elc:"widget"};var HiT=[".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}"],
z1y=[".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}"];g.Z(sJ,g.l);g.e=sJ.prototype;g.e.addCueRange=function(b,L,q,V,Q){b=new g.ch(b,L,{id:q,namespace:"annotations_module"});V&&this.Ks.set(b,V);Q&&this.SP.set(b,Q);this.context.W.b1([b],1)};
g.e.yq=function(){this.context.L.subscribe("resize",this.dE,this)};
g.e.IE=function(){return this.element};
g.e.y0=function(b,L,q,V,Q,G){if(this.Lk)return!1;G&&(G.stopPropagation(),G.preventDefault());this.navigate(b,q,V,Q);return!1};
g.e.show=function(){};
g.e.hide=function(){};
g.e.destroy=function(){g.tw(this.IE())};
g.e.dE=function(){};
g.e.navigate=function(b,L,q,V){var Q=this,G=km(b);if(G){var R=Xsu(G,b.target),h=function(){b.U&&Q.context.W.pauseVideo();var d=Q.context.videoData.B6||!1,O=g.ha(G||"");d&&O&&(O.v||O.list)?Q.context.W.O8(O.v,L,O.list,!1):g.lY(G||"",R==="current"?"_top":void 0,L)};
R==="new"&&(h(),h=null);N1(this.context.logger,q,h,V);sbW(G)||(q=g.wt(),V=L.itct,q&&V&&g.Lg(q,g.eW(V)))}};
g.e.jP=function(){this.Ks.clear();this.SP.clear();g.l.prototype.jP.call(this)};
g.e.createElement=function(b){b=new g.C(b);g.A(this,b);return b.element};g.Z(JJW,sJ);g.e=JJW.prototype;g.e.L4=function(){this.yc&&L2(this,this.yc)};
g.e.isAvailable=function(){var b;if(b=!!this.cards.length)(b=this.W.getRootNode())?(b=g.pM(b),b=173<b.width&&173<b.height):b=!1;return b};
g.e.dE=function(){var b=this.isAvailable();g.MR(this.IE(),b);g.dE(this.context.W.getRootNode(),g.ir.IV_DRAWER_ENABLED,b);Hu(this.W)};
g.e.destroy=function(){this.W.xM(!1);try{this.W.getRootNode().removeChild(this.j)}catch(b){}g.Qk(this.Ls);g.Dw(this.Eo);this.uc&&this.uc.dispose();this.J&&this.J.dispose();sJ.prototype.destroy.call(this)};
g.e.gH=function(){var b=this;this.context.U.listen(g.wh("iv-drawer-close-button",this.j),"click",this.vR,this);this.context.U.listen(this.L,"touchend",function(){b.eP.start()});
this.context.U.listen(this.L,"scroll",this.I6,this);this.context.L.subscribe("onHideControls",function(){b.Hx=!0});
this.context.L.subscribe("onShowControls",function(){b.Hx=!1});
this.context.L.subscribe("onVideoAreaChange",function(){b.Hx=g.GG(b.W.getRootNode(),"ytp-autohide")});
this.Ls.push(g.Vk("iv-button-shown",this.Do2,this));this.Ls.push(g.Vk("iv-button-hidden",this.jEs,this));NhW(this)};
g.e.findLastIndex=function(b){if(this.cards.length===0)return 0;var L=g.Y_(this.cards,function(q){return b.EN.startMs>q.EN.startMs||b.EN.startMs===q.EN.startMs&&b.EN.timestamp>=q.EN.timestamp?!0:!1});
return L===-1?0:L+1};
g.e.vR=function(){if(this.B){N1(this.context.logger,Qd(this).Iu.close);var b=g.wt();b&&this.V&&g.Lg(b,this.V);UJ(this)}};
g.e.I6=function(){g.dE(this.j,"iv-drawer-scrolled",this.L.scrollTop>0)};
g.e.Do2=function(){var b=g.wt(),L=Qd(this);L=L?L.l1:this.l1;b&&L&&g.UE(b,[L])};
g.e.jEs=function(){var b=g.wt(),L=Qd(this);L=L?L.l1:this.l1;b&&L&&g.bb(b,[L])};
g.e.QB=function(){var b=Qd(this);N1(this.context.logger,b.Iu.W3);var L=g.wt();if(L&&b)if(this.W.T("web_infocards_teaser_show_logging_fix")){var q=[];b.h5&&q.push(b.h5);b.l1&&q.push(b.l1);q.length>0&&g.UE(L,q)}else g.UE(L,[b.h5,b.l1])};
g.e.pMc=function(){var b=g.wt(),L=Qd(this);b&&L&&g.bb(b,[L.h5])};
g.e.cT=function(b){var L=Qd(this),q=g.wt();this.U?b?(b=this.context.logger,N1(b,L.Iu.x9),b.W.sendVideoStatsEngageEvent(4,void 0),q&&L.h5&&g.Lg(q,L.h5)):(b=this.context.logger,N1(b,L.Iu.x9),b.W.sendVideoStatsEngageEvent(4,void 0),q&&L.l1&&g.Lg(q,L.l1)):(b=this.context.logger,N1(b,L.Iu.x9),b.W.sendVideoStatsEngageEvent(4,void 0),q&&this.l1&&g.Lg(q,this.l1))};g.Z(Ge,sJ);Ge.prototype.yq=function(){sJ.prototype.yq.call(this);F9R(this)};
Ge.prototype.show=function(){sJ.prototype.show.call(this);var b=g.wt(),L=this.annotation.data;b&&L&&(L=L.session_data)&&g.UE(b,[g.eW(L.itct)])};
Ge.prototype.hide=function(){sJ.prototype.hide.call(this);var b=g.wt(),L=this.annotation.data;b&&L&&(L=L.session_data)&&g.bb(b,[g.eW(L.itct)])};g.Z(Rl,Ge);
Rl.prototype.show=function(){if(!this.isActive){Ge.prototype.show.call(this);if(!this.B){g.Rn(this.IE(),"iv-branding");var b=this.annotation.data;this.U=this.createElement({D:"img",JV:["branding-img","iv-click-target"],S:{"aria-label":"Channel watermark",src:b.image_url,width:b.image_width,height:b.image_height}});g.MR(this.U,!1);var L=this.createElement({D:"button",JV:["branding-img-container","ytp-button"]});L.appendChild(this.U);this.IE().appendChild(L);var q=this.annotation.Oy();q&&XH(this,L,
q,this.annotation.id,b.session_data);this.B=!0}g.MR(this.IE(),!0);this.isActive=!0;if(this.U){try{pKW(this,this.U)}catch(V){}g.Rn(this.context.W.getRootNode(),"ytp-branding-shown");this.context.W.getRootNode().style.setProperty("--branding-image-width",this.U.getAttribute("width")+"px")}}};
Rl.prototype.hide=function(){this.isActive&&(Ge.prototype.hide.call(this),g.MR(this.IE(),!1),this.isActive=!1,g.on(this.context.W.getRootNode(),"ytp-branding-shown"))};
Rl.prototype.destroy=function(){this.L&&(this.L.dispose(),this.L=null);g.on(this.context.W.getRootNode(),"ytp-branding-shown");Ge.prototype.destroy.call(this)};g.Z(e1q,Ge);g.e=e1q.prototype;g.e.show=function(){this.isActive||(Ge.prototype.show.call(this),this.Uo||(Ziq(this),this.Uo=!0),g.MR(this.IE(),!0),g.DK(function(){g.on(this.IE(),"iv-promo-inactive")},100,this),this.IE().removeAttribute("aria-hidden"),this.isActive=!0,Ij_(this),ywQ(this),wKw(this,this.J))};
g.e.hide=function(){this.isActive&&(g.Rn(this.IE(),"iv-promo-inactive"),this.isActive=!1,this.IE().setAttribute("aria-hidden","true"))};
g.e.y0=function(b,L,q,V,Q,G){return this.isCollapsed?!1:Ge.prototype.y0.call(this,b,L,q,V,Q,G)};
g.e.hXo=function(b){this.V=!0;Th_(this,500,b)};
g.e.zN=function(){this.V=!1;Sfw(this)};
g.e.VU=function(b){b.stopPropagation();this.hide()};
g.e.lQ=function(b){b.stopPropagation();Ij_(this);this.isCollapsed=!0;g.Rn(this.IE(),"iv-promo-collapsed-no-delay");this.X.start()};
g.e.destroy=function(){this.X.dispose();Ge.prototype.destroy.call(this)};g.Z(gVs,g.Eg);g.e=gVs.prototype;g.e.hD=function(b,L){if(!Yf_(this.player.C().playerStyle))return null;switch(b){case "loadCustomAnnotationsXml":return(b=g.AD(L))&&vV_(this,b),!0;case "removeCustomAnnotationById":return L&&this.U&&(qfQ(this.U,L),Hu(this.player)),!0}return null};
g.e.getOptions=function(){return Yf_(this.player.C().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.e.oo=function(){var b=this.player.getVideoData(),L,q,V=(L=b.getWatchNextResponse())==null?void 0:(q=L.playerOverlays)==null?void 0:q.playerOverlayRenderer;if(b.B6||this.player.isMutedByEmbedsMutedAutoplay())return!1;if(!this.player.T("web_fix_annotations"))return iiq(this);if(iiq(this)){if((V==null?void 0:V.isWatermarkEnforced)===!0)return!0;var Q;return(Q=V==null?void 0:V.isAnnotationsEnabled)!=null?Q:!1}return!1};
g.e.O3=function(){if(this.B){var b=this.player.UM().getVideoContentRect(!0);g.Fu(this.B.element,b.width,b.height);g.dO(this.B.element,b.left,b.top)}if(this.U){var L=this.player.m0();b=this.U;L=L.width;g.dE(b.j,"iv-drawer-small",L<=426);g.dE(b.j,"iv-drawer-big",L>=1280)}};
g.e.OC=function(b){jVW(this,b.state);g.X(b.state,2)&&(this.jp()&&this.Dp()&&this.player.getPresentingPlayerType()!==2&&this.FU(!1),this.xM(!1))};
g.e.load=function(){g.Eg.prototype.load.call(this);jVW(this,this.player.getPlayerStateObject());this.loadNumber++;var b=this.player.getVideoData();DIW(this,b);g.lt(this.player,this.B.element,4);this.O3();var L=g.Cx(b),q=g.YX(b);if(this.player.T("web_fix_annotations")){if(L){L.featuredChannel&&AwR(this,L.featuredChannel,L.annotationId||"branding",b.videoId||null,b.eventId||null);var V,Q;L=(V=this.player.getVideoData().getWatchNextResponse())==null?void 0:(Q=V.playerOverlays)==null?void 0:Q.playerOverlayRenderer;
if(L!=null&&L.isWatermarkEnforced&&(L==null||!L.isAnnotationsEnabled))return}q&&nVW(this,q)}else q&&nVW(this,q),L&&L.featuredChannel&&AwR(this,L.featuredChannel,L.annotationId||"branding",b.videoId||null,b.eventId||null);this.Vt=g.wh("ytp-cards-button",this.player.getRootNode());g.A6(b)&&rwq(this,b)};
g.e.onVideoDataChange=function(b){var L=this.player.getVideoData();L.Vp&&ajb(this,L.Vp,b)};
g.e.unload=function(){this.player.Ey("annotations_module");for(var b=g.x(Object.keys(this.Y)),L=b.next();!L.done;L=b.next())this.Y[L.value].destroy();this.Uo=null;this.U&&(this.U.destroy(),this.U=null,Hu(this.player));this.V=!1;this.J&&(this.J.abort(),this.J=null);this.Ls=!1;this.Y={};this.L.hide();g.Eg.prototype.unload.call(this);this.B.detach();$Ib(this)};
g.e.cK=function(b){b===this.player.getVideoData().videoId&&(this.loaded?cw8(this):this.load())};
g.e.jp=function(){var b;return((b=this.U)==null?void 0:b.isAvailable())||this.Ls};
g.e.Dp=function(){return!!this.U&&this.U.B};
g.e.FU=function(b,L,q){L=L===void 0?!1:L;this.jp();this.U&&(b?q?JC(this.U,q,L):JC(this.U,"YOUTUBE_DRAWER_AUTO_OPEN",L):UJ(this.U))};
g.e.xM=function(b,L){this.player.publish(b?"cardsteasershow":"cardsteaserhide",L)};
g.e.jP=function(){this.player.C().Hx.unsubscribe("vast_info_card_add",this.cK,this);g.on(this.player.getRootNode(),g.ir.IV_DRAWER_OPEN);for(var b=this.yc,L=g.kt,q=0,V=b.length;q<V;q++)L.D3(b[q]);this.yc.length=0;g.Eg.prototype.jP.call(this)};
g.e.createElement=function(b){b=new g.C(b);g.A(this,b);return b.element};g.BM("annotations_module",gVs);g.BM("creatorendscreen",ws_);})(_yt_player);
