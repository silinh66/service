(function(g){var window=this;'use strict';var Fd8=function(b){b.publish("autonavvisibility")},prR=function(b,L){b.vx("onAutonavCoundownStarted",L)},MLF=function(b){return b.isBackground()&&b.M2()},eTs=function(b){var L,q,V;
return b==null?void 0:(L=b.playerOverlays)==null?void 0:(q=L.playerOverlayRenderer)==null?void 0:(V=q.autoplay)==null?void 0:V.playerOverlayAutoplayRenderer},QF=function(b){var L=b.C(),q=L.j;
g.C.call(this,{D:"a",G:"ytp-autonav-suggestion-card",S:{href:"{{url}}",target:q?L.Uo:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},Z:[{D:"div",JV:["ytp-autonav-endscreen-upnext-thumbnail","ytp-autonav-thumbnail-small"],S:{style:"{{background}}"},Z:[{D:"div",S:{"aria-label":"{{timestamp}}"},JV:["ytp-autonav-timestamp"],rC:"{{duration}}"},{D:"div",JV:["ytp-autonav-live-stamp"],rC:"Live"},{D:"div",
JV:["ytp-autonav-upcoming-stamp"],rC:"Upcoming"},{D:"div",G:"ytp-autonav-list-overlay",Z:[{D:"div",G:"ytp-autonav-mix-text",rC:"Mix"},{D:"div",G:"ytp-autonav-mix-icon"}]}]},{D:"div",JV:["ytp-autonav-endscreen-upnext-title","ytp-autonav-title-card"],rC:"{{title}}"},{D:"div",JV:["ytp-autonav-endscreen-upnext-author","ytp-autonav-author-card"],rC:"{{author}}"},{D:"div",JV:["ytp-autonav-endscreen-upnext-author","ytp-autonav-view-and-date-card"],rC:"{{views_and_publish_time}}"}]});this.W=b;this.suggestion=
null;this.U=q;this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress)},G4=function(b,L){L=L===void 0?!1:L;
g.C.call(this,{D:"div",G:"ytp-autonav-endscreen-countdown-overlay"});var q=this;this.J=L;this.cancelCommand=this.X=void 0;this.B=0;this.container=new g.C({D:"div",G:"ytp-autonav-endscreen-countdown-container"});g.A(this,this.container);this.container.ID(this.element);L=b.C();var V=L.j;this.W=b;this.suggestion=null;this.onVideoDataChange("newdata",this.W.getVideoData());this.K(b,"videodatachange",this.onVideoDataChange);this.U=new g.C({D:"div",G:"ytp-autonav-endscreen-upnext-container",S:{"aria-label":"{{aria_label}}",
"data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},Z:[{D:"div",G:"ytp-autonav-endscreen-upnext-header"},{D:"div",G:"ytp-autonav-endscreen-upnext-alternative-header",rC:"{{autoplayAlternativeHeader}}"},{D:"a",G:"ytp-autonav-endscreen-link-container",S:{href:"{{url}}",target:V?L.Uo:""},Z:[{D:"div",G:"ytp-autonav-endscreen-upnext-thumbnail",S:{style:"{{background}}"},Z:[{D:"div",S:{"aria-label":"{{timestamp}}"},JV:["ytp-autonav-timestamp"],
rC:"{{duration}}"},{D:"div",JV:["ytp-autonav-live-stamp"],rC:"Live"},{D:"div",JV:["ytp-autonav-upcoming-stamp"],rC:"Upcoming"}]},{D:"div",G:"ytp-autonav-endscreen-video-info",Z:[{D:"div",G:"ytp-autonav-endscreen-premium-badge"},{D:"div",G:"ytp-autonav-endscreen-upnext-title",rC:"{{title}}"},{D:"div",G:"ytp-autonav-endscreen-upnext-author",rC:"{{author}}"},{D:"div",G:"ytp-autonav-view-and-date",rC:"{{views_and_publish_time}}"},{D:"div",G:"ytp-autonav-author-and-view",rC:"{{author_and_views}}"}]}]}]});
g.A(this,this.U);this.U.ID(this.container.element);V||this.K(this.U.X8("ytp-autonav-endscreen-link-container"),"click",this.CF);this.W.createClientVe(this.container.element,this,115127);this.W.createClientVe(this.U.X8("ytp-autonav-endscreen-link-container"),this,115128);this.overlay=new g.C({D:"div",G:"ytp-autonav-overlay"});g.A(this,this.overlay);this.overlay.ID(this.container.element);this.L=new g.C({D:"div",G:"ytp-autonav-endscreen-button-container"});g.A(this,this.L);this.L.ID(this.container.element);
this.cancelButton=new g.C({D:"button",JV:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-cancel-button","ytp-autonav-endscreen-upnext-button-rounded"],S:{"aria-label":"Cancel autoplay"},rC:"Cancel"});g.A(this,this.cancelButton);this.cancelButton.ID(this.L.element);this.cancelButton.listen("click",this.nQ,this);this.W.createClientVe(this.cancelButton.element,this,115129);this.playButton=new g.C({D:"a",JV:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-play-button",
"ytp-autonav-endscreen-upnext-button-rounded"],S:{href:"{{url}}",role:"button","aria-label":"Play next video"},rC:"Play Now"});g.A(this,this.playButton);this.playButton.ID(this.L.element);this.playButton.listen("click",this.CF,this);this.W.createServerVe(this.playButton.element,this.playButton,!0);(L=this.W.getVideoData())&&TzW(this,L);this.j=new g.Xw(function(){Zl_(q)},500);
g.A(this,this.j);this.Sh();this.K(b,"autonavvisibility",this.Sh);this.W.T("web_autonav_color_transition")&&(this.K(b,"autonavchange",this.qI),this.K(b,"onAutonavCoundownStarted",this.hZC))},R_=function(b){var L=b.W.m0(!0,b.W.isFullscreen());
g.dE(b.container.element,"ytp-autonav-endscreen-small-mode",b.ZT(L));g.dE(b.container.element,"ytp-autonav-endscreen-is-premium",!!b.suggestion&&!!b.suggestion.oes);g.dE(b.W.getRootNode(),"ytp-autonav-endscreen-cancelled-state",!b.W.Pb());g.dE(b.W.getRootNode(),"countdown-running",b.Tc());g.dE(b.container.element,"ytp-player-content",b.W.Pb());g.VI(b.overlay.element,{width:L.width+"px"});if(!b.Tc()){b.W.Pb()?yHW(b,Math.round(wrQ(b)/1E3)):yHW(b);L=!!b.suggestion&&!!b.suggestion.lk;var q=b.W.Pb()||
!L;g.dE(b.container.element,"ytp-autonav-endscreen-upnext-alternative-header-only",!q&&L);g.dE(b.container.element,"ytp-autonav-endscreen-upnext-no-alternative-header",q&&!L);b.L.Ck(b.W.Pb());g.dE(b.element,"ytp-enable-w2w-color-transitions",S5_(b))}},Zl_=function(b){var L=wrQ(b),q=Math,V=q.min;
var Q=b.B?Date.now()-b.B:0;q=V.call(q,Q,L);yHW(b,Math.ceil((L-q)/1E3));L-q<=500&&b.Tc()?b.select(!0):b.Tc()&&b.j.start()},wrQ=function(b){if(b.W.isFullscreen()){var L;
b=(L=b.W.getVideoData())==null?void 0:L.CJ;return b===-1||b===void 0?8E3:b}return b.W.tv()>=0?b.W.tv():g.Xo(b.W.C().experiments,"autoplay_time")||1E4},TzW=function(b,L){L=L.getWatchNextResponse();
var q,V;L=(q=eTs(L))==null?void 0:(V=q.nextButton)==null?void 0:V.buttonRenderer;b.X=L==null?void 0:L.navigationEndpoint;q=L==null?void 0:L.trackingParams;b.playButton&&q&&b.W.setTrackingParams(b.playButton.element,q)},S5_=function(b){var L;
return!((L=b.W.getVideoData())==null||!L.watchToWatchTransitionRenderer)},yHW=function(b,L){L=L===void 0?-1:L;
b=b.U.X8("ytp-autonav-endscreen-upnext-header");g.i5(b);if(L>=0){L=String(L);var q="Up next in $SECONDS".match(RegExp("\\$SECONDS","gi"))[0],V="Up next in $SECONDS".indexOf(q);if(V>=0){b.appendChild(g.gh("Up next in $SECONDS".slice(0,V)));var Q=g.zE("span");g.Q8(Q,"ytp-autonav-endscreen-upnext-header-countdown-number");g.rh(Q,L);b.appendChild(Q);b.appendChild(g.gh("Up next in $SECONDS".slice(V+q.length)));return}}g.rh(b,"Up next")},N_=function(b,L){g.C.call(this,{D:"div",
JV:["html5-endscreen","ytp-player-content",L||"base-endscreen"]});this.created=!1;this.player=b},o_=function(b){g.C.call(this,{D:"div",
JV:["ytp-upnext","ytp-player-content"],S:{"aria-label":"{{aria_label}}"},Z:[{D:"div",G:"ytp-cued-thumbnail-overlay-image",S:{style:"{{background}}"}},{D:"span",G:"ytp-upnext-top",Z:[{D:"span",G:"ytp-upnext-header",rC:"Up Next"},{D:"span",G:"ytp-upnext-title",rC:"{{title}}"},{D:"span",G:"ytp-upnext-author",rC:"{{author}}"}]},{D:"a",G:"ytp-upnext-autoplay-icon",S:{role:"button",href:"{{url}}","aria-label":"Play next video"},Z:[{D:"svg",S:{height:"100%",version:"1.1",viewBox:"0 0 72 72",width:"100%"},
Z:[{D:"circle",G:"ytp-svg-autoplay-circle",S:{cx:"36",cy:"36",fill:"#fff","fill-opacity":"0.3",r:"31.5"}},{D:"circle",G:"ytp-svg-autoplay-ring",S:{cx:"-36",cy:"36","fill-opacity":"0",r:"33.5",stroke:"#FFFFFF","stroke-dasharray":"211","stroke-dashoffset":"-211","stroke-width":"4",transform:"rotate(-90)"}},{D:"path",G:"ytp-svg-fill",S:{d:"M 24,48 41,36 24,24 V 48 z M 44,24 v 24 h 4 V 24 h -4 z"}}]}]},{D:"span",G:"ytp-upnext-bottom",Z:[{D:"span",G:"ytp-upnext-cancel"},{D:"span",G:"ytp-upnext-paused",
rC:"Autoplay is paused"}]}]});this.api=b;this.cancelButton=null;this.X=this.X8("ytp-svg-autoplay-ring");this.B=this.notification=this.U=this.suggestion=null;this.j=new g.Xw(this.EJ,5E3,this);this.L=0;var L=this.X8("ytp-upnext-cancel");this.cancelButton=new g.C({D:"button",JV:["ytp-upnext-cancel-button","ytp-button"],S:{tabindex:"0","aria-label":"Cancel autoplay"},rC:"Cancel"});g.A(this,this.cancelButton);this.cancelButton.listen("click",this.uN,this);this.cancelButton.ID(L);this.cancelButton&&this.api.createClientVe(this.cancelButton.element,
this,115129);g.A(this,this.j);this.api.createClientVe(this.element,this,18788);L=this.X8("ytp-upnext-autoplay-icon");this.K(L,"click",this.YL);this.api.createClientVe(L,this,115130);this.kP();this.K(b,"autonavvisibility",this.kP);this.K(b,"mdxnowautoplaying",this.C3C);this.K(b,"mdxautoplaycanceled",this.k80);g.dE(this.element,"ytp-upnext-mobile",this.api.C().L)},IRW=function(b,L){if(L)return L;
if(b.api.isFullscreen()){var q;b=(q=b.api.getVideoData())==null?void 0:q.CJ;return b===-1||b===void 0?8E3:b}return b.api.tv()>=0?b.api.tv():g.Xo(b.api.C().experiments,"autoplay_time")||1E4},Wd_=function(b,L){L=IRW(b,L);
var q=Math,V=q.min;var Q=(0,g.zl)()-b.L;q=V.call(q,Q,L);L=L===0?1:Math.min(q/L,1);b.X.setAttribute("stroke-dashoffset",""+-211*(L+1));L>=1&&b.Tc()&&b.api.getPresentingPlayerType()!==3?b.select(!0):b.Tc()&&b.U.start()},h0=function(b){N_.call(this,b,"autonav-endscreen");
this.overlay=this.videoData=null;this.table=new g.C({D:"div",G:"ytp-suggestion-panel",Z:[{D:"div",JV:["ytp-autonav-endscreen-upnext-header","ytp-autonav-endscreen-more-videos"],rC:"More videos"}]});this.Y=new g.C({D:"div",G:"ytp-suggestions-container"});this.videos=[];this.B=null;this.X=this.J=!1;this.L=new G4(this.player);g.A(this,this.L);this.L.ID(this.element);b.getVideoData().Xv?this.U=this.L:(this.U=new o_(b),g.lt(this.player,this.U.element,4),g.A(this,this.U));this.overlay=new g.C({D:"div",
G:"ytp-autonav-overlay-cancelled-state"});g.A(this,this.overlay);this.overlay.ID(this.element);this.j=new g.OO(this);g.A(this,this.j);g.A(this,this.table);this.table.ID(this.element);this.table.show();g.A(this,this.Y);this.Y.ID(this.table.element);this.hide()},dI=function(b){var L=b.Pb();
L!==b.X&&(b.X=L,Fd8(b.player),b.X?(b.L!==b.U&&b.L.hide(),b.table.hide()):(b.L!==b.U&&b.L.show(),b.table.show()))},$XW=function(b){N_.call(this,b,"videowall-endscreen");
var L=this;this.W=b;this.stills=[];this.B=this.videoData=null;this.j=this.J=!1;this.Y=null;g.Rn(this.element,"modern-videowall-endscreen");this.L=new g.OO(this);g.A(this,this.L);this.X=new g.Xw(function(){g.Rn(L.element,"ytp-show-tiles")},0);
g.A(this,this.X);this.table=new g.NS({D:"div",G:"ytp-modern-endscreen-content"});g.A(this,this.table);this.table.ID(this.element);b.getVideoData().Xv?this.U=new G4(b,!0):this.U=new o_(b);g.A(this,this.U);g.lt(this.player,this.U.element,4);b.createClientVe(this.element,this,158789);this.hide()},OH=function(b){return g.AX(b.player)&&b.f0()&&!b.B},BX=function(b){var L=b.Pb();
L!==b.J&&(b.J=L,Fd8(b.player))},Hlq=function(b){N_.call(this,b,"subscribecard-endscreen");
this.U=new g.C({D:"div",G:"ytp-subscribe-card",Z:[{D:"img",G:"ytp-author-image",S:{src:"{{profilePicture}}"}},{D:"div",G:"ytp-subscribe-card-right",Z:[{D:"div",G:"ytp-author-name",rC:"{{author}}"},{D:"div",G:"html5-subscribe-button-container"}]}]});g.A(this,this.U);this.U.ID(this.element);var L=b.getVideoData();this.subscribeButton=new g.my("Subscribe",null,"Unsubscribe",null,!0,!1,L.f4,L.subscribed,"trailer-endscreen",null,b,!1);g.A(this,this.subscribeButton);this.subscribeButton.ID(this.U.X8("html5-subscribe-button-container"));
this.K(b,"videodatachange",this.q0);this.q0();this.hide()},EH=function(b){var L=b.C(),q=g.NZ||g.DT?{style:"will-change: opacity"}:void 0,V=L.j,Q=["ytp-videowall-still"];
L.L&&Q.push("ytp-videowall-show-text");g.C.call(this,{D:"a",JV:Q,S:{href:"{{url}}",target:V?L.Uo:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}"},Z:[{D:"div",G:"ytp-videowall-still-image",S:{style:"{{background}}"}},{D:"span",G:"ytp-videowall-still-info",S:{"aria-hidden":"true"},Z:[{D:"span",G:"ytp-videowall-still-info-bg",Z:[{D:"span",G:"ytp-videowall-still-info-content",S:q,Z:[{D:"span",G:"ytp-videowall-still-info-title",rC:"{{title}}"},
{D:"span",G:"ytp-videowall-still-info-author",rC:"{{author_and_views}}"},{D:"span",G:"ytp-videowall-still-info-live",rC:"Live"},{D:"span",G:"ytp-videowall-still-info-duration",rC:"{{duration}}"}]}]}]},{D:"span",JV:["ytp-videowall-still-listlabel-regular","ytp-videowall-still-listlabel"],S:{"aria-hidden":"true"},Z:[{D:"span",G:"ytp-videowall-still-listlabel-icon"},"Playlist",{D:"span",G:"ytp-videowall-still-listlabel-length",Z:[" (",{D:"span",rC:"{{playlist_length}}"},")"]}]},{D:"span",JV:["ytp-videowall-still-listlabel-mix",
"ytp-videowall-still-listlabel"],S:{"aria-hidden":"true"},Z:[{D:"span",G:"ytp-videowall-still-listlabel-mix-icon"},"Mix",{D:"span",G:"ytp-videowall-still-listlabel-length",rC:" (50+)"}]}]});this.suggestion=null;this.L=V;this.api=b;this.U=new g.OO(this);g.A(this,this.U);this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress);this.U.K(b,"videodatachange",this.onVideoDataChange);b.createServerVe(this.element,this);this.onVideoDataChange()},Fy=function(b){N_.call(this,b,"videowall-endscreen");
var L=this;this.W=b;this.B=0;this.stills=[];this.j=this.videoData=null;this.X=this.Y=!1;this.V=null;this.L=new g.OO(this);g.A(this,this.L);this.J=new g.Xw(function(){g.Rn(L.element,"ytp-show-tiles")},0);
g.A(this,this.J);var q=new g.C({D:"button",JV:["ytp-button","ytp-endscreen-previous"],S:{"aria-label":"Previous"},Z:[g.MS()]});g.A(this,q);q.ID(this.element);q.listen("click",this.VB,this);this.table=new g.NS({D:"div",G:"ytp-endscreen-content"});g.A(this,this.table);this.table.ID(this.element);q=new g.C({D:"button",JV:["ytp-button","ytp-endscreen-next"],S:{"aria-label":"Next"},Z:[g.ez()]});g.A(this,q);q.ID(this.element);q.listen("click",this.kL,this);b.getVideoData().Xv?this.U=new G4(b,!0):this.U=
new o_(b);g.A(this,this.U);g.lt(this.player,this.U.element,4);b.createClientVe(this.element,this,158789);this.hide()},pZ=function(b){return g.AX(b.player)&&b.f0()&&!b.j},M_=function(b){var L=b.Pb();
L!==b.Y&&(b.Y=L,Fd8(b.player))},zTw=function(b,L){g.C.call(this,{D:"button",
JV:["ytp-watch-on-youtube-button","ytp-button"],rC:"{{content}}"});this.W=b;this.buttonType=this.buttonType=L;this.K6();this.buttonType===2&&g.Rn(this.element,"ytp-continue-watching-button");this.listen("click",this.onClick);this.listen("videodatachange",this.K6);this.Ck(!0)},eG=function(b){N_.call(this,b,"watch-again-on-youtube-endscreen");
this.watchButton=new zTw(b,1);g.A(this,this.watchButton);this.watchButton.ID(this.element);g.qt$(b)&&(this.U=new g.Co(b),g.A(this,this.U),this.L=new g.C({D:"div",JV:["ytp-watch-again-on-youtube-endscreen-more-videos-container"],S:{tabIndex:"-1"},Z:[this.U]}),g.A(this,this.L),this.U.ID(this.L.element),this.L.ID(this.element));b.createClientVe(this.element,this,156914);this.hide()},vPw=function(b){g.Eg.call(this,b);
var L=this;this.endScreen=null;this.U=this.L=this.B=!1;this.listeners=new g.OO(this);g.A(this,this.listeners);var q=b.C();b.isEmbedsShortsMode()?this.endScreen=new eG(b):gPq(b)?(this.B=!0,Kd_(this),this.U?this.endScreen=new h0(b):q.T("delhi_modern_endscreen")?this.endScreen=new $XW(b):this.endScreen=new Fy(b)):q.Se?this.endScreen=new Hlq(b):this.endScreen=new N_(b);g.A(this,this.endScreen);g.lt(b,this.endScreen.element,4);il_(this);this.listeners.K(b,"videodatachange",this.onVideoDataChange,this);
this.listeners.K(b,g.nf("endscreen"),function(V){L.onCueRangeEnter(V)});
this.listeners.K(b,g.kM("endscreen"),function(V){L.onCueRangeExit(V)})},Kd_=function(b){var L=b.player.getVideoData();
if(!L||b.U===L.mZ&&b.L===L.Xv)return!1;b.U=L.mZ;b.L=L.Xv;return!0},gPq=function(b){b=b.C();
return b.Xe&&!b.Se&&!b.disableOrganicUi},il_=function(b){b.player.Ey("endscreen");
var L=b.player.getVideoData();L=new g.ch(Math.max((L.lengthSeconds-10)*1E3,0),0x8000000000000,{id:"preload",namespace:"endscreen"});var q=new g.ch(0x8000000000000,0x8000000000000,{id:"load",priority:8,namespace:"endscreen"});b.player.b1([L,q])};
g.tX.prototype.tv=g.uh(8,function(){return this.app.tv()});
g.E0.prototype.tv=g.uh(7,function(){return this.getVideoData().uF});
g.go.prototype.IV=g.uh(6,function(b){this.E5().IV(b)});
g.nX.prototype.IV=g.uh(5,function(b){this.BI!==b&&(this.BI=b,this.EZ())});
g.Z(QF,g.C);QF.prototype.select=function(){this.W.O8(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.mz||void 0)&&this.W.logClick(this.element)};
QF.prototype.onClick=function(b){g.p$(b,this.W,this.U,this.suggestion.sessionData||void 0)&&this.select()};
QF.prototype.onKeyPress=function(b){switch(b.keyCode){case 13:case 32:b.defaultPrevented||(this.select(),b.preventDefault())}};g.Z(G4,g.C);g.e=G4.prototype;g.e.pX=function(b){this.suggestion!==b&&(this.suggestion=b,g.bT(this.U,b),this.playButton.updateValue("url",this.suggestion.uE()),R_(this))};
g.e.Tc=function(){return this.B>0};
g.e.a4=function(){this.Tc()||(this.B=Date.now(),Zl_(this),prR(this.W,wrQ(this)),g.dE(this.W.getRootNode(),"countdown-running",this.Tc()))};
g.e.mY=function(){this.uB();Zl_(this);var b=this.U.X8("ytp-autonav-endscreen-upnext-header");b&&g.rh(b,"Up next")};
g.e.uB=function(){this.Tc()&&(this.j.stop(),this.B=0)};
g.e.select=function(b){this.W.nextVideo(!1,b===void 0?!1:b);this.uB()};
g.e.CF=function(b){g.p$(b,this.W)&&(b.currentTarget===this.playButton.element?this.W.logClick(this.playButton.element):b.currentTarget===this.U.X8("ytp-autonav-endscreen-link-container")&&(b=this.U.X8("ytp-autonav-endscreen-link-container"),this.W.logVisibility(b,!0),this.W.logClick(b)),this.X?(this.W.vx("innertubeCommand",this.X),this.uB()):this.select())};
g.e.nQ=function(){this.W.logClick(this.cancelButton.element);g.j$(this.W,!0);this.cancelCommand&&this.W.vx("innertubeCommand",this.cancelCommand)};
g.e.onVideoDataChange=function(b,L){TzW(this,L);b=L.getWatchNextResponse();var q,V;b=(q=eTs(b))==null?void 0:(V=q.cancelButton)==null?void 0:V.buttonRenderer;this.cancelCommand=b==null?void 0:b.command};
g.e.hZC=function(b){if(S5_(this)){var L=this.W.getVideoData().watchToWatchTransitionRenderer,q=L==null?void 0:L.fromColorPaletteDark;L=L==null?void 0:L.toColorPaletteDark;if(q&&L){var V=this.element;V.style.setProperty("--w2w-start-background-color",g.jV(q.surgeColor));V.style.setProperty("--w2w-start-primary-text-color",g.jV(q.primaryTitleColor));V.style.setProperty("--w2w-start-secondary-text-color",g.jV(q.secondaryTitleColor));V.style.setProperty("--w2w-end-background-color",g.jV(L.surgeColor));
V.style.setProperty("--w2w-end-primary-text-color",g.jV(L.primaryTitleColor));V.style.setProperty("--w2w-end-secondary-text-color",g.jV(L.secondaryTitleColor));V.style.setProperty("--w2w-animation-duration",b+"ms")}g.dE(this.element,"ytp-w2w-animate",!0)}};
g.e.qI=function(b){this.W.T("web_autonav_color_transition")&&b!==2&&g.dE(this.element,"ytp-w2w-animate",!1)};
g.e.Sh=function(){var b=this.W.Pb();this.J&&this.xf!==b&&this.Ck(b);R_(this);this.W.logVisibility(this.container.element,b);this.W.logVisibility(this.cancelButton.element,b);this.W.logVisibility(this.U.X8("ytp-autonav-endscreen-link-container"),b);this.W.logVisibility(this.playButton.element,b)};
g.e.ZT=function(b){return b.width<400||b.height<459};g.Z(N_,g.C);g.e=N_.prototype;g.e.create=function(){this.created=!0};
g.e.destroy=function(){this.created=!1};
g.e.f0=function(){return!1};
g.e.Pb=function(){return!1};
g.e.Bd=function(){return!1};g.Z(o_,g.C);g.e=o_.prototype;g.e.EJ=function(){this.notification&&(this.j.stop(),this.oU(this.B),this.B=null,this.notification.close(),this.notification=null)};
g.e.pX=function(b){this.suggestion=b;g.bT(this,b,"hqdefault.jpg")};
g.e.kP=function(){this.Ck(this.api.Pb());this.api.logVisibility(this.element,this.api.Pb());this.api.logVisibility(this.X8("ytp-upnext-autoplay-icon"),this.api.Pb());this.cancelButton&&this.api.logVisibility(this.cancelButton.element,this.api.Pb())};
g.e.NzC=function(){window.focus();this.EJ()};
g.e.a4=function(b){var L=this;this.Tc()||(g.GQ("a11y-announce","Up Next "+this.suggestion.title),this.L=(0,g.zl)(),this.U=new g.Xw(function(){Wd_(L,b)},25),Wd_(this,b),prR(this.api,IRW(this,b)));
g.on(this.element,"ytp-upnext-autoplay-paused")};
g.e.hide=function(){g.C.prototype.hide.call(this)};
g.e.Tc=function(){return!!this.U};
g.e.mY=function(){this.uB();this.L=(0,g.zl)();Wd_(this);g.Rn(this.element,"ytp-upnext-autoplay-paused")};
g.e.uB=function(){this.Tc()&&(this.U.dispose(),this.U=null)};
g.e.select=function(b){b=b===void 0?!1:b;if(this.api.C().T("autonav_notifications")&&b&&window.Notification&&typeof document.hasFocus==="function"){var L=Notification.permission;L==="default"?Notification.requestPermission():L!=="granted"||document.hasFocus()||(this.EJ(),this.notification=new Notification("Up Next",{body:this.suggestion.title,icon:this.suggestion.Ma()}),this.B=this.K(this.notification,"click",this.NzC),this.j.start())}this.uB();this.api.nextVideo(!1,b)};
g.e.YL=function(b){!g.aV(this.cancelButton.element,b.target)&&g.p$(b,this.api)&&(this.api.Pb()&&this.api.logClick(this.X8("ytp-upnext-autoplay-icon")),this.select())};
g.e.uN=function(){this.api.Pb()&&this.cancelButton&&this.api.logClick(this.cancelButton.element);g.j$(this.api,!0)};
g.e.C3C=function(b){this.api.getPresentingPlayerType();this.show();this.a4(b)};
g.e.k80=function(){this.api.getPresentingPlayerType();this.uB();this.hide()};
g.e.jP=function(){this.uB();this.EJ();g.C.prototype.jP.call(this)};g.Z(h0,N_);g.e=h0.prototype;g.e.create=function(){N_.prototype.create.call(this);this.j.K(this.player,"appresize",this.Di);this.j.K(this.player,"onVideoAreaChange",this.Di);this.j.K(this.player,"videodatachange",this.onVideoDataChange);this.j.K(this.player,"autonavchange",this.VT);this.j.K(this.player,"onAutonavCancelled",this.w5);this.onVideoDataChange()};
g.e.show=function(){N_.prototype.show.call(this);(this.J||this.B&&this.B!==this.videoData.clientPlaybackNonce)&&g.j$(this.player,!1);g.AX(this.player)&&this.f0()&&!this.B?(dI(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3||MLF(this.player.y$())&&this.player.T("web_player_pip_logging_fix")?this.U.select(!0):this.U.a4():this.videoData.autonavState===3&&this.U.mY()):(g.j$(this.player,!0),dI(this));this.Di()};
g.e.hide=function(){N_.prototype.hide.call(this);this.U.mY();dI(this)};
g.e.Di=function(){var b=this.player.m0(!0,this.player.isFullscreen());dI(this);R_(this.L);g.dE(this.element,"ytp-autonav-cancelled-small-mode",this.ZT(b));g.dE(this.element,"ytp-autonav-cancelled-tiny-mode",this.J7(b));g.dE(this.element,"ytp-autonav-cancelled-mini-mode",b.width<=400||b.height<=360);this.overlay&&g.VI(this.overlay.element,{width:b.width+"px"});if(!this.X)for(b=0;b<this.videos.length;b++)g.dE(this.videos[b].element,"ytp-suggestion-card-with-margin",b%2===1)};
g.e.onVideoDataChange=function(){var b=this.player.getVideoData();if(this.videoData!==b&&b){this.videoData=b;b=this.videoData.suggestions;var L=g.B4(this.videoData);L&&(this.U.pX(L),this.U!==this.L&&this.L.pX(L));if(b&&b.length)for(L=0;L<xXq.length;++L){var q=xXq[L];if(b&&b[q]){this.videos[L]=new QF(this.player);var V=this.videos[L];q=b[q];V.suggestion!==q&&(V.suggestion=q,g.bT(V,q));g.A(this,this.videos[L]);this.videos[L].ID(this.Y.element)}}this.Di()}};
g.e.VT=function(b){b===1?(this.J=!1,this.B=this.videoData.clientPlaybackNonce,this.U.uB(),this.xf&&this.Di()):(this.J=!0,this.Pb()&&(b===2?this.U.a4():b===3&&this.U.mY()))};
g.e.w5=function(b){b?this.VT(1):(this.B=null,this.J=!1)};
g.e.f0=function(){return this.videoData.autonavState!==1};
g.e.ZT=function(b){return(b.width<910||b.height<459)&&!this.J7(b)&&!(b.width<=400||b.height<=360)};
g.e.J7=function(b){return b.width<800&&!(b.width<=400||b.height<=360)};
g.e.Pb=function(){return this.xf&&g.AX(this.player)&&this.f0()&&!this.B};
var xXq=[1,3,2,4];g.Z($XW,N_);g.e=$XW.prototype;g.e.create=function(){N_.prototype.create.call(this);var b=this.player.getVideoData();b&&(this.videoData=b);this.eY();this.L.K(this.player,"appresize",this.eY);this.L.K(this.player,"onVideoAreaChange",this.eY);this.L.K(this.player,"videodatachange",this.onVideoDataChange);this.L.K(this.player,"autonavchange",this.DK);this.L.K(this.player,"onAutonavCancelled",this.KQ);b=this.videoData.autonavState;b!==this.Y&&this.DK(b);this.L.K(this.element,"transitionend",this.SU)};
g.e.destroy=function(){g.Dw(this.L);g.Mi(this.stills);this.stills=[];N_.prototype.destroy.call(this);g.on(this.element,"ytp-show-tiles");this.X.stop();this.Y=this.videoData.autonavState};
g.e.f0=function(){return this.videoData.autonavState!==1};
g.e.show=function(){var b=this.xf;N_.prototype.show.call(this);g.on(this.element,"ytp-show-tiles");this.player.C().L?g.JZ(this.X):this.X.start();(this.j||this.B&&this.B!==this.videoData.clientPlaybackNonce)&&g.j$(this.player,!1);OH(this)?(BX(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3||MLF(this.player.y$())&&this.player.T("web_player_pip_logging_fix")?this.U.select(!0):this.U.a4():this.videoData.autonavState===3&&this.U.mY()):(g.j$(this.player,!0),BX(this));b!==this.xf&&
this.player.logVisibility(this.element,!0)};
g.e.hide=function(){var b=this.xf;N_.prototype.hide.call(this);this.U.mY();BX(this);b!==this.xf&&this.player.logVisibility(this.element,!1)};
g.e.SU=function(b){b.target===this.element&&this.eY()};
g.e.eY=function(){var b,L,q,V;var Q=((b=this.videoData)==null?0:(L=b.suggestions)==null?0:L.length)?(q=this.videoData)==null?void 0:q.suggestions:[(V=this.videoData)==null?void 0:g.B4(V)];if(Q.length){L=this.W.m0(!0,this.W.isFullscreen());b=Math.floor((L.width-64+16)/(g.Li(L.width*.27,250,450)+16));L=Math.min(3,Math.floor((L.height-64)/((L.width-64-(b-1)*16)/b*.5625+70)));g.hS(this.element,["ytp-modern-endscreen-limit-rows-1","ytp-modern-endscreen-limit-rows-2","ytp-modern-endscreen-limit-rows-3"]);
g.Rn(this.element,"ytp-modern-endscreen-limit-rows-"+L);g.dE(this.element,"ytp-modern-endscreen-single-item",b===1);g.dE(this.element,"ytp-modern-endscreen-row-0",L===0);b=this.table.element;b.ariaLive="polite";this.U.pX(g.B4(this.videoData));this.U instanceof G4&&R_(this.U);g.dE(this.element,"ytp-endscreen-takeover",OH(this));BX(this);L=0;b.ariaBusy="true";q=Q.length;for(V=0;V<q;V++){var G=V%q,R=this.stills[V];R||(R=new g.LX(this.player),this.stills[V]=R,b.appendChild(R.element));g.MKJ(R,Q[G]);L++}this.stills.length=
L}};
g.e.onVideoDataChange=function(){var b=this.player.getVideoData(1);this.videoData!==b&&(b!=null&&g.B4(b)?(this.videoData=b,this.eY()):this.player.Bx("missg",{vid:(b==null?void 0:b.videoId)||"",cpn:(b==null?void 0:b.clientPlaybackNonce)||""}))};
g.e.Bd=function(){return this.U.Tc()};
g.e.DK=function(b){b===1?(this.j=!1,this.B=this.videoData.clientPlaybackNonce,this.U.uB(),this.xf&&this.eY()):(this.j=!0,this.xf&&OH(this)&&(b===2?this.U.a4():b===3&&this.U.mY()))};
g.e.KQ=function(b){if(b){for(b=0;b<this.stills.length;b++)this.W.logVisibility(this.stills[b].element,!0);this.DK(1)}else this.B=null,this.j=!1;this.eY()};
g.e.Pb=function(){return this.xf&&OH(this)};g.Z(Hlq,N_);Hlq.prototype.q0=function(){var b=this.player.getVideoData();this.U.update({profilePicture:b.profilePicture,author:b.author});this.subscribeButton.channelId=b.f4;var L=this.subscribeButton;b.subscribed?L.U():L.L()};g.Z(EH,g.C);EH.prototype.select=function(){this.api.O8(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.mz||void 0)&&this.api.logClick(this.element)};
EH.prototype.onClick=function(b){if(g.u_(this.api.C())&&this.api.T("web_player_log_click_before_generating_ve_conversion_params")){this.api.logClick(this.element);var L=this.suggestion.uE(),q={};g.PW(this.api,q);L=g.il(L,q);g.MB(L,this.api,b)}else g.p$(b,this.api,this.L,this.suggestion.sessionData||void 0)&&this.select()};
EH.prototype.onKeyPress=function(b){switch(b.keyCode){case 13:case 32:b.defaultPrevented||(this.select(),b.preventDefault())}};
EH.prototype.onVideoDataChange=function(){var b=this.api.getVideoData(),L=this.api.C();this.L=b.B6?!1:L.j};g.Z(Fy,N_);g.e=Fy.prototype;g.e.create=function(){N_.prototype.create.call(this);var b=this.player.getVideoData();b&&(this.videoData=b);this.fJ();this.L.K(this.player,"appresize",this.fJ);this.L.K(this.player,"onVideoAreaChange",this.fJ);this.L.K(this.player,"videodatachange",this.onVideoDataChange);this.L.K(this.player,"autonavchange",this.pS);this.L.K(this.player,"onAutonavCancelled",this.CQ);b=this.videoData.autonavState;b!==this.V&&this.pS(b);this.L.K(this.element,"transitionend",this.aK)};
g.e.destroy=function(){g.Dw(this.L);g.Mi(this.stills);this.stills=[];N_.prototype.destroy.call(this);g.on(this.element,"ytp-show-tiles");this.J.stop();this.V=this.videoData.autonavState};
g.e.f0=function(){return this.videoData.autonavState!==1};
g.e.show=function(){var b=this.xf;N_.prototype.show.call(this);g.on(this.element,"ytp-show-tiles");this.player.C().L?g.JZ(this.J):this.J.start();(this.X||this.j&&this.j!==this.videoData.clientPlaybackNonce)&&g.j$(this.player,!1);pZ(this)?(M_(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3||MLF(this.player.y$())&&this.player.T("web_player_pip_logging_fix")?this.U.select(!0):this.U.a4():this.videoData.autonavState===3&&this.U.mY()):(g.j$(this.player,!0),M_(this));b!==this.xf&&
this.player.logVisibility(this.element,!0)};
g.e.hide=function(){var b=this.xf;N_.prototype.hide.call(this);this.U.mY();M_(this);b!==this.xf&&this.player.logVisibility(this.element,!1)};
g.e.aK=function(b){b.target===this.element&&this.fJ()};
g.e.fJ=function(){var b,L,q,V;var Q=((b=this.videoData)==null?0:(L=b.suggestions)==null?0:L.length)?(q=this.videoData)==null?void 0:q.suggestions:[(V=this.videoData)==null?void 0:g.B4(V)];if(Q.length){g.Rn(this.element,"ytp-endscreen-paginate");var G=this.W.m0(!0,this.W.isFullscreen());if(b=g.IF(this.W))b=b.Ih()?48:32,G.width-=b*2;var R=G.width/G.height;V=96/54;L=b=2;var h=Math.max(G.width/96,2),d=Math.max(G.height/54,2);q=Q.length;var O=q*4;for(O-=4;O>0&&(b<h||L<d);){var B=b/2,E=L/2,F=b<=h-2&&O>=
E*4,p=L<=d-2&&O>=B*4;if((B+1)/E*V/R>R/(B/(E+1)*V)&&p)O-=B*4,L+=2;else if(F)O-=E*4,b+=2;else if(p)O-=B*4,L+=2;else break}V=!1;O>=12&&q*4-O<=6&&(L>=4||b>=4)&&(V=!0);O=b*96;h=L*54;R=O/h<R?G.height/h:G.width/O;R=Math.min(R,2);O=Math.floor(Math.min(G.width,O*R));h=Math.floor(Math.min(G.height,h*R));G=this.table.element;G.ariaLive="polite";g.Fu(G,O,h);g.VI(G,{marginLeft:O/-2+"px",marginTop:h/-2+"px"});this.U.pX(g.B4(this.videoData));this.U instanceof G4&&R_(this.U);g.dE(this.element,"ytp-endscreen-takeover",
pZ(this));M_(this);O+=4;h+=4;R=0;G.ariaBusy="true";for(d=0;d<b;d++)for(B=0;B<L;B++)if(E=R,p=0,V&&d>=b-2&&B>=L-2?p=1:B%2===0&&d%2===0&&(B<2&&d<2?B===0&&d===0&&(p=2):p=2),E=g.qI(E+this.B,q),p!==0){F=this.stills[R];F||(F=new EH(this.player),this.stills[R]=F,G.appendChild(F.element));var M=Math.floor(h*B/L),y=Math.floor(O*d/b),S=Math.floor(h*(B+p)/L)-M-4,v=Math.floor(O*(d+p)/b)-y-4;g.dO(F.element,y,M);g.Fu(F.element,v,S);g.VI(F.element,"transitionDelay",(B+d)/20+"s");g.dE(F.element,"ytp-videowall-still-mini",
p===1);g.dE(F.element,"ytp-videowall-still-large",p>2);p=Math.max(v,S);g.dE(F.element,"ytp-videowall-still-round-large",p>=256);g.dE(F.element,"ytp-videowall-still-round-medium",p>96&&p<256);g.dE(F.element,"ytp-videowall-still-round-small",p<=96);E=Q[E];F.suggestion!==E&&(F.suggestion=E,p=F.api.C(),M=g.GG(F.element,"ytp-videowall-still-large")?"hqdefault.jpg":"mqdefault.jpg",g.bT(F,E,M),g.u_(p)&&!F.api.T("web_player_log_click_before_generating_ve_conversion_params")&&(p=E.uE(),M={},g.Tv(F.api,"addEmbedsConversionTrackingParams",
[M]),p=g.il(p,M),F.updateValue("url",p)),(E=(E=E.sessionData)&&E.itct)&&F.api.setTrackingParams(F.element,E));R++}G.ariaBusy="false";g.dE(this.element,"ytp-endscreen-paginate",R<q);for(Q=this.stills.length-1;Q>=R;Q--)b=this.stills[Q],g.tw(b.element),g.pD(b);this.stills.length=R}};
g.e.onVideoDataChange=function(){var b=this.player.getVideoData(1);this.videoData!==b&&(b!=null&&g.B4(b)?(this.B=0,this.videoData=b,this.fJ()):this.player.Bx("missg",{vid:(b==null?void 0:b.videoId)||"",cpn:(b==null?void 0:b.clientPlaybackNonce)||""}))};
g.e.kL=function(){this.B+=this.stills.length;this.fJ()};
g.e.VB=function(){this.B-=this.stills.length;this.fJ()};
g.e.Bd=function(){return this.U.Tc()};
g.e.pS=function(b){b===1?(this.X=!1,this.j=this.videoData.clientPlaybackNonce,this.U.uB(),this.xf&&this.fJ()):(this.X=!0,this.xf&&pZ(this)&&(b===2?this.U.a4():b===3&&this.U.mY()))};
g.e.CQ=function(b){if(b){for(b=0;b<this.stills.length;b++)this.W.logVisibility(this.stills[b].element,!0);this.pS(1)}else this.j=null,this.X=!1;this.fJ()};
g.e.Pb=function(){return this.xf&&pZ(this)};g.Z(zTw,g.C);g.e=zTw.prototype;g.e.K6=function(){switch(this.buttonType){case 1:var b="Watch again on YouTube";var L=156915;break;case 2:b="Continue watching on YouTube";L=156942;break;default:b="Continue watching on YouTube",L=156942}this.update({content:b});this.W.hasVe(this.element)&&this.W.destroyVe(this.element);this.W.createClientVe(this.element,this,L)};
g.e.onClick=function(b){this.W.T("web_player_log_click_before_generating_ve_conversion_params")&&this.W.logClick(this.element);g.MB(this.getVideoUrl(),this.W,b);this.W.T("web_player_log_click_before_generating_ve_conversion_params")||this.W.logClick(this.element)};
g.e.getVideoUrl=function(){var b=!0;switch(this.buttonType){case 1:b=!0;break;case 2:b=!1}b=this.W.getVideoUrl(b,!1,!1,!0);var L=this.W.C();if(g.u_(L)){var q={};g.u_(L)&&g.Tv(this.W,"addEmbedsConversionTrackingParams",[q]);b=g.il(b,q)}return b};
g.e.logVisibility=function(){this.W.logVisibility(this.element,this.xf&&this.Uo)};
g.e.show=function(){g.C.prototype.show.call(this);this.logVisibility()};
g.e.hide=function(){g.C.prototype.hide.call(this);this.logVisibility()};
g.e.yC=function(b){g.C.prototype.yC.call(this,b);this.logVisibility()};g.Z(eG,N_);eG.prototype.hasSuggestions=function(){var b;return(b=this.U)==null?void 0:b.hasSuggestions()};
eG.prototype.show=function(){if(this.player.getPlayerState()!==3){N_.prototype.show.call(this);var b=this.L;if(b){var L=this.U.hasSuggestions();g.dE(this.element,"ytp-shorts-branded-ui",L);L?b.show():b.hide()}var q;(q=g.IF(this.player))==null||q.IV(!0);this.player.logVisibility(this.element,!0);this.watchButton.yC(!0)}};
eG.prototype.hide=function(){N_.prototype.hide.call(this);var b;(b=g.IF(this.player))==null||b.IV(!1);this.player.logVisibility(this.element,!1);this.watchButton.yC(!1)};g.Z(vPw,g.Eg);g.e=vPw.prototype;g.e.oo=function(){var b=this.player.getVideoData(),L=b.mutedAutoplay&&(b.limitedPlaybackDurationInSeconds>0||b.endSeconds>0||b.mutedAutoplayDurationMode!==2);if(this.player.isEmbedsShortsMode()&&!L)return!0;var q;var V=!!((b==null?0:g.B4(b))||(b==null?0:(q=b.suggestions)==null?0:q.length));V=!gPq(this.player)||V;b=b.yj;q=this.player.UR();return V&&!b&&!q&&!L};
g.e.Pb=function(){return this.endScreen.Pb()};
g.e.MPo=function(){return this.Pb()?this.endScreen.Bd():!1};
g.e.jP=function(){this.player.Ey("endscreen");g.Eg.prototype.jP.call(this)};
g.e.load=function(){var b=this.player.getVideoData();var L=b.transitionEndpointAtEndOfStream;if(L&&L.videoId){var q=this.player.HM().dg.get("heartbeat"),V=g.B4(b);!V||L.videoId!==V.videoId||b.N$?(this.player.O8(L.videoId,void 0,void 0,!0,!0,L),q&&q.qk("HEARTBEAT_ACTION_TRIGGER_AT_STREAM_END","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT"),b=!0):b=!1}else b=!1;b||(g.Eg.prototype.load.call(this),this.endScreen.show())};
g.e.unload=function(){g.Eg.prototype.unload.call(this);this.endScreen.hide();this.endScreen.destroy()};
g.e.onCueRangeEnter=function(b){this.oo()&&(this.endScreen.created||this.endScreen.create(),b.getId()==="load"&&this.load())};
g.e.onCueRangeExit=function(b){b.getId()==="load"&&this.loaded&&this.unload()};
g.e.onVideoDataChange=function(){il_(this);this.B&&Kd_(this)&&(this.endScreen&&(this.endScreen.hide(),this.endScreen.created&&this.endScreen.destroy(),this.endScreen.dispose()),this.U?this.endScreen=new h0(this.player):this.endScreen=new Fy(this.player),g.A(this,this.endScreen),g.lt(this.player,this.endScreen.element,4))};g.BM("endscreen",vPw);})(_yt_player);
