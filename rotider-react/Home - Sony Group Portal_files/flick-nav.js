var Ke=Object.defineProperty;var ts=(s,t,e)=>t in s?Ke(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var f=(s,t,e)=>ts(s,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const h of r.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function e(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=e(n);fetch(n.href,r)}})();function es(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Lt={exports:{}},pe;function ss(){return pe||(pe=1,function(s){var t=Object.prototype.hasOwnProperty,e="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(e=!1));function n(a,u,l){this.fn=a,this.context=u,this.once=l||!1}function r(a,u,l,c,g){if(typeof l!="function")throw new TypeError("The listener must be a function");var w=new n(l,c||a,g),p=e?e+u:u;return a._events[p]?a._events[p].fn?a._events[p]=[a._events[p],w]:a._events[p].push(w):(a._events[p]=w,a._eventsCount++),a}function h(a,u){--a._eventsCount===0?a._events=new i:delete a._events[u]}function o(){this._events=new i,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],l,c;if(this._eventsCount===0)return u;for(c in l=this._events)t.call(l,c)&&u.push(e?c.slice(1):c);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},o.prototype.listeners=function(u){var l=e?e+u:u,c=this._events[l];if(!c)return[];if(c.fn)return[c.fn];for(var g=0,w=c.length,p=new Array(w);g<w;g++)p[g]=c[g].fn;return p},o.prototype.listenerCount=function(u){var l=e?e+u:u,c=this._events[l];return c?c.fn?1:c.length:0},o.prototype.emit=function(u,l,c,g,w,p){var b=e?e+u:u;if(!this._events[b])return!1;var d=this._events[b],k=arguments.length,O,x;if(d.fn){switch(d.once&&this.removeListener(u,d.fn,void 0,!0),k){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,l),!0;case 3:return d.fn.call(d.context,l,c),!0;case 4:return d.fn.call(d.context,l,c,g),!0;case 5:return d.fn.call(d.context,l,c,g,w),!0;case 6:return d.fn.call(d.context,l,c,g,w,p),!0}for(x=1,O=new Array(k-1);x<k;x++)O[x-1]=arguments[x];d.fn.apply(d.context,O)}else{var q=d.length,D;for(x=0;x<q;x++)switch(d[x].once&&this.removeListener(u,d[x].fn,void 0,!0),k){case 1:d[x].fn.call(d[x].context);break;case 2:d[x].fn.call(d[x].context,l);break;case 3:d[x].fn.call(d[x].context,l,c);break;case 4:d[x].fn.call(d[x].context,l,c,g);break;default:if(!O)for(D=1,O=new Array(k-1);D<k;D++)O[D-1]=arguments[D];d[x].fn.apply(d[x].context,O)}}return!0},o.prototype.on=function(u,l,c){return r(this,u,l,c,!1)},o.prototype.once=function(u,l,c){return r(this,u,l,c,!0)},o.prototype.removeListener=function(u,l,c,g){var w=e?e+u:u;if(!this._events[w])return this;if(!l)return h(this,w),this;var p=this._events[w];if(p.fn)p.fn===l&&(!g||p.once)&&(!c||p.context===c)&&h(this,w);else{for(var b=0,d=[],k=p.length;b<k;b++)(p[b].fn!==l||g&&!p[b].once||c&&p[b].context!==c)&&d.push(p[b]);d.length?this._events[w]=d.length===1?d[0]:d:h(this,w)}return this},o.prototype.removeAllListeners=function(u){var l;return u?(l=e?e+u:u,this._events[l]&&h(this,l)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=e,o.EventEmitter=o,s.exports=o}(Lt)),Lt.exports}var is=ss();const Tt=es(is);class ns extends Tt{constructor(e){super();f(this,"anchor");f(this,"height");f(this,"_onClick",e=>{this.navigate(),e.preventDefault()});this.wrapper=e,this.anchor=this.wrapper.querySelector("a"),this.height=this.wrapper.offsetHeight,this.anchor.addEventListener("click",this._onClick)}select(){this._select()}unselect(){this._unselect()}navigate(){this.emit("navigate",this.anchor)}_select(){this.wrapper.classList.add("selecting"),this.emit("select",this.anchor)}_unselect(){this.wrapper.classList.remove("selecting")}}const G={easeOutQuad:s=>1-(1-s)*(1-s),easeOutExpo:s=>s===1?1:1-Math.pow(2,-10*s),easeOutSine:s=>Math.sin(s*Math.PI/2),easeOutElastic:s=>{const t=2*Math.PI/3;return s===0?0:s===1?1:Math.pow(2,-10*s)*Math.sin((s*10-.75)*t)+1},map:(s,t,e,i=0,n=1)=>(s-i)/(n-i)*(e-t)+t};class rs extends Tt{constructor(e){super();f(this,"id");f(this,"isRoot",!1);f(this,"activeItem");f(this,"list");f(this,"items");f(this,"selectingIndex",0);f(this,"count",0);f(this,"startedIntroTime",Date.now());f(this,"introDuration",200);f(this,"_update",()=>{const e=requestAnimationFrame(this._update),n=(Date.now()-this.startedIntroTime)/this.introDuration;n>=1&&(cancelAnimationFrame(e),this.list.style.transition="");const r=300;let h=G.easeOutQuad(1-n);h<.1&&(h=0),this.list.style.transform=`translateY(${r*h}px)`});f(this,"_onNavigage",e=>{this.emit("navigate",e)});f(this,"_onSelect",e=>{this.selectingIndex<=0?this.wrapper.classList.remove("hasAbove"):this.wrapper.classList.add("hasAbove"),this.selectingIndex>=this.items.length-1?this.wrapper.classList.remove("hasBelow"):this.wrapper.classList.add("hasBelow"),this.emit("select",e)});this.wrapper=e,this.id=this.wrapper.id,this.list=this.wrapper.querySelector(".tmpl-flickNav_list"),this.items=[...this.wrapper.querySelectorAll(".tmpl-flickNav_item")].map(i=>{const n=new ns(i);return n.on("navigate",this._onNavigage),n.on("select",this._onSelect),n}),this.activeItem=this.items[0]}select(e){this.selectingIndex+=e,this.selectingIndex=Math.min(this.items.length-1,Math.max(0,this.selectingIndex)),this.items.forEach((i,n)=>{if(this.selectingIndex===n){i.select();const r=i.height;this.list.style.transform=`translateY(${n*-r}px)`,this.activeItem=i}else i.unselect()})}navigate(){this.activeItem.navigate()}show(){this._show(),this.activeItem.select()}hide(){this._hide()}_show(){this.wrapper.classList.add("visible")}_hide(){this.wrapper.classList.remove("visible")}}class os extends Tt{constructor(e,i){super();f(this,"isVisible",!1);f(this,"visibleNavs",[]);f(this,"navs");f(this,"activeNav",null);f(this,"isEntering",!1);f(this,"_onNavigage",e=>{const i=e.getAttribute("href");if(!(i!=null&&i.startsWith("#"))){if(window.s){const h=document.getElementsByTagName("html")[0].getAttribute("lang"),o=e.getAttribute("data-analytics-category")||"",a=e.getAttribute("data-analytics-name")||"",u=location.href;window.s.tl(!0,"o",`flickNav_${h}+${o}_to_${a}+${u}`)}setTimeout(()=>{location.href=i},300),this.emit("enter",3);return}const n=i,r=this.navs.find(h=>`#${h.id}`===n);this._enter(r)});f(this,"_onSelect",e=>{this.emit("select",e)});this.wrapper=e,this.behindElements=i,this.navs=[...this.wrapper.querySelectorAll(".tmpl-flickNav_container")].map(n=>{const r=new rs(n);return r.on("navigate",this._onNavigage),r.on("select",this._onSelect),r}),this.navs[0].isRoot=!0}swipeLeft(){var e;this.isVisible?(e=this.activeNav)==null||e.navigate():(this._show(),this._enter(this.navs[0])),this.isEntering=!0,setTimeout(()=>{this.isEntering=!1},300)}swipeRight(){this._leave()}swipeVertical(e){var i;this.isEntering||(i=this.activeNav)==null||i.select(e)}_show(){this.isVisible=!0,this.wrapper.classList.add("visible"),this.activeNav=this.navs[0];for(const e of this.behindElements)e.style.width=`${innerWidth}px`,e.style.zIndex="0",e.classList.add("tmpl-flickNav_overwrap");document.documentElement.style.overflowY="hidden",document.documentElement.style.height=`${innerHeight+50}px`,this.emit("show-nav")}_hide(){this.isVisible=!1,this.wrapper.classList.remove("visible"),setTimeout(()=>{for(const e of this.behindElements)e.style.width="",e.style.zIndex="",e.classList.remove("tmpl-flickNav_overwrap");document.documentElement.style.overflowY="",document.documentElement.style.height="",this.emit("hide-nav")},1)}_enter(e){var i;(i=this.activeNav)==null||i.hide(),this.activeNav=e,this.visibleNavs.push(this.activeNav),this.activeNav.show(),this.emit("enter",this.visibleNavs.length)}_leave(){const e=this.visibleNavs.pop();if(e==null||e.hide(),this.activeNav=this.visibleNavs[this.visibleNavs.length-1],this.emit("leave",this.visibleNavs.length),!this.activeNav){this._hide();return}this.visibleNavs.length===0?(this._hide(),this.isVisible=!1):this.activeNav.show()}}const qt={},ve=[];function _(s,t){if(Array.isArray(s)){for(const e of s)_(e,t);return}if(typeof s=="object"){for(const e in s)_(e,s[e]);return}xe(Object.getOwnPropertyNames(t)),qt[s]=Object.assign(qt[s]||{},t)}function P(s){return qt[s]||{}}function hs(){return[...new Set(ve)]}function xe(s){ve.push(...s)}function Jt(s,t){let e;const i=s.length,n=[];for(e=0;e<i;e++)n.push(t(s[e]));return n}function as(s,t){let e;const i=s.length,n=[];for(e=0;e<i;e++)t(s[e])&&n.push(s[e]);return n}function Ct(s){return s%360*Math.PI/180}function us(s){return s.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})}function Ne(s){return s.charAt(0).toUpperCase()+s.slice(1)}function rt(s,t,e,i){return(t==null||e==null)&&(i=i||s.bbox(),t==null?t=i.width/i.height*e:e==null&&(e=i.height/i.width*t)),{width:t,height:e}}function $t(s,t){const e=s.origin;let i=s.ox!=null?s.ox:s.originX!=null?s.originX:"center",n=s.oy!=null?s.oy:s.originY!=null?s.originY:"center";e!=null&&([i,n]=Array.isArray(e)?e:typeof e=="object"?[e.x,e.y]:[e,e]);const r=typeof i=="string",h=typeof n=="string";if(r||h){const{height:o,width:a,x:u,y:l}=t.bbox();r&&(i=i.includes("left")?u:i.includes("right")?u+a:u+a/2),h&&(n=n.includes("top")?l:n.includes("bottom")?l+o:l+o/2)}return[i,n]}const ls=new Set(["desc","metadata","title"]),Yt=s=>ls.has(s.nodeName),Se=(s,t,e={})=>{const i={...t};for(const n in i)i[n].valueOf()===e[n]&&delete i[n];Object.keys(i).length?s.node.setAttribute("data-svgjs",JSON.stringify(i)):(s.node.removeAttribute("data-svgjs"),s.node.removeAttribute("svgjs:data"))},Zt="http://www.w3.org/2000/svg",cs="http://www.w3.org/1999/xhtml",It="http://www.w3.org/2000/xmlns/",pt="http://www.w3.org/1999/xlink",N={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function fs(){return N.window}class Kt{}const J={},te="___SYMBOL___ROOT___";function lt(s,t=Zt){return N.document.createElementNS(t,s)}function I(s,t=!1){if(s instanceof Kt)return s;if(typeof s=="object")return Dt(s);if(s==null)return new J[te];if(typeof s=="string"&&s.charAt(0)!=="<")return Dt(N.document.querySelector(s));const e=t?N.document.createElement("div"):lt("svg");return e.innerHTML=s,s=Dt(e.firstChild),e.removeChild(e.firstChild),s}function E(s,t){return t&&(t instanceof N.window.Node||t.ownerDocument&&t instanceof t.ownerDocument.defaultView.Node)?t:lt(s)}function $(s){if(!s)return null;if(s.instance instanceof Kt)return s.instance;if(s.nodeName==="#document-fragment")return new J.Fragment(s);let t=Ne(s.nodeName||"Dom");return t==="LinearGradient"||t==="RadialGradient"?t="Gradient":J[t]||(t="Dom"),new J[t](s)}let Dt=$;function S(s,t=s.name,e=!1){return J[t]=s,e&&(J[te]=s),xe(Object.getOwnPropertyNames(s.prototype)),s}function ds(s){return J[s]}let ps=1e3;function ke(s){return"Svgjs"+Ne(s)+ps++}function Te(s){for(let t=s.children.length-1;t>=0;t--)Te(s.children[t]);return s.id&&(s.id=ke(s.nodeName)),s}function v(s,t){let e,i;for(s=Array.isArray(s)?s:[s],i=s.length-1;i>=0;i--)for(e in t)s[i].prototype[e]=t[e]}function M(s){return function(...t){const e=t[t.length-1];return e&&e.constructor===Object&&!(e instanceof Array)?s.apply(this,t.slice(0,-1)).attr(e):s.apply(this,t)}}function ms(){return this.parent().children()}function gs(){return this.parent().index(this)}function ws(){return this.siblings()[this.position()+1]}function ys(){return this.siblings()[this.position()-1]}function _s(){const s=this.position();return this.parent().add(this.remove(),s+1),this}function bs(){const s=this.position();return this.parent().add(this.remove(),s?s-1:0),this}function vs(){return this.parent().add(this.remove()),this}function xs(){return this.parent().add(this.remove(),0),this}function Ns(s){s=I(s),s.remove();const t=this.position();return this.parent().add(s,t),this}function Ss(s){s=I(s),s.remove();const t=this.position();return this.parent().add(s,t+1),this}function ks(s){return s=I(s),s.before(this),this}function Ts(s){return s=I(s),s.after(this),this}_("Dom",{siblings:ms,position:gs,next:ws,prev:ys,forward:_s,backward:bs,front:vs,back:xs,before:Ns,after:Ss,insertBefore:ks,insertAfter:Ts});const Ae=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,As=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Ms=/rgb\((\d+),(\d+),(\d+)\)/,Es=/(#[a-z_][a-z0-9\-_]*)/i,Os=/\)\s*,?\s*/,Ls=/\s/g,me=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,ge=/^rgb\(/,we=/^(\s+)?$/,ye=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cs=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,B=/[\s,]+/,ee=/[MLHVCSQTAZ]/i;function Is(){const s=this.attr("class");return s==null?[]:s.trim().split(B)}function Ds(s){return this.classes().indexOf(s)!==-1}function Ps(s){if(!this.hasClass(s)){const t=this.classes();t.push(s),this.attr("class",t.join(" "))}return this}function Rs(s){return this.hasClass(s)&&this.attr("class",this.classes().filter(function(t){return t!==s}).join(" ")),this}function js(s){return this.hasClass(s)?this.removeClass(s):this.addClass(s)}_("Dom",{classes:Is,hasClass:Ds,addClass:Ps,removeClass:Rs,toggleClass:js});function zs(s,t){const e={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(i){return!!i.length}).forEach(function(i){const n=i.split(/\s*:\s*/);e[n[0]]=n[1]}),e;if(arguments.length<2){if(Array.isArray(s)){for(const i of s){const n=i;e[i]=this.node.style.getPropertyValue(n)}return e}if(typeof s=="string")return this.node.style.getPropertyValue(s);if(typeof s=="object")for(const i in s)this.node.style.setProperty(i,s[i]==null||we.test(s[i])?"":s[i])}return arguments.length===2&&this.node.style.setProperty(s,t==null||we.test(t)?"":t),this}function qs(){return this.css("display","")}function $s(){return this.css("display","none")}function Ys(){return this.css("display")!=="none"}_("Dom",{css:zs,show:qs,hide:$s,visible:Ys});function Fs(s,t,e){if(s==null)return this.data(Jt(as(this.node.attributes,i=>i.nodeName.indexOf("data-")===0),i=>i.nodeName.slice(5)));if(s instanceof Array){const i={};for(const n of s)i[n]=this.data(n);return i}else if(typeof s=="object")for(t in s)this.data(t,s[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+s))}catch{return this.attr("data-"+s)}else this.attr("data-"+s,t===null?null:e===!0||typeof t=="string"||typeof t=="number"?t:JSON.stringify(t));return this}_("Dom",{data:Fs});function Bs(s,t){if(typeof arguments[0]=="object")for(const e in s)this.remember(e,s[e]);else{if(arguments.length===1)return this.memory()[s];this.memory()[s]=t}return this}function Xs(){if(arguments.length===0)this._memory={};else for(let s=arguments.length-1;s>=0;s--)delete this.memory()[arguments[s]];return this}function Hs(){return this._memory=this._memory||{}}_("Dom",{remember:Bs,forget:Xs,memory:Hs});function Vs(s){return s.length===4?["#",s.substring(1,2),s.substring(1,2),s.substring(2,3),s.substring(2,3),s.substring(3,4),s.substring(3,4)].join(""):s}function Us(s){const t=Math.round(s),i=Math.max(0,Math.min(255,t)).toString(16);return i.length===1?"0"+i:i}function tt(s,t){for(let e=t.length;e--;)if(s[t[e]]==null)return!1;return!0}function Gs(s,t){const e=tt(s,"rgb")?{_a:s.r,_b:s.g,_c:s.b,_d:0,space:"rgb"}:tt(s,"xyz")?{_a:s.x,_b:s.y,_c:s.z,_d:0,space:"xyz"}:tt(s,"hsl")?{_a:s.h,_b:s.s,_c:s.l,_d:0,space:"hsl"}:tt(s,"lab")?{_a:s.l,_b:s.a,_c:s.b,_d:0,space:"lab"}:tt(s,"lch")?{_a:s.l,_b:s.c,_c:s.h,_d:0,space:"lch"}:tt(s,"cmyk")?{_a:s.c,_b:s.m,_c:s.y,_d:s.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return e.space=t||e.space,e}function Ws(s){return s==="lab"||s==="xyz"||s==="lch"}function Pt(s,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?s+(t-s)*6*e:e<1/2?t:e<2/3?s+(t-s)*(2/3-e)*6:s}class A{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof A||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&typeof t.r=="number"&&typeof t.g=="number"&&typeof t.b=="number"}static random(t="vibrant",e){const{random:i,round:n,sin:r,PI:h}=Math;if(t==="vibrant"){const o=24*i()+57,a=38*i()+45,u=360*i();return new A(o,a,u,"lch")}else if(t==="sine"){e=e??i();const o=n(80*r(2*h*e/.5+.01)+150),a=n(50*r(2*h*e/.5+4.6)+200),u=n(100*r(2*h*e/.5+2.3)+150);return new A(o,a,u)}else if(t==="pastel"){const o=8*i()+86,a=17*i()+9,u=360*i();return new A(o,a,u,"lch")}else if(t==="dark"){const o=10+10*i(),a=50*i()+86,u=360*i();return new A(o,a,u,"lch")}else if(t==="rgb"){const o=255*i(),a=255*i(),u=255*i();return new A(o,a,u)}else if(t==="lab"){const o=100*i(),a=256*i()-128,u=256*i()-128;return new A(o,a,u,"lab")}else if(t==="grey"){const o=255*i();return new A(o,o,o)}else throw new Error("Unsupported random color mode")}static test(t){return typeof t=="string"&&(me.test(t)||ge.test(t))}cmyk(){const{_a:t,_b:e,_c:i}=this.rgb(),[n,r,h]=[t,e,i].map(g=>g/255),o=Math.min(1-n,1-r,1-h);if(o===1)return new A(0,0,0,1,"cmyk");const a=(1-n-o)/(1-o),u=(1-r-o)/(1-o),l=(1-h-o)/(1-o);return new A(a,u,l,o,"cmyk")}hsl(){const{_a:t,_b:e,_c:i}=this.rgb(),[n,r,h]=[t,e,i].map(b=>b/255),o=Math.max(n,r,h),a=Math.min(n,r,h),u=(o+a)/2,l=o===a,c=o-a,g=l?0:u>.5?c/(2-o-a):c/(o+a),w=l?0:o===n?((r-h)/c+(r<h?6:0))/6:o===r?((h-n)/c+2)/6:o===h?((n-r)/c+4)/6:0;return new A(360*w,100*g,100*u,"hsl")}init(t=0,e=0,i=0,n=0,r="rgb"){if(t=t||0,this.space)for(const c in this.space)delete this[this.space[c]];if(typeof t=="number")r=typeof n=="string"?n:r,n=typeof n=="string"?0:n,Object.assign(this,{_a:t,_b:e,_c:i,_d:n,space:r});else if(t instanceof Array)this.space=e||(typeof t[3]=="string"?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){const c=Gs(t,e);Object.assign(this,c)}else if(typeof t=="string")if(ge.test(t)){const c=t.replace(Ls,""),[g,w,p]=Ms.exec(c).slice(1,4).map(b=>parseInt(b));Object.assign(this,{_a:g,_b:w,_c:p,_d:0,space:"rgb"})}else if(me.test(t)){const c=b=>parseInt(b,16),[,g,w,p]=As.exec(Vs(t)).map(c);Object.assign(this,{_a:g,_b:w,_c:p,_d:0,space:"rgb"})}else throw Error("Unsupported string format, can't construct Color");const{_a:h,_b:o,_c:a,_d:u}=this,l=this.space==="rgb"?{r:h,g:o,b:a}:this.space==="xyz"?{x:h,y:o,z:a}:this.space==="hsl"?{h,s:o,l:a}:this.space==="lab"?{l:h,a:o,b:a}:this.space==="lch"?{l:h,c:o,h:a}:this.space==="cmyk"?{c:h,m:o,y:a,k:u}:{};Object.assign(this,l)}lab(){const{x:t,y:e,z:i}=this.xyz(),n=116*e-16,r=500*(t-e),h=200*(e-i);return new A(n,r,h,"lab")}lch(){const{l:t,a:e,b:i}=this.lab(),n=Math.sqrt(e**2+i**2);let r=180*Math.atan2(i,e)/Math.PI;return r<0&&(r*=-1,r=360-r),new A(t,n,r,"lch")}rgb(){if(this.space==="rgb")return this;if(Ws(this.space)){let{x:t,y:e,z:i}=this;if(this.space==="lab"||this.space==="lch"){let{l:w,a:p,b}=this;if(this.space==="lch"){const{c:U,h:bt}=this,vt=Math.PI/180;p=U*Math.cos(vt*bt),b=U*Math.sin(vt*bt)}const d=(w+16)/116,k=p/500+d,O=d-b/200,x=16/116,q=.008856,D=7.787;t=.95047*(k**3>q?k**3:(k-x)/D),e=1*(d**3>q?d**3:(d-x)/D),i=1.08883*(O**3>q?O**3:(O-x)/D)}const n=t*3.2406+e*-1.5372+i*-.4986,r=t*-.9689+e*1.8758+i*.0415,h=t*.0557+e*-.204+i*1.057,o=Math.pow,a=.0031308,u=n>a?1.055*o(n,1/2.4)-.055:12.92*n,l=r>a?1.055*o(r,1/2.4)-.055:12.92*r,c=h>a?1.055*o(h,1/2.4)-.055:12.92*h;return new A(255*u,255*l,255*c)}else if(this.space==="hsl"){let{h:t,s:e,l:i}=this;if(t/=360,e/=100,i/=100,e===0)return i*=255,new A(i,i,i);const n=i<.5?i*(1+e):i+e-i*e,r=2*i-n,h=255*Pt(r,n,t+1/3),o=255*Pt(r,n,t),a=255*Pt(r,n,t-1/3);return new A(h,o,a)}else if(this.space==="cmyk"){const{c:t,m:e,y:i,k:n}=this,r=255*(1-Math.min(1,t*(1-n)+n)),h=255*(1-Math.min(1,e*(1-n)+n)),o=255*(1-Math.min(1,i*(1-n)+n));return new A(r,h,o)}else return this}toArray(){const{_a:t,_b:e,_c:i,_d:n,space:r}=this;return[t,e,i,n,r]}toHex(){const[t,e,i]=this._clamped().map(Us);return`#${t}${e}${i}`}toRgb(){const[t,e,i]=this._clamped();return`rgb(${t},${e},${i})`}toString(){return this.toHex()}xyz(){const{_a:t,_b:e,_c:i}=this.rgb(),[n,r,h]=[t,e,i].map(k=>k/255),o=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,a=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,u=h>.04045?Math.pow((h+.055)/1.055,2.4):h/12.92,l=(o*.4124+a*.3576+u*.1805)/.95047,c=(o*.2126+a*.7152+u*.0722)/1,g=(o*.0193+a*.1192+u*.9505)/1.08883,w=l>.008856?Math.pow(l,1/3):7.787*l+16/116,p=c>.008856?Math.pow(c,1/3):7.787*c+16/116,b=g>.008856?Math.pow(g,1/3):7.787*g+16/116;return new A(w,p,b,"xyz")}_clamped(){const{_a:t,_b:e,_c:i}=this.rgb(),{max:n,min:r,round:h}=Math,o=a=>n(0,r(h(a),255));return[t,e,i].map(o)}}class L{constructor(...t){this.init(...t)}clone(){return new L(this)}init(t,e){const i={x:0,y:0},n=Array.isArray(t)?{x:t[0],y:t[1]}:typeof t=="object"?{x:t.x,y:t.y}:{x:t,y:e};return this.x=n.x==null?i.x:n.x,this.y=n.y==null?i.y:n.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){m.isMatrixLike(t)||(t=new m(t));const{x:e,y:i}=this;return this.x=t.a*e+t.c*i+t.e,this.y=t.b*e+t.d*i+t.f,this}}function Qs(s,t){return new L(s,t).transformO(this.screenCTM().inverseO())}function et(s,t,e){return Math.abs(t-s)<1e-6}class m{constructor(...t){this.init(...t)}static formatTransforms(t){const e=t.flip==="both"||t.flip===!0,i=t.flip&&(e||t.flip==="x")?-1:1,n=t.flip&&(e||t.flip==="y")?-1:1,r=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,h=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,o=t.scale&&t.scale.length?t.scale[0]*i:isFinite(t.scale)?t.scale*i:isFinite(t.scaleX)?t.scaleX*i:i,a=t.scale&&t.scale.length?t.scale[1]*n:isFinite(t.scale)?t.scale*n:isFinite(t.scaleY)?t.scaleY*n:n,u=t.shear||0,l=t.rotate||t.theta||0,c=new L(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),g=c.x,w=c.y,p=new L(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),b=p.x,d=p.y,k=new L(t.translate||t.tx||t.translateX,t.ty||t.translateY),O=k.x,x=k.y,q=new L(t.relative||t.rx||t.relativeX,t.ry||t.relativeY),D=q.x,U=q.y;return{scaleX:o,scaleY:a,skewX:r,skewY:h,shear:u,theta:l,rx:D,ry:U,tx:O,ty:x,ox:g,oy:w,px:b,py:d}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return t.a!=null||t.b!=null||t.c!=null||t.d!=null||t.e!=null||t.f!=null}static matrixMultiply(t,e,i){const n=t.a*e.a+t.c*e.b,r=t.b*e.a+t.d*e.b,h=t.a*e.c+t.c*e.d,o=t.b*e.c+t.d*e.d,a=t.e+t.a*e.e+t.c*e.f,u=t.f+t.b*e.e+t.d*e.f;return i.a=n,i.b=r,i.c=h,i.d=o,i.e=a,i.f=u,i}around(t,e,i){return this.clone().aroundO(t,e,i)}aroundO(t,e,i){const n=t||0,r=e||0;return this.translateO(-n,-r).lmultiplyO(i).translateO(n,r)}clone(){return new m(this)}decompose(t=0,e=0){const i=this.a,n=this.b,r=this.c,h=this.d,o=this.e,a=this.f,u=i*h-n*r,l=u>0?1:-1,c=l*Math.sqrt(i*i+n*n),g=Math.atan2(l*n,l*i),w=180/Math.PI*g,p=Math.cos(g),b=Math.sin(g),d=(i*r+n*h)/u,k=r*c/(d*i-n)||h*c/(d*n+i),O=o-t+t*p*c+e*(d*p*c-b*k),x=a-e+t*b*c+e*(d*b*c+p*k);return{scaleX:c,scaleY:k,shear:d,rotate:w,translateX:O,translateY:x,originX:t,originY:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;const e=new m(t);return et(this.a,e.a)&&et(this.b,e.b)&&et(this.c,e.c)&&et(this.d,e.d)&&et(this.e,e.e)&&et(this.f,e.f)}flip(t,e){return this.clone().flipO(t,e)}flipO(t,e){return t==="x"?this.scaleO(-1,1,e,0):t==="y"?this.scaleO(1,-1,0,e):this.scaleO(-1,-1,t,e||t)}init(t){const e=m.fromArray([1,0,0,1,0,0]);return t=t instanceof F?t.matrixify():typeof t=="string"?m.fromArray(t.split(B).map(parseFloat)):Array.isArray(t)?m.fromArray(t):typeof t=="object"&&m.isMatrixLike(t)?t:typeof t=="object"?new m().transform(t):arguments.length===6?m.fromArray([].slice.call(arguments)):e,this.a=t.a!=null?t.a:e.a,this.b=t.b!=null?t.b:e.b,this.c=t.c!=null?t.c:e.c,this.d=t.d!=null?t.d:e.d,this.e=t.e!=null?t.e:e.e,this.f=t.f!=null?t.f:e.f,this}inverse(){return this.clone().inverseO()}inverseO(){const t=this.a,e=this.b,i=this.c,n=this.d,r=this.e,h=this.f,o=t*n-e*i;if(!o)throw new Error("Cannot invert "+this);const a=n/o,u=-e/o,l=-i/o,c=t/o,g=-(a*r+l*h),w=-(u*r+c*h);return this.a=a,this.b=u,this.c=l,this.d=c,this.e=g,this.f=w,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){const e=this,i=t instanceof m?t:new m(t);return m.matrixMultiply(i,e,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){const e=this,i=t instanceof m?t:new m(t);return m.matrixMultiply(e,i,this)}rotate(t,e,i){return this.clone().rotateO(t,e,i)}rotateO(t,e=0,i=0){t=Ct(t);const n=Math.cos(t),r=Math.sin(t),{a:h,b:o,c:a,d:u,e:l,f:c}=this;return this.a=h*n-o*r,this.b=o*n+h*r,this.c=a*n-u*r,this.d=u*n+a*r,this.e=l*n-c*r+i*r-e*n+e,this.f=c*n+l*r-e*r-i*n+i,this}scale(){return this.clone().scaleO(...arguments)}scaleO(t,e=t,i=0,n=0){arguments.length===3&&(n=i,i=e,e=t);const{a:r,b:h,c:o,d:a,e:u,f:l}=this;return this.a=r*t,this.b=h*e,this.c=o*t,this.d=a*e,this.e=u*t-i*t+i,this.f=l*e-n*e+n,this}shear(t,e,i){return this.clone().shearO(t,e,i)}shearO(t,e=0,i=0){const{a:n,b:r,c:h,d:o,e:a,f:u}=this;return this.a=n+r*t,this.c=h+o*t,this.e=a+u*t-i*t,this}skew(){return this.clone().skewO(...arguments)}skewO(t,e=t,i=0,n=0){arguments.length===3&&(n=i,i=e,e=t),t=Ct(t),e=Ct(e);const r=Math.tan(t),h=Math.tan(e),{a:o,b:a,c:u,d:l,e:c,f:g}=this;return this.a=o+a*r,this.b=a+o*h,this.c=u+l*r,this.d=l+u*h,this.e=c+g*r-n*r,this.f=g+c*h-i*h,this}skewX(t,e,i){return this.skew(t,0,e,i)}skewY(t,e,i){return this.skew(0,t,e,i)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(m.isMatrixLike(t))return new m(t).multiplyO(this);const e=m.formatTransforms(t),i=this,{x:n,y:r}=new L(e.ox,e.oy).transform(i),h=new m().translateO(e.rx,e.ry).lmultiplyO(i).translateO(-n,-r).scaleO(e.scaleX,e.scaleY).skewO(e.skewX,e.skewY).shearO(e.shear).rotateO(e.theta).translateO(n,r);if(isFinite(e.px)||isFinite(e.py)){const o=new L(n,r).transform(h),a=isFinite(e.px)?e.px-o.x:0,u=isFinite(e.py)?e.py-o.y:0;h.translateO(a,u)}return h.translateO(e.tx,e.ty),h}translate(t,e){return this.clone().translateO(t,e)}translateO(t,e){return this.e+=t||0,this.f+=e||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function Js(){return new m(this.node.getCTM())}function Zs(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const s=this.rect(1,1),t=s.node.getScreenCTM();return s.remove(),new m(t)}return new m(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new m}}S(m,"Matrix");function X(){if(!X.nodes){const s=I().size(2,0);s.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),s.attr("focusable","false"),s.attr("aria-hidden","true");const t=s.path().node;X.nodes={svg:s,path:t}}if(!X.nodes.svg.node.parentNode){const s=N.document.body||N.document.documentElement;X.nodes.svg.addTo(s)}return X.nodes}function Me(s){return!s.width&&!s.height&&!s.x&&!s.y}function Ks(s){return s===N.document||(N.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===N.document}).call(N.document.documentElement,s)}class C{constructor(...t){this.init(...t)}addOffset(){return this.x+=N.window.pageXOffset,this.y+=N.window.pageYOffset,new C(this)}init(t){const e=[0,0,0,0];return t=typeof t=="string"?t.split(B).map(parseFloat):Array.isArray(t)?t:typeof t=="object"?[t.left!=null?t.left:t.x,t.top!=null?t.top:t.y,t.width,t.height]:arguments.length===4?[].slice.call(arguments):e,this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return Me(this)}merge(t){const e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x+t.width)-e,r=Math.max(this.y+this.height,t.y+t.height)-i;return new C(e,i,n,r)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof m||(t=new m(t));let e=1/0,i=-1/0,n=1/0,r=-1/0;return[new L(this.x,this.y),new L(this.x2,this.y),new L(this.x,this.y2),new L(this.x2,this.y2)].forEach(function(o){o=o.transform(t),e=Math.min(e,o.x),i=Math.max(i,o.x),n=Math.min(n,o.y),r=Math.max(r,o.y)}),new C(e,n,i-e,r-n)}}function Ee(s,t,e){let i;try{if(i=t(s.node),Me(i)&&!Ks(s.node))throw new Error("Element not in the dom")}catch{i=e(s)}return i}function ti(){const e=Ee(this,n=>n.getBBox(),n=>{try{const r=n.clone().addTo(X().svg).show(),h=r.node.getBBox();return r.remove(),h}catch(r){throw new Error(`Getting bbox of element "${n.node.nodeName}" is not possible: ${r.toString()}`)}});return new C(e)}function ei(s){const i=Ee(this,r=>r.getBoundingClientRect(),r=>{throw new Error(`Getting rbox of element "${r.node.nodeName}" is not possible`)}),n=new C(i);return s?n.transform(s.screenCTM().inverseO()):n.addOffset()}function si(s,t){const e=this.bbox();return s>e.x&&t>e.y&&s<e.x+e.width&&t<e.y+e.height}_({viewbox:{viewbox(s,t,e,i){return s==null?new C(this.attr("viewBox")):this.attr("viewBox",new C(s,t,e,i))},zoom(s,t){let{width:e,height:i}=this.attr(["width","height"]);if((!e&&!i||typeof e=="string"||typeof i=="string")&&(e=this.node.clientWidth,i=this.node.clientHeight),!e||!i)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const n=this.viewbox(),r=e/n.width,h=i/n.height,o=Math.min(r,h);if(s==null)return o;let a=o/s;a===1/0&&(a=Number.MAX_SAFE_INTEGER/100),t=t||new L(e/2/r+n.x,i/2/h+n.y);const u=new C(n).transform(new m({scale:a,origin:t}));return this.viewbox(u)}}});S(C,"Box");class Z extends Array{constructor(t=[],...e){if(super(t,...e),typeof t=="number")return this;this.length=0,this.push(...t)}}v([Z],{each(s,...t){return typeof s=="function"?this.map((e,i,n)=>s.call(e,e,i,n)):this.map(e=>e[s](...t))},toArray(){return Array.prototype.concat.apply([],this)}});const ii=["toArray","constructor","each"];Z.extend=function(s){s=s.reduce((t,e)=>(ii.includes(e)||e[0]==="_"||(e in Array.prototype&&(t["$"+e]=Array.prototype[e]),t[e]=function(...i){return this.each(e,...i)}),t),{}),v([Z],s)};function ot(s,t){return new Z(Jt((t||N.document).querySelectorAll(s),function(e){return $(e)}))}function ni(s){return ot(s,this.node)}function ri(s){return $(this.node.querySelector(s))}let oi=0;const Oe={};function Le(s){let t=s.getEventHolder();return t===N.window&&(t=Oe),t.events||(t.events={}),t.events}function se(s){return s.getEventTarget()}function hi(s){let t=s.getEventHolder();t===N.window&&(t=Oe),t.events&&(t.events={})}function Ft(s,t,e,i,n){const r=e.bind(i||s),h=I(s),o=Le(h),a=se(h);t=Array.isArray(t)?t:t.split(B),e._svgjsListenerId||(e._svgjsListenerId=++oi),t.forEach(function(u){const l=u.split(".")[0],c=u.split(".")[1]||"*";o[l]=o[l]||{},o[l][c]=o[l][c]||{},o[l][c][e._svgjsListenerId]=r,a.addEventListener(l,r,n||!1)})}function st(s,t,e,i){const n=I(s),r=Le(n),h=se(n);typeof e=="function"&&(e=e._svgjsListenerId,!e)||(t=Array.isArray(t)?t:(t||"").split(B),t.forEach(function(o){const a=o&&o.split(".")[0],u=o&&o.split(".")[1];let l,c;if(e)r[a]&&r[a][u||"*"]&&(h.removeEventListener(a,r[a][u||"*"][e],i||!1),delete r[a][u||"*"][e]);else if(a&&u){if(r[a]&&r[a][u]){for(c in r[a][u])st(h,[a,u].join("."),c);delete r[a][u]}}else if(u)for(o in r)for(l in r[o])u===l&&st(h,[o,u].join("."));else if(a){if(r[a]){for(l in r[a])st(h,[a,l].join("."));delete r[a]}}else{for(o in r)st(h,o);hi(n)}}))}function ai(s,t,e,i){const n=se(s);return t instanceof N.window.Event||(t=new N.window.CustomEvent(t,{detail:e,cancelable:!0,...i})),n.dispatchEvent(t),t}class mt extends Kt{addEventListener(){}dispatch(t,e,i){return ai(this,t,e,i)}dispatchEvent(t){const e=this.getEventHolder().events;if(!e)return!0;const i=e[t.type];for(const n in i)for(const r in i[n])i[n][r](t);return!t.defaultPrevented}fire(t,e,i){return this.dispatch(t,e,i),this}getEventHolder(){return this}getEventTarget(){return this}off(t,e,i){return st(this,t,e,i),this}on(t,e,i,n){return Ft(this,t,e,i,n),this}removeEventListener(){}}S(mt,"EventTarget");function _e(){}const ut={duration:400,ease:">",delay:0},ui={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class nt extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return typeof t=="number"?this:(this.length=0,this.push(...this.parse(t)),this)}parse(t=[]){return t instanceof Array?t:t.trim().split(B).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const t=[];return t.push(...this),t}}class y{constructor(...t){this.init(...t)}convert(t){return new y(this.value,t)}divide(t){return t=new y(t),new y(this/t,this.unit||t.unit)}init(t,e){return e=Array.isArray(t)?t[1]:e,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=e||"",typeof t=="number"?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:typeof t=="string"?(e=t.match(Ae),e&&(this.value=parseFloat(e[1]),e[5]==="%"?this.value/=100:e[5]==="s"&&(this.value*=1e3),this.unit=e[5])):t instanceof y&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new y(t),new y(this-t,this.unit||t.unit)}plus(t){return t=new y(t),new y(this+t,this.unit||t.unit)}times(t){return t=new y(t),new y(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(this.value*1e8)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const li=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),Ce=[];function ci(s){Ce.push(s)}function fi(s,t,e){if(s==null){s={},t=this.node.attributes;for(const i of t)s[i.nodeName]=ye.test(i.nodeValue)?parseFloat(i.nodeValue):i.nodeValue;return s}else{if(s instanceof Array)return s.reduce((i,n)=>(i[n]=this.attr(n),i),{});if(typeof s=="object"&&s.constructor===Object)for(t in s)this.attr(t,s[t]);else if(t===null)this.node.removeAttribute(s);else{if(t==null)return t=this.node.getAttribute(s),t==null?ui[s]:ye.test(t)?parseFloat(t):t;t=Ce.reduce((i,n)=>n(s,i,this),t),typeof t=="number"?t=new y(t):li.has(s)&&A.isColor(t)?t=new A(t):t.constructor===Array&&(t=new nt(t)),s==="leading"?this.leading&&this.leading(t):typeof e=="string"?this.node.setAttributeNS(e,s,t.toString()):this.node.setAttribute(s,t.toString()),this.rebuild&&(s==="font-size"||s==="x")&&this.rebuild()}}return this}class H extends mt{constructor(t,e){super(),this.node=t,this.type=t.nodeName,e&&t!==e&&this.attr(e)}add(t,e){return t=I(t),t.removeNamespace&&this.node instanceof N.window.SVGElement&&t.removeNamespace(),e==null?this.node.appendChild(t.node):t.node!==this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this}addTo(t,e){return I(t).put(this,e)}children(){return new Z(Jt(this.node.children,function(t){return $(t)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0,e=!0){this.writeDataToDom();let i=this.node.cloneNode(t);return e&&(i=Te(i)),new this.constructor(i)}each(t,e){const i=this.children();let n,r;for(n=0,r=i.length;n<r;n++)t.apply(i[n],[n,i]),e&&i[n].each(t,e);return this}element(t,e){return this.put(new H(lt(t),e))}first(){return $(this.node.firstChild)}get(t){return $(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,e){return this.xml(t,e,cs)}id(t){return typeof t>"u"&&!this.node.id&&(this.node.id=ke(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return $(this.node.lastChild)}matches(t){const e=this.node,i=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return i&&i.call(e,t)}parent(t){let e=this;if(!e.node.parentNode)return null;if(e=$(e.node.parentNode),!t)return e;do if(typeof t=="string"?e.matches(t):e instanceof t)return e;while(e=$(e.node.parentNode));return e}put(t,e){return t=I(t),this.add(t,e),t}putIn(t,e){return I(t).add(this,e)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=I(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,e=null){const i=10**t,n=this.attr(e);for(const r in n)typeof n[r]=="number"&&(n[r]=Math.round(n[r]*i)/i);return this.attr(n),this}svg(t,e){return this.xml(t,e,Zt)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){const e=this.parent();if(!e)return this.addTo(t);const i=e.index(this);return e.put(t,i).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(t,e,i){if(typeof t=="boolean"&&(i=e,e=t,t=null),t==null||typeof t=="function"){e=e??!0,this.writeDataToDom();let o=this;if(t!=null){if(o=$(o.node.cloneNode(!0)),e){const a=t(o);if(o=a||o,a===!1)return""}o.each(function(){const a=t(this),u=a||this;a===!1?this.remove():a&&this!==u&&this.replace(u)},!0)}return e?o.node.outerHTML:o.node.innerHTML}e=e??!1;const n=lt("wrapper",i),r=N.document.createDocumentFragment();n.innerHTML=t;for(let o=n.children.length;o--;)r.appendChild(n.firstElementChild);const h=this.parent();return e?this.replace(r)&&h:this.add(r)}}v(H,{attr:fi,find:ni,findOne:ri});S(H,"Dom");class F extends H{constructor(t,e){super(t,e),this.dom={},this.node.instance=this,(t.hasAttribute("data-svgjs")||t.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(t.getAttribute("data-svgjs"))??JSON.parse(t.getAttribute("svgjs:data"))??{})}center(t,e){return this.cx(t).cy(e)}cx(t){return t==null?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return t==null?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,e){return this.dx(t).dy(e)}dx(t=0){return this.x(new y(t).plus(this.x()))}dy(t=0){return this.y(new y(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,e){return this.x(t).y(e)}parents(t=this.root()){const e=typeof t=="string";e||(t=I(t));const i=new Z;let n=this;for(;(n=n.parent())&&n.node!==N.document&&n.nodeName!=="#document-fragment"&&(i.push(n),!(!e&&n.node===t.node||e&&n.matches(t)));)if(n.node===this.root().node)return null;return i}reference(t){if(t=this.attr(t),!t)return null;const e=(t+"").match(Es);return e?I(e[1]):null}root(){const t=this.parent(ds(te));return t&&t.root()}setData(t){return this.dom=t,this}size(t,e){const i=rt(this,t,e);return this.width(new y(i.width)).height(new y(i.height))}width(t){return this.attr("width",t)}writeDataToDom(){return Se(this,this.dom),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}}v(F,{bbox:ti,rbox:ei,inside:si,point:Qs,ctm:Js,screenCTM:Zs});S(F,"Element");const at={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(s,t){return t==="color"?s:s+"-"+t}};["fill","stroke"].forEach(function(s){const t={};let e;t[s]=function(i){if(typeof i>"u")return this.attr(s);if(typeof i=="string"||i instanceof A||A.isRgb(i)||i instanceof F)this.attr(s,i);else for(e=at[s].length-1;e>=0;e--)i[at[s][e]]!=null&&this.attr(at.prefix(s,at[s][e]),i[at[s][e]]);return this},_(["Element","Runner"],t)});_(["Element","Runner"],{matrix:function(s,t,e,i,n,r){return s==null?new m(this):this.attr("transform",new m(s,t,e,i,n,r))},rotate:function(s,t,e){return this.transform({rotate:s,ox:t,oy:e},!0)},skew:function(s,t,e,i){return arguments.length===1||arguments.length===3?this.transform({skew:s,ox:t,oy:e},!0):this.transform({skew:[s,t],ox:e,oy:i},!0)},shear:function(s,t,e){return this.transform({shear:s,ox:t,oy:e},!0)},scale:function(s,t,e,i){return arguments.length===1||arguments.length===3?this.transform({scale:s,ox:t,oy:e},!0):this.transform({scale:[s,t],ox:e,oy:i},!0)},translate:function(s,t){return this.transform({translate:[s,t]},!0)},relative:function(s,t){return this.transform({relative:[s,t]},!0)},flip:function(s="both",t="center"){return"xybothtrue".indexOf(s)===-1&&(t=s,s="both"),this.transform({flip:s,origin:t},!0)},opacity:function(s){return this.attr("opacity",s)}});_("radius",{radius:function(s,t=s){return(this._element||this).type==="radialGradient"?this.attr("r",new y(s)):this.rx(s).ry(t)}});_("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(s){return new L(this.node.getPointAtLength(s))}});_(["Element","Runner"],{font:function(s,t){if(typeof s=="object"){for(t in s)this.font(t,s[t]);return this}return s==="leading"?this.leading(t):s==="anchor"?this.attr("text-anchor",t):s==="size"||s==="family"||s==="weight"||s==="stretch"||s==="variant"||s==="style"?this.attr("font-"+s,t):this.attr(s,t)}});const di=["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(s,t){const e=function(i){return i===null?this.off(t):this.on(t,i),this};return s[t]=e,s},{});_("Element",di);function pi(){return this.attr("transform",null)}function mi(){return(this.attr("transform")||"").split(Os).slice(0,-1).map(function(t){const e=t.trim().split("(");return[e[0],e[1].split(B).map(function(i){return parseFloat(i)})]}).reverse().reduce(function(t,e){return e[0]==="matrix"?t.lmultiply(m.fromArray(e[1])):t[e[0]].apply(t,e[1])},new m)}function gi(s,t){if(this===s)return this;if(Yt(this.node))return this.addTo(s,t);const e=this.screenCTM(),i=s.screenCTM().inverse();return this.addTo(s,t).untransform().transform(i.multiply(e)),this}function wi(s){return this.toParent(this.root(),s)}function yi(s,t){if(s==null||typeof s=="string"){const n=new m(this).decompose();return s==null?n:n[s]}m.isMatrixLike(s)||(s={...s,origin:$t(s,this)});const e=t===!0?this:t||!1,i=new m(e).transform(s);return this.attr("transform",i)}_("Element",{untransform:pi,matrixify:mi,toParent:gi,toRoot:wi,transform:yi});class R extends F{flatten(){return this.each(function(){if(this instanceof R)return this.flatten().ungroup()}),this}ungroup(t=this.parent(),e=t.index(this)){return e=e===-1?t.children().length:e,this.each(function(i,n){return n[n.length-i-1].toParent(t,e)}),this.remove()}}S(R,"Container");class ie extends R{constructor(t,e=t){super(E("defs",t),e)}flatten(){return this}ungroup(){return this}}S(ie,"Defs");class z extends F{}S(z,"Shape");function ne(s){return this.attr("rx",s)}function re(s){return this.attr("ry",s)}function Ie(s){return s==null?this.cx()-this.rx():this.cx(s+this.rx())}function De(s){return s==null?this.cy()-this.ry():this.cy(s+this.ry())}function Pe(s){return this.attr("cx",s)}function Re(s){return this.attr("cy",s)}function je(s){return s==null?this.rx()*2:this.rx(new y(s).divide(2))}function ze(s){return s==null?this.ry()*2:this.ry(new y(s).divide(2))}const _i=Object.freeze(Object.defineProperty({__proto__:null,cx:Pe,cy:Re,height:ze,rx:ne,ry:re,width:je,x:Ie,y:De},Symbol.toStringTag,{value:"Module"}));class At extends z{constructor(t,e=t){super(E("ellipse",t),e)}size(t,e){const i=rt(this,t,e);return this.rx(new y(i.width).divide(2)).ry(new y(i.height).divide(2))}}v(At,_i);_("Container",{ellipse:M(function(s=0,t=s){return this.put(new At).size(s,t).move(0,0)})});S(At,"Ellipse");class qe extends H{constructor(t=N.document.createDocumentFragment()){super(t)}xml(t,e,i){if(typeof t=="boolean"&&(i=e,e=t,t=null),t==null||typeof t=="function"){const n=new H(lt("wrapper",i));return n.add(this.node.cloneNode(!0)),n.xml(!1,i)}return super.xml(t,!1,i)}}S(qe,"Fragment");function $e(s,t){return(this._element||this).type==="radialGradient"?this.attr({fx:new y(s),fy:new y(t)}):this.attr({x1:new y(s),y1:new y(t)})}function Ye(s,t){return(this._element||this).type==="radialGradient"?this.attr({cx:new y(s),cy:new y(t)}):this.attr({x2:new y(s),y2:new y(t)})}const bi=Object.freeze(Object.defineProperty({__proto__:null,from:$e,to:Ye},Symbol.toStringTag,{value:"Module"}));class gt extends R{constructor(t,e){super(E(t+"Gradient",typeof t=="string"?null:t),e)}attr(t,e,i){return t==="transform"&&(t="gradientTransform"),super.attr(t,e,i)}bbox(){return new C}targets(){return ot("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}v(gt,bi);_({Container:{gradient(...s){return this.defs().gradient(...s)}},Defs:{gradient:M(function(s,t){return this.put(new gt(s)).update(t)})}});S(gt,"Gradient");class ct extends R{constructor(t,e=t){super(E("pattern",t),e)}attr(t,e,i){return t==="transform"&&(t="patternTransform"),super.attr(t,e,i)}bbox(){return new C}targets(){return ot("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}_({Container:{pattern(...s){return this.defs().pattern(...s)}},Defs:{pattern:M(function(s,t,e){return this.put(new ct).update(e).attr({x:0,y:0,width:s,height:t,patternUnits:"userSpaceOnUse"})})}});S(ct,"Pattern");class Mt extends z{constructor(t,e=t){super(E("image",t),e)}load(t,e){if(!t)return this;const i=new N.window.Image;return Ft(i,"load",function(n){const r=this.parent(ct);this.width()===0&&this.height()===0&&this.size(i.width,i.height),r instanceof ct&&r.width()===0&&r.height()===0&&r.size(this.width(),this.height()),typeof e=="function"&&e.call(this,n)},this),Ft(i,"load error",function(){st(i)}),this.attr("href",i.src=t,pt)}}ci(function(s,t,e){return(s==="fill"||s==="stroke")&&Cs.test(t)&&(t=e.root().defs().image(t)),t instanceof Mt&&(t=e.root().defs().pattern(0,0,i=>{i.add(t)})),t});_({Container:{image:M(function(s,t){return this.put(new Mt).size(0,0).load(s,t)})}});S(Mt,"Image");class V extends nt{bbox(){let t=-1/0,e=-1/0,i=1/0,n=1/0;return this.forEach(function(r){t=Math.max(r[0],t),e=Math.max(r[1],e),i=Math.min(r[0],i),n=Math.min(r[1],n)}),new C(i,n,t-i,e-n)}move(t,e){const i=this.bbox();if(t-=i.x,e-=i.y,!isNaN(t)&&!isNaN(e))for(let n=this.length-1;n>=0;n--)this[n]=[this[n][0]+t,this[n][1]+e];return this}parse(t=[0,0]){const e=[];t instanceof Array?t=Array.prototype.concat.apply([],t):t=t.trim().split(B).map(parseFloat),t.length%2!==0&&t.pop();for(let i=0,n=t.length;i<n;i=i+2)e.push([t[i],t[i+1]]);return e}size(t,e){let i;const n=this.bbox();for(i=this.length-1;i>=0;i--)n.width&&(this[i][0]=(this[i][0]-n.x)*t/n.width+n.x),n.height&&(this[i][1]=(this[i][1]-n.y)*e/n.height+n.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const t=[];for(let e=0,i=this.length;e<i;e++)t.push(this[e].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){m.isMatrixLike(t)||(t=new m(t));for(let e=this.length;e--;){const[i,n]=this[e];this[e][0]=t.a*i+t.c*n+t.e,this[e][1]=t.b*i+t.d*n+t.f}return this}}const vi=V;function xi(s){return s==null?this.bbox().x:this.move(s,this.bbox().y)}function Ni(s){return s==null?this.bbox().y:this.move(this.bbox().x,s)}function Si(s){const t=this.bbox();return s==null?t.width:this.size(s,t.height)}function ki(s){const t=this.bbox();return s==null?t.height:this.size(t.width,s)}const oe=Object.freeze(Object.defineProperty({__proto__:null,MorphArray:vi,height:ki,width:Si,x:xi,y:Ni},Symbol.toStringTag,{value:"Module"}));class ft extends z{constructor(t,e=t){super(E("line",t),e)}array(){return new V([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,e){return this.attr(this.array().move(t,e).toLine())}plot(t,e,i,n){return t==null?this.array():(typeof e<"u"?t={x1:t,y1:e,x2:i,y2:n}:t=new V(t).toLine(),this.attr(t))}size(t,e){const i=rt(this,t,e);return this.attr(this.array().size(i.width,i.height).toLine())}}v(ft,oe);_({Container:{line:M(function(...s){return ft.prototype.plot.apply(this.put(new ft),s[0]!=null?s:[0,0,0,0])})}});S(ft,"Line");class xt extends R{constructor(t,e=t){super(E("marker",t),e)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,e){return this.attr("refX",t).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}}_({Container:{marker(...s){return this.defs().marker(...s)}},Defs:{marker:M(function(s,t,e){return this.put(new xt).size(s,t).ref(s/2,t/2).viewbox(0,0,s,t).attr("orient","auto").update(e)})},marker:{marker(s,t,e,i){let n=["marker"];return s!=="all"&&n.push(s),n=n.join("-"),s=arguments[1]instanceof xt?arguments[1]:this.defs().marker(t,e,i),this.attr(n,s)}}});S(xt,"Marker");function it(s,t){return function(e){return e==null?this[s]:(this[s]=e,t&&t.call(this),this)}}const Ti={"-":function(s){return s},"<>":function(s){return-Math.cos(s*Math.PI)/2+.5},">":function(s){return Math.sin(s*Math.PI/2)},"<":function(s){return-Math.cos(s*Math.PI/2)+1},bezier:function(s,t,e,i){return function(n){return n<0?s>0?t/s*n:e>0?i/e*n:0:n>1?e<1?(1-i)/(1-e)*n+(i-e)/(1-e):s<1?(1-t)/(1-s)*n+(t-s)/(1-s):1:3*n*(1-n)**2*t+3*n**2*(1-n)*i+n**3}},steps:function(s,t="end"){t=t.split("-").reverse()[0];let e=s;return t==="none"?--e:t==="both"&&++e,(i,n=!1)=>{let r=Math.floor(i*s);const h=i*r%1===0;return(t==="start"||t==="both")&&++r,n&&h&&--r,i>=0&&r<0&&(r=0),i<=1&&r>e&&(r=e),r/e}}};class he{done(){return!1}}class Bt extends he{constructor(t=ut.ease){super(),this.ease=Ti[t]||t}step(t,e,i){return typeof t!="number"?i<1?t:e:t+(e-t)*this.ease(i)}}class Nt extends he{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,e,i,n){return this.stepper(t,e,i,n)}}function be(){const s=(this._duration||500)/1e3,t=this._overshoot||0,e=1e-10,i=Math.PI,n=Math.log(t/100+e),r=-n/Math.sqrt(i*i+n*n),h=3.9/(r*s);this.d=2*r*h,this.k=h*h}class Ai extends Nt{constructor(t=500,e=0){super(),this.duration(t).overshoot(e)}step(t,e,i,n){if(typeof t=="string")return t;if(n.done=i===1/0,i===1/0)return e;if(i===0)return t;i>100&&(i=16),i/=1e3;const r=n.velocity||0,h=-this.d*r-this.k*(t-e),o=t+r*i+h*i*i/2;return n.velocity=r+h*i,n.done=Math.abs(e-o)+Math.abs(r)<.002,n.done?e:o}}v(Ai,{duration:it("_duration",be),overshoot:it("_overshoot",be)});class Mi extends Nt{constructor(t=.1,e=.01,i=0,n=1e3){super(),this.p(t).i(e).d(i).windup(n)}step(t,e,i,n){if(typeof t=="string")return t;if(n.done=i===1/0,i===1/0)return e;if(i===0)return t;const r=e-t;let h=(n.integral||0)+r*i;const o=(r-(n.error||0))/i,a=this._windup;return a!==!1&&(h=Math.max(-a,Math.min(h,a))),n.error=r,n.integral=h,n.done=Math.abs(r)<.001,n.done?e:t+(this.P*r+this.I*h+this.D*o)}}v(Mi,{windup:it("_windup"),p:it("P"),i:it("I"),d:it("D")});const Ei={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},Xt={M:function(s,t,e){return t.x=e.x=s[0],t.y=e.y=s[1],["M",t.x,t.y]},L:function(s,t){return t.x=s[0],t.y=s[1],["L",s[0],s[1]]},H:function(s,t){return t.x=s[0],["H",s[0]]},V:function(s,t){return t.y=s[0],["V",s[0]]},C:function(s,t){return t.x=s[4],t.y=s[5],["C",s[0],s[1],s[2],s[3],s[4],s[5]]},S:function(s,t){return t.x=s[2],t.y=s[3],["S",s[0],s[1],s[2],s[3]]},Q:function(s,t){return t.x=s[2],t.y=s[3],["Q",s[0],s[1],s[2],s[3]]},T:function(s,t){return t.x=s[0],t.y=s[1],["T",s[0],s[1]]},Z:function(s,t,e){return t.x=e.x,t.y=e.y,["Z"]},A:function(s,t){return t.x=s[5],t.y=s[6],["A",s[0],s[1],s[2],s[3],s[4],s[5],s[6]]}},Rt="mlhvqtcsaz".split("");for(let s=0,t=Rt.length;s<t;++s)Xt[Rt[s]]=function(e){return function(i,n,r){if(e==="H")i[0]=i[0]+n.x;else if(e==="V")i[0]=i[0]+n.y;else if(e==="A")i[5]=i[5]+n.x,i[6]=i[6]+n.y;else for(let h=0,o=i.length;h<o;++h)i[h]=i[h]+(h%2?n.y:n.x);return Xt[e](i,n,r)}}(Rt[s].toUpperCase());function Oi(s){const t=s.segment[0];return Xt[t](s.segment.slice(1),s.p,s.p0)}function Ht(s){return s.segment.length&&s.segment.length-1===Ei[s.segment[0].toUpperCase()]}function Li(s,t){s.inNumber&&W(s,!1);const e=ee.test(t);if(e)s.segment=[t];else{const i=s.lastCommand,n=i.toLowerCase(),r=i===n;s.segment=[n==="m"?r?"l":"L":i]}return s.inSegment=!0,s.lastCommand=s.segment[0],e}function W(s,t){if(!s.inNumber)throw new Error("Parser Error");s.number&&s.segment.push(parseFloat(s.number)),s.inNumber=t,s.number="",s.pointSeen=!1,s.hasExponent=!1,Ht(s)&&Vt(s)}function Vt(s){s.inSegment=!1,s.absolute&&(s.segment=Oi(s)),s.segments.push(s.segment)}function Ci(s){if(!s.segment.length)return!1;const t=s.segment[0].toUpperCase()==="A",e=s.segment.length;return t&&(e===4||e===5)}function Ii(s){return s.lastToken.toUpperCase()==="E"}const Di=new Set([" ",",","	",`
`,"\r","\f"]);function Pi(s,t=!0){let e=0,i="";const n={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:t,p0:new L,p:new L};for(;n.lastToken=i,i=s.charAt(e++);)if(!(!n.inSegment&&Li(n,i))){if(i==="."){if(n.pointSeen||n.hasExponent){W(n,!1),--e;continue}n.inNumber=!0,n.pointSeen=!0,n.number+=i;continue}if(!isNaN(parseInt(i))){if(n.number==="0"||Ci(n)){n.inNumber=!0,n.number=i,W(n,!0);continue}n.inNumber=!0,n.number+=i;continue}if(Di.has(i)){n.inNumber&&W(n,!1);continue}if(i==="-"||i==="+"){if(n.inNumber&&!Ii(n)){W(n,!1),--e;continue}n.number+=i,n.inNumber=!0;continue}if(i.toUpperCase()==="E"){n.number+=i,n.hasExponent=!0;continue}if(ee.test(i)){if(n.inNumber)W(n,!1);else if(Ht(n))Vt(n);else throw new Error("parser Error");--e}}return n.inNumber&&W(n,!1),n.inSegment&&Ht(n)&&Vt(n),n.segments}function Ri(s){let t="";for(let e=0,i=s.length;e<i;e++)t+=s[e][0],s[e][1]!=null&&(t+=s[e][1],s[e][2]!=null&&(t+=" ",t+=s[e][2],s[e][3]!=null&&(t+=" ",t+=s[e][3],t+=" ",t+=s[e][4],s[e][5]!=null&&(t+=" ",t+=s[e][5],t+=" ",t+=s[e][6],s[e][7]!=null&&(t+=" ",t+=s[e][7])))));return t+" "}class K extends nt{bbox(){return X().path.setAttribute("d",this.toString()),new C(X.nodes.path.getBBox())}move(t,e){const i=this.bbox();if(t-=i.x,e-=i.y,!isNaN(t)&&!isNaN(e))for(let n,r=this.length-1;r>=0;r--)n=this[r][0],n==="M"||n==="L"||n==="T"?(this[r][1]+=t,this[r][2]+=e):n==="H"?this[r][1]+=t:n==="V"?this[r][1]+=e:n==="C"||n==="S"||n==="Q"?(this[r][1]+=t,this[r][2]+=e,this[r][3]+=t,this[r][4]+=e,n==="C"&&(this[r][5]+=t,this[r][6]+=e)):n==="A"&&(this[r][6]+=t,this[r][7]+=e);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),Pi(t)}size(t,e){const i=this.bbox();let n,r;for(i.width=i.width===0?1:i.width,i.height=i.height===0?1:i.height,n=this.length-1;n>=0;n--)r=this[n][0],r==="M"||r==="L"||r==="T"?(this[n][1]=(this[n][1]-i.x)*t/i.width+i.x,this[n][2]=(this[n][2]-i.y)*e/i.height+i.y):r==="H"?this[n][1]=(this[n][1]-i.x)*t/i.width+i.x:r==="V"?this[n][1]=(this[n][1]-i.y)*e/i.height+i.y:r==="C"||r==="S"||r==="Q"?(this[n][1]=(this[n][1]-i.x)*t/i.width+i.x,this[n][2]=(this[n][2]-i.y)*e/i.height+i.y,this[n][3]=(this[n][3]-i.x)*t/i.width+i.x,this[n][4]=(this[n][4]-i.y)*e/i.height+i.y,r==="C"&&(this[n][5]=(this[n][5]-i.x)*t/i.width+i.x,this[n][6]=(this[n][6]-i.y)*e/i.height+i.y)):r==="A"&&(this[n][1]=this[n][1]*t/i.width,this[n][2]=this[n][2]*e/i.height,this[n][6]=(this[n][6]-i.x)*t/i.width+i.x,this[n][7]=(this[n][7]-i.y)*e/i.height+i.y);return this}toString(){return Ri(this)}}const Fe=s=>{const t=typeof s;return t==="number"?y:t==="string"?A.isColor(s)?A:B.test(s)?ee.test(s)?K:nt:Ae.test(s)?y:Ut:ae.indexOf(s.constructor)>-1?s.constructor:Array.isArray(s)?nt:t==="object"?dt:Ut};class Q{constructor(t){this._stepper=t||new Bt("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){return this._morphObj.morph(this._from,this._to,t,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,i){return e&&i},!0)}from(t){return t==null?this._from:(this._from=this._set(t),this)}stepper(t){return t==null?this._stepper:(this._stepper=t,this)}to(t){return t==null?this._to:(this._to=this._set(t),this)}type(t){return t==null?this._type:(this._type=t,this)}_set(t){this._type||this.type(Fe(t));let e=new this._type(t);return this._type===A&&(e=this._to?e[this._to[4]]():this._from?e[this._from[4]]():e),this._type===dt&&(e=this._to?e.align(this._to):this._from?e.align(this._from):e),e=e.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(e.length)).map(Object).map(function(i){return i.done=!0,i}),e}}class Ut{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}}class wt{constructor(...t){this.init(...t)}init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,wt.defaults,t),this}toArray(){const t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}wt.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const ji=(s,t)=>s[0]<t[0]?-1:s[0]>t[0]?1:0;class dt{constructor(...t){this.init(...t)}align(t){const e=this.values;for(let i=0,n=e.length;i<n;++i){if(e[i+1]===t[i+1]){if(e[i+1]===A&&t[i+7]!==e[i+7]){const o=t[i+7],a=new A(this.values.splice(i+3,5))[o]().toArray();this.values.splice(i+3,0,...a)}i+=e[i+2]+2;continue}if(!t[i+1])return this;const r=new t[i+1]().toArray(),h=e[i+2]+3;e.splice(i,h,t[i],t[i+1],t[i+2],...r),i+=e[i+2]+2}return this}init(t){if(this.values=[],Array.isArray(t)){this.values=t.slice();return}t=t||{};const e=[];for(const i in t){const n=Fe(t[i]),r=new n(t[i]).toArray();e.push([i,n,r.length,...r])}return e.sort(ji),this.values=e.reduce((i,n)=>i.concat(n),[]),this}toArray(){return this.values}valueOf(){const t={},e=this.values;for(;e.length;){const i=e.shift(),n=e.shift(),r=e.shift(),h=e.splice(0,r);t[i]=new n(h)}return t}}const ae=[Ut,wt,dt];function zi(s=[]){ae.push(...[].concat(s))}function qi(){v(ae,{to(s){return new Q().type(this.constructor).from(this.toArray()).to(s)},fromArray(s){return this.init(s),this},toConsumable(){return this.toArray()},morph(s,t,e,i,n){const r=function(h,o){return i.step(h,t[o],e,n[o],n)};return this.fromArray(s.map(r))}})}class ht extends z{constructor(t,e=t){super(E("path",t),e)}array(){return this._array||(this._array=new K(this.attr("d")))}clear(){return delete this._array,this}height(t){return t==null?this.bbox().height:this.size(this.bbox().width,t)}move(t,e){return this.attr("d",this.array().move(t,e))}plot(t){return t==null?this.array():this.clear().attr("d",typeof t=="string"?t:this._array=new K(t))}size(t,e){const i=rt(this,t,e);return this.attr("d",this.array().size(i.width,i.height))}width(t){return t==null?this.bbox().width:this.size(t,this.bbox().height)}x(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)}y(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}}ht.prototype.MorphArray=K;_({Container:{path:M(function(s){return this.put(new ht).plot(s||new K)})}});S(ht,"Path");function $i(){return this._array||(this._array=new V(this.attr("points")))}function Yi(){return delete this._array,this}function Fi(s,t){return this.attr("points",this.array().move(s,t))}function Bi(s){return s==null?this.array():this.clear().attr("points",typeof s=="string"?s:this._array=new V(s))}function Xi(s,t){const e=rt(this,s,t);return this.attr("points",this.array().size(e.width,e.height))}const Be=Object.freeze(Object.defineProperty({__proto__:null,array:$i,clear:Yi,move:Fi,plot:Bi,size:Xi},Symbol.toStringTag,{value:"Module"}));class yt extends z{constructor(t,e=t){super(E("polygon",t),e)}}_({Container:{polygon:M(function(s){return this.put(new yt).plot(s||new V)})}});v(yt,oe);v(yt,Be);S(yt,"Polygon");class _t extends z{constructor(t,e=t){super(E("polyline",t),e)}}_({Container:{polyline:M(function(s){return this.put(new _t).plot(s||new V)})}});v(_t,oe);v(_t,Be);S(_t,"Polyline");class Et extends z{constructor(t,e=t){super(E("rect",t),e)}}v(Et,{rx:ne,ry:re});_({Container:{rect:M(function(s,t){return this.put(new Et).size(s,t)})}});S(Et,"Rect");class jt{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){const e=typeof t.next<"u"?t:{value:t,next:null,prev:null};return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._last=e,this._first=e),e}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){const t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}}const T={nextDraw:null,frames:new jt,timeouts:new jt,immediates:new jt,timer:()=>N.window.performance||N.window.Date,transforms:[],frame(s){const t=T.frames.push({run:s});return T.nextDraw===null&&(T.nextDraw=N.window.requestAnimationFrame(T._draw)),t},timeout(s,t){t=t||0;const e=T.timer().now()+t,i=T.timeouts.push({run:s,time:e});return T.nextDraw===null&&(T.nextDraw=N.window.requestAnimationFrame(T._draw)),i},immediate(s){const t=T.immediates.push(s);return T.nextDraw===null&&(T.nextDraw=N.window.requestAnimationFrame(T._draw)),t},cancelFrame(s){s!=null&&T.frames.remove(s)},clearTimeout(s){s!=null&&T.timeouts.remove(s)},cancelImmediate(s){s!=null&&T.immediates.remove(s)},_draw(s){let t=null;const e=T.timeouts.last();for(;(t=T.timeouts.shift())&&(s>=t.time?t.run():T.timeouts.push(t),t!==e););let i=null;const n=T.frames.last();for(;i!==n&&(i=T.frames.shift());)i.run(s);let r=null;for(;r=T.immediates.shift();)r();T.nextDraw=T.timeouts.first()||T.frames.first()?N.window.requestAnimationFrame(T._draw):null}},Hi=function(s){const t=s.start,e=s.runner.duration(),i=t+e;return{start:t,duration:e,end:i,runner:s.runner}},Vi=function(){const s=N.window;return(s.performance||s.Date).now()};class Xe extends mt{constructor(t=Vi){super(),this._timeSource=t,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const t=this.getLastRunnerInfo(),e=t?t.runner.duration():0;return(t?t.start:this._time)+e}getEndTimeOfTimeline(){const t=this._runners.map(e=>e.start+e.runner.duration());return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return t==null?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){const e=this.speed();if(t==null)return this.speed(-e);const i=Math.abs(e);return this.speed(t?-i:i)}schedule(t,e,i){if(t==null)return this._runners.map(Hi);let n=0;const r=this.getEndTime();if(e=e||0,i==null||i==="last"||i==="after")n=r;else if(i==="absolute"||i==="start")n=e,e=0;else if(i==="now")n=this._time;else if(i==="relative"){const a=this.getRunnerInfoById(t.id);a&&(n=a.start+e,e=0)}else if(i==="with-last"){const a=this.getLastRunnerInfo();n=a?a.start:this._time}else throw new Error('Invalid value for the "when" parameter');t.unschedule(),t.timeline(this);const h=t.persist(),o={persist:h===null?this._persist:h,start:n+e,runner:t};return this._lastRunnerId=t.id,this._runners.push(o),this._runners.sort((a,u)=>a.start-u.start),this._runnerIds=this._runners.map(a=>a.runner.id),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return t==null?this._timeSource:(this._timeSource=t,this)}speed(t){return t==null?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return t==null?this._time:(this._time=t,this._continue(!0))}unschedule(t){const e=this._runnerIds.indexOf(t.id);return e<0?this:(this._runners.splice(e,1),this._runnerIds.splice(e,1),t.timeline(null),this)}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return T.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():this._paused?this:(this._nextFrame=T.frame(this._step),this)}_stepFn(t=!1){const e=this._timeSource();let i=e-this._lastSourceTime;t&&(i=0);const n=this._speed*i+(this._time-this._lastStepTime);this._lastSourceTime=e,t||(this._time+=n,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let h=this._runners.length;h--;){const o=this._runners[h],a=o.runner;this._time-o.start<=0&&a.reset()}let r=!1;for(let h=0,o=this._runners.length;h<o;h++){const a=this._runners[h],u=a.runner;let l=n;const c=this._time-a.start;if(c<=0){r=!0;continue}else c<l&&(l=c);if(!u.active())continue;u.step(l).done?a.persist!==!0&&u.duration()-u.time()+this._time+a.persist<this._time&&(u.unschedule(),--h,--o):r=!0}return r&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}_({Element:{timeline:function(s){return s==null?(this._timeline=this._timeline||new Xe,this._timeline):(this._timeline=s,this)}}});class j extends mt{constructor(t){super(),this.id=j.id++,t=t??ut.duration,t=typeof t=="function"?new Nt(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof t=="number"&&t,this._isDeclarative=t instanceof Nt,this._stepper=this._isDeclarative?t:new Bt,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new m,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=this._isDeclarative?!0:null}static sanitise(t,e,i){let n=1,r=!1,h=0;return t=t??ut.duration,e=e??ut.delay,i=i||"last",typeof t=="object"&&!(t instanceof he)&&(e=t.delay??e,i=t.when??i,r=t.swing||r,n=t.times??n,h=t.wait??h,t=t.duration??ut.duration),{duration:t,delay:e,swing:r,times:n,wait:h,when:i}}active(t){return t==null?this.enabled:(this.enabled=t,this)}addTransform(t){return this.transforms.lmultiplyO(t),this}after(t){return this.on("finished",t)}animate(t,e,i){const n=j.sanitise(t,e,i),r=new j(n.duration);return this._timeline&&r.timeline(this._timeline),this._element&&r.element(this._element),r.loop(n).schedule(n.delay,n.when)}clearTransform(){return this.transforms=new m,this}clearTransformsFromQueue(){(!this.done||!this._timeline||!this._timeline._runnerIds.includes(this.id))&&(this._queue=this._queue.filter(t=>!t.isTransform))}delay(t){return this.animate(0,t)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(t){return this.queue(null,t)}ease(t){return this._stepper=new Bt(t),this}element(t){return t==null?this._element:(this._element=t,t._prepareRunner(),this)}finish(){return this.step(1/0)}loop(t,e,i){return typeof t=="object"&&(e=t.swing,i=t.wait,t=t.times),this._times=t||1/0,this._swing=e||!1,this._wait=i||0,this._times===!0&&(this._times=1/0),this}loops(t){const e=this._duration+this._wait;if(t==null){const h=Math.floor(this._time/e),a=(this._time-h*e)/this._duration;return Math.min(h+a,this._times)}const i=Math.floor(t),n=t%1,r=e*i+this._duration*n;return this.time(r)}persist(t){return t==null?this._persist:(this._persist=t,this)}position(t){const e=this._time,i=this._duration,n=this._wait,r=this._times,h=this._swing,o=this._reverse;let a;if(t==null){const g=function(p){const b=h*Math.floor(p%(2*(n+i))/(n+i)),d=b&&!o||!b&&o,k=Math.pow(-1,d)*(p%(n+i))/i+d;return Math.max(Math.min(k,1),0)},w=r*(n+i)-n;return a=e<=0?Math.round(g(1e-5)):e<w?g(e):Math.round(g(w-1e-5)),a}const u=Math.floor(this.loops()),l=h&&u%2===0;return a=u+(l&&!o||o&&l?t:1-t),this.loops(a)}progress(t){return t==null?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}queue(t,e,i,n){return this._queue.push({initialiser:t||_e,runner:e||_e,retarget:i,isTransform:n,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted?this:(this.time(0),this._reseted=!0,this)}reverse(t){return this._reverse=t??!this._reverse,this}schedule(t,e,i){if(t instanceof Xe||(i=e,e=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,e,i),this}step(t){if(!this.enabled)return this;t=t??16,this._time+=t;const e=this.position(),i=this._lastPosition!==e&&this._time>=0;this._lastPosition=e;const n=this.duration(),r=this._lastTime<=0&&this._time>0,h=this._lastTime<n&&this._time>=n;this._lastTime=this._time,r&&this.fire("start",this);const o=this._isDeclarative;this.done=!o&&!h&&this._time>=n,this._reseted=!1;let a=!1;return(i||o)&&(this._initialise(i),this.transforms=new m,a=this._run(o?t:e),this.fire("step",this)),this.done=this.done||a&&o,h&&this.fire("finished",this),this}time(t){if(t==null)return this._time;const e=t-this._time;return this.step(e),this}timeline(t){return typeof t>"u"?this._timeline:(this._timeline=t,this)}unschedule(){const t=this.timeline();return t&&t.unschedule(this),this}_initialise(t){if(!(!t&&!this._isDeclarative))for(let e=0,i=this._queue.length;e<i;++e){const n=this._queue[e],r=this._isDeclarative||!n.initialised&&t;t=!n.finished,r&&t&&(n.initialiser.call(this),n.initialised=!0)}}_rememberMorpher(t,e){if(this._history[t]={morpher:e,caller:this._queue[this._queue.length-1]},this._isDeclarative){const i=this.timeline();i&&i.play()}}_run(t){let e=!0;for(let i=0,n=this._queue.length;i<n;++i){const r=this._queue[i],h=r.runner.call(this,t);r.finished=r.finished||h===!0,e=e&&r.finished}return e}_tryRetarget(t,e,i){if(this._history[t]){if(!this._history[t].caller.initialised){const r=this._queue.indexOf(this._history[t].caller);return this._queue.splice(r,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,e,i):this._history[t].morpher.to(e),this._history[t].caller.finished=!1;const n=this.timeline();return n&&n.play(),!0}return!1}}j.id=0;class St{constructor(t=new m,e=-1,i=!0){this.transforms=t,this.id=e,this.done=i}clearTransformsFromQueue(){}}v([j,St],{mergeWith(s){return new St(s.transforms.lmultiply(this.transforms),s.id)}});const He=(s,t)=>s.lmultiplyO(t),Ve=s=>s.transforms;function Ui(){const t=this._transformationRunners.runners.map(Ve).reduce(He,new m);this.transform(t),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class Gi{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;const e=t.id+1;return this.runners.push(t),this.ids.push(e),this}clearBefore(t){const e=this.ids.indexOf(t+1)||1;return this.ids.splice(0,e,0),this.runners.splice(0,e,new St).forEach(i=>i.clearTransformsFromQueue()),this}edit(t,e){const i=this.ids.indexOf(t+1);return this.ids.splice(i,1,t+1),this.runners.splice(i,1,e),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let e=0;e<this.runners.length;++e){const i=this.runners[e];if(t&&i.done&&t.done&&(!i._timeline||!i._timeline._runnerIds.includes(i.id))&&(!t._timeline||!t._timeline._runnerIds.includes(t.id))){this.remove(i.id);const r=i.mergeWith(t);this.edit(t.id,r),t=r,--e}else t=i}return this}remove(t){const e=this.ids.indexOf(t+1);return this.ids.splice(e,1),this.runners.splice(e,1),this}}_({Element:{animate(s,t,e){const i=j.sanitise(s,t,e),n=this.timeline();return new j(i.duration).loop(i).element(this).timeline(n.play()).schedule(i.delay,i.when)},delay(s,t){return this.animate(0,s,t)},_clearTransformRunnersBefore(s){this._transformationRunners.clearBefore(s.id)},_currentTransform(s){return this._transformationRunners.runners.filter(t=>t.id<=s.id).map(Ve).reduce(He,new m)},_addRunner(s){this._transformationRunners.add(s),T.cancelImmediate(this._frameId),this._frameId=T.immediate(Ui.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new Gi().add(new St(new m(this))))}}});const Wi=(s,t)=>s.filter(e=>!t.includes(e));v(j,{attr(s,t){return this.styleAttr("attr",s,t)},css(s,t){return this.styleAttr("css",s,t)},styleAttr(s,t,e){if(typeof t=="string")return this.styleAttr(s,{[t]:e});let i=t;if(this._tryRetarget(s,i))return this;let n=new Q(this._stepper).to(i),r=Object.keys(i);return this.queue(function(){n=n.from(this.element()[s](r))},function(h){return this.element()[s](n.at(h).valueOf()),n.done()},function(h){const o=Object.keys(h),a=Wi(o,r);if(a.length){const l=this.element()[s](a),c=new dt(n.from()).valueOf();Object.assign(c,l),n.from(c)}const u=new dt(n.to()).valueOf();Object.assign(u,h),n.to(u),r=o,i=h}),this._rememberMorpher(s,n),this},zoom(s,t){if(this._tryRetarget("zoom",s,t))return this;let e=new Q(this._stepper).to(new y(s));return this.queue(function(){e=e.from(this.element().zoom())},function(i){return this.element().zoom(e.at(i),t),e.done()},function(i,n){t=n,e.to(i)}),this._rememberMorpher("zoom",e),this},transform(s,t,e){if(t=s.relative||t,this._isDeclarative&&!t&&this._tryRetarget("transform",s))return this;const i=m.isMatrixLike(s);e=s.affine!=null?s.affine:e??!i;const n=new Q(this._stepper).type(e?wt:m);let r,h,o,a,u;function l(){h=h||this.element(),r=r||$t(s,h),u=new m(t?void 0:h),h._addRunner(this),t||h._clearTransformRunnersBefore(this)}function c(w){t||this.clearTransform();const{x:p,y:b}=new L(r).transform(h._currentTransform(this));let d=new m({...s,origin:[p,b]}),k=this._isDeclarative&&o?o:u;if(e){d=d.decompose(p,b),k=k.decompose(p,b);const x=d.rotate,q=k.rotate,D=[x-360,x,x+360],U=D.map(Ze=>Math.abs(Ze-q)),bt=Math.min(...U),vt=U.indexOf(bt);d.rotate=D[vt]}t&&(i||(d.rotate=s.rotate||0),this._isDeclarative&&a&&(k.rotate=a)),n.from(k),n.to(d);const O=n.at(w);return a=O.rotate,o=new m(O),this.addTransform(o),h._addRunner(this),n.done()}function g(w){(w.origin||"center").toString()!==(s.origin||"center").toString()&&(r=$t(w,h)),s={...w,origin:r}}return this.queue(l,c,g,!0),this._isDeclarative&&this._rememberMorpher("transform",n),this},x(s){return this._queueNumber("x",s)},y(s){return this._queueNumber("y",s)},ax(s){return this._queueNumber("ax",s)},ay(s){return this._queueNumber("ay",s)},dx(s=0){return this._queueNumberDelta("x",s)},dy(s=0){return this._queueNumberDelta("y",s)},dmove(s,t){return this.dx(s).dy(t)},_queueNumberDelta(s,t){if(t=new y(t),this._tryRetarget(s,t))return this;const e=new Q(this._stepper).to(t);let i=null;return this.queue(function(){i=this.element()[s](),e.from(i),e.to(i+t)},function(n){return this.element()[s](e.at(n)),e.done()},function(n){e.to(i+new y(n))}),this._rememberMorpher(s,e),this},_queueObject(s,t){if(this._tryRetarget(s,t))return this;const e=new Q(this._stepper).to(t);return this.queue(function(){e.from(this.element()[s]())},function(i){return this.element()[s](e.at(i)),e.done()}),this._rememberMorpher(s,e),this},_queueNumber(s,t){return this._queueObject(s,new y(t))},cx(s){return this._queueNumber("cx",s)},cy(s){return this._queueNumber("cy",s)},move(s,t){return this.x(s).y(t)},amove(s,t){return this.ax(s).ay(t)},center(s,t){return this.cx(s).cy(t)},size(s,t){let e;return(!s||!t)&&(e=this._element.bbox()),s||(s=e.width/e.height*t),t||(t=e.height/e.width*s),this.width(s).height(t)},width(s){return this._queueNumber("width",s)},height(s){return this._queueNumber("height",s)},plot(s,t,e,i){if(arguments.length===4)return this.plot([s,t,e,i]);if(this._tryRetarget("plot",s))return this;const n=new Q(this._stepper).type(this._element.MorphArray).to(s);return this.queue(function(){n.from(this._element.array())},function(r){return this._element.plot(n.at(r)),n.done()}),this._rememberMorpher("plot",n),this},leading(s){return this._queueNumber("leading",s)},viewbox(s,t,e,i){return this._queueObject("viewbox",new C(s,t,e,i))},update(s){return typeof s!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(s.opacity!=null&&this.attr("stop-opacity",s.opacity),s.color!=null&&this.attr("stop-color",s.color),s.offset!=null&&this.attr("offset",s.offset),this)}});v(j,{rx:ne,ry:re,from:$e,to:Ye});S(j,"Runner");class ue extends R{constructor(t,e=t){super(E("svg",t),e),this.namespace()}defs(){return this.isRoot()?$(this.node.querySelector("defs"))||this.put(new ie):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof N.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:Zt,version:"1.1"}).attr("xmlns:xlink",pt,It):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,It).attr("xmlns:svgjs",null,It)}root(){return this.isRoot()?this:super.root()}}_({Container:{nested:M(function(){return this.put(new ue)})}});S(ue,"Svg",!0);let le=class extends R{constructor(t,e=t){super(E("symbol",t),e)}};_({Container:{symbol:M(function(){return this.put(new le)})}});S(le,"Symbol");function Qi(s){return this._build===!1&&this.clear(),this.node.appendChild(N.document.createTextNode(s)),this}function Ji(){return this.node.getComputedTextLength()}function Zi(s,t=this.bbox()){return s==null?t.x:this.attr("x",this.attr("x")+s-t.x)}function Ki(s,t=this.bbox()){return s==null?t.y:this.attr("y",this.attr("y")+s-t.y)}function tn(s,t,e=this.bbox()){return this.x(s,e).y(t,e)}function en(s,t=this.bbox()){return s==null?t.cx:this.attr("x",this.attr("x")+s-t.cx)}function sn(s,t=this.bbox()){return s==null?t.cy:this.attr("y",this.attr("y")+s-t.cy)}function nn(s,t,e=this.bbox()){return this.cx(s,e).cy(t,e)}function rn(s){return this.attr("x",s)}function on(s){return this.attr("y",s)}function hn(s,t){return this.ax(s).ay(t)}function an(s){return this._build=!!s,this}const Ue=Object.freeze(Object.defineProperty({__proto__:null,amove:hn,ax:rn,ay:on,build:an,center:nn,cx:en,cy:sn,length:Ji,move:tn,plain:Qi,x:Zi,y:Ki},Symbol.toStringTag,{value:"Module"}));class Y extends z{constructor(t,e=t){super(E("text",t),e),this.dom.leading=this.dom.leading??new y(1.3),this._rebuild=!0,this._build=!1}leading(t){return t==null?this.dom.leading:(this.dom.leading=new y(t),this.rebuild())}rebuild(t){if(typeof t=="boolean"&&(this._rebuild=t),this._rebuild){const e=this;let i=0;const n=this.dom.leading;this.each(function(r){if(Yt(this.node))return;const h=N.window.getComputedStyle(this.node).getPropertyValue("font-size"),o=n*new y(h);this.dom.newLined&&(this.attr("x",e.attr("x")),this.text()===`
`?i+=o:(this.attr("dy",r?o+i:0),i=0))}),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new y(t.leading||1.3),this}writeDataToDom(){return Se(this,this.dom,{leading:1.3}),this}text(t){if(t===void 0){const e=this.node.childNodes;let i=0;t="";for(let n=0,r=e.length;n<r;++n){if(e[n].nodeName==="textPath"||Yt(e[n])){n===0&&(i=n+1);continue}n!==i&&e[n].nodeType!==3&&$(e[n]).dom.newLined===!0&&(t+=`
`),t+=e[n].textContent}return t}if(this.clear().build(!0),typeof t=="function")t.call(this,this);else{t=(t+"").split(`
`);for(let e=0,i=t.length;e<i;e++)this.newLine(t[e])}return this.build(!1).rebuild()}}v(Y,Ue);_({Container:{text:M(function(s=""){return this.put(new Y).text(s)}),plain:M(function(s=""){return this.put(new Y).plain(s)})}});S(Y,"Text");class Ot extends z{constructor(t,e=t){super(E("tspan",t),e),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;const t=this.parent();if(!(t instanceof Y))return this;const e=t.index(this),i=N.window.getComputedStyle(this.node).getPropertyValue("font-size"),n=t.dom.leading*new y(i);return this.dy(e?n:0).attr("x",t.x())}text(t){return t==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof t=="function"?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}}v(Ot,Ue);_({Tspan:{tspan:M(function(s=""){const t=new Ot;return this._build||this.clear(),this.put(t).text(s)})},Text:{newLine:function(s=""){return this.tspan(s).newLine()}}});S(Ot,"Tspan");class ce extends z{constructor(t,e=t){super(E("circle",t),e)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new y(t).divide(2))}}v(ce,{x:Ie,y:De,cx:Pe,cy:Re,width:je,height:ze});_({Container:{circle:M(function(s=0){return this.put(new ce).size(s).move(0,0)})}});S(ce,"Circle");class Gt extends R{constructor(t,e=t){super(E("clipPath",t),e)}remove(){return this.targets().forEach(function(t){t.unclip()}),super.remove()}targets(){return ot("svg [clip-path*="+this.id()+"]")}}_({Container:{clip:M(function(){return this.defs().put(new Gt)})},Element:{clipper(){return this.reference("clip-path")},clipWith(s){const t=s instanceof Gt?s:this.parent().clip().add(s);return this.attr("clip-path","url(#"+t.id()+")")},unclip(){return this.attr("clip-path",null)}}});S(Gt,"ClipPath");class Ge extends F{constructor(t,e=t){super(E("foreignObject",t),e)}}_({Container:{foreignObject:M(function(s,t){return this.put(new Ge).size(s,t)})}});S(Ge,"ForeignObject");function un(s,t){return this.children().forEach(e=>{let i;try{i=e.node instanceof fs().SVGSVGElement?new C(e.attr(["x","y","width","height"])):e.bbox()}catch{return}const n=new m(e),r=n.translate(s,t).transform(n.inverse()),h=new L(i.x,i.y).transform(r);e.move(h.x,h.y)}),this}function ln(s){return this.dmove(s,0)}function cn(s){return this.dmove(0,s)}function fn(s,t=this.bbox()){return s==null?t.height:this.size(t.width,s,t)}function dn(s=0,t=0,e=this.bbox()){const i=s-e.x,n=t-e.y;return this.dmove(i,n)}function pn(s,t,e=this.bbox()){const i=rt(this,s,t,e),n=i.width/e.width,r=i.height/e.height;return this.children().forEach(h=>{const o=new L(e).transform(new m(h).inverse());h.scale(n,r,o.x,o.y)}),this}function mn(s,t=this.bbox()){return s==null?t.width:this.size(s,t.height,t)}function gn(s,t=this.bbox()){return s==null?t.x:this.move(s,t.y,t)}function wn(s,t=this.bbox()){return s==null?t.y:this.move(t.x,s,t)}const We=Object.freeze(Object.defineProperty({__proto__:null,dmove:un,dx:ln,dy:cn,height:fn,move:dn,size:pn,width:mn,x:gn,y:wn},Symbol.toStringTag,{value:"Module"}));class fe extends R{constructor(t,e=t){super(E("g",t),e)}}v(fe,We);_({Container:{group:M(function(){return this.put(new fe)})}});S(fe,"G");class kt extends R{constructor(t,e=t){super(E("a",t),e)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,pt)}}v(kt,We);_({Container:{link:M(function(s){return this.put(new kt).to(s)})},Element:{unlink(){const s=this.linker();if(!s)return this;const t=s.parent();if(!t)return this.remove();const e=t.index(s);return t.add(this,e),s.remove(),this},linkTo(s){let t=this.linker();return t||(t=new kt,this.wrap(t)),typeof s=="function"?s.call(t,t):t.to(s),this},linker(){const s=this.parent();return s&&s.node.nodeName.toLowerCase()==="a"?s:null}}});S(kt,"A");class Wt extends R{constructor(t,e=t){super(E("mask",t),e)}remove(){return this.targets().forEach(function(t){t.unmask()}),super.remove()}targets(){return ot("svg [mask*="+this.id()+"]")}}_({Container:{mask:M(function(){return this.defs().put(new Wt)})},Element:{masker(){return this.reference("mask")},maskWith(s){const t=s instanceof Wt?s:this.parent().mask().add(s);return this.attr("mask","url(#"+t.id()+")")},unmask(){return this.attr("mask",null)}}});S(Wt,"Mask");class Qe extends F{constructor(t,e=t){super(E("stop",t),e)}update(t){return(typeof t=="number"||t instanceof y)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",new y(t.offset)),this}}_({Gradient:{stop:function(s,t,e){return this.put(new Qe).update(s,t,e)}}});S(Qe,"Stop");function yn(s,t){if(!s)return"";if(!t)return s;let e=s+"{";for(const i in t)e+=us(i)+":"+t[i]+";";return e+="}",e}class Qt extends F{constructor(t,e=t){super(E("style",t),e)}addText(t=""){return this.node.textContent+=t,this}font(t,e,i={}){return this.rule("@font-face",{fontFamily:t,src:e,...i})}rule(t,e){return this.addText(yn(t,e))}}_("Dom",{style(s,t){return this.put(new Qt).rule(s,t)},fontface(s,t,e){return this.put(new Qt).font(s,t,e)}});S(Qt,"Style");class de extends Y{constructor(t,e=t){super(E("textPath",t),e)}array(){const t=this.track();return t?t.array():null}plot(t){const e=this.track();let i=null;return e&&(i=e.plot(t)),t==null?i:this}track(){return this.reference("href")}}_({Container:{textPath:M(function(s,t){return s instanceof Y||(s=this.text(s)),s.path(t)})},Text:{path:M(function(s,t=!0){const e=new de;s instanceof ht||(s=this.defs().path(s)),e.attr("href","#"+s,pt);let i;if(t)for(;i=this.node.firstChild;)e.node.appendChild(i);return this.put(e)}),textPath(){return this.findOne("textPath")}},Path:{text:M(function(s){return s instanceof Y||(s=new Y().addTo(this.parent()).text(s)),s.path(this)}),targets(){return ot("svg textPath").filter(s=>(s.attr("href")||"").includes(this.id()))}}});de.prototype.MorphArray=K;S(de,"TextPath");class Je extends z{constructor(t,e=t){super(E("use",t),e)}use(t,e){return this.attr("href",(e||"")+"#"+t,pt)}}_({Container:{use:M(function(s,t){return this.put(new Je).use(s,t)})}});S(Je,"Use");const _n=I;v([ue,le,Mt,ct,xt],P("viewbox"));v([ft,_t,yt,ht],P("marker"));v(Y,P("Text"));v(ht,P("Path"));v(ie,P("Defs"));v([Y,Ot],P("Tspan"));v([Et,At,gt,j],P("radius"));v(mt,P("EventTarget"));v(H,P("Dom"));v(F,P("Element"));v(z,P("Shape"));v([R,qe],P("Container"));v(gt,P("Gradient"));v(j,P("Runner"));Z.extend(hs());zi([y,A,C,m,nt,V,K,L]);qi();class zt{constructor(t,e,i,n,r=0,h=!1){f(this,"isShow",!0);f(this,"isTouching",!1);f(this,"draw");f(this,"path");f(this,"progress",0);f(this,"introStartedTime",Date.now());f(this,"introDuration",2e3);f(this,"isIntroStarted");f(this,"_update",()=>{if(requestAnimationFrame(this._update),this.isIntroStarted){const e=(Date.now()-this.introStartedTime)/this.introDuration,i=e<.5?G.easeOutExpo(G.map(e,0,.5,0,.5)):G.easeOutExpo(G.map(e,0,.5,1,.5));e>=1&&(this.isIntroStarted=!1),this._drawPath(i);return}this.isTouching||(this.progress=this.progress*.75),this._drawPath(this.progress)});this.wrapper=t,this.width=e,this.height=i,this.color=n,this.min=r,this.isStroke=h,this.draw=_n().addTo(t).size(this.width,this.height),this.draw.node.role="img",this.draw.node.ariaHidden="true",this.path=this.draw.path().fill(this.color),this.isStroke&&this.path.stroke("rgba(255,255,255,0.25)"),this._drawPath(0),requestAnimationFrame(this._update)}swipe(t){this.progress=t}_drawPath(t){const e=G.map(G.easeOutSine(t),this.min,1),i=this.width*.5,n=i*(1-e)+e*i,r=this.width*e;this.path.clear().plot(`M ${this.width} 0 
      C ${this.width} ${n} ${this.width-r} ${n} ${this.width-r} ${this.width} 
      C ${this.width-r} ${this.height-n} ${this.width} ${this.height-n} ${this.width} ${this.height} 
      
      `)}startIntro(){this.introStartedTime=Date.now(),this.isIntroStarted=!0}stopIntro(){}setMinimum(t){this.min=t}setActive(t){t?this.wrapper.classList.add("active"):this.wrapper.classList.remove("active")}setTransitional(t){t?this.wrapper.classList.add("transitional"):this.wrapper.classList.remove("transitional")}}class bn extends Tt{constructor(){super();f(this,"isTouchStart",!1);f(this,"isLockScroll",!1);f(this,"touchStartX",0);f(this,"touchStartY",0);f(this,"moveX",0);f(this,"moveY",0);f(this,"angle",0);f(this,"angles",[]);f(this,"averageAngle",0);f(this,"swipeRightThreshold",120);f(this,"swipeLeftThreshold",120);f(this,"swipeRightAngleThreshold",30*(Math.PI/180));f(this,"swipeLeftAngleThreshold",40*(Math.PI/180));f(this,"isSwipeRight",!1);f(this,"isSwipeLeft",!1);f(this,"swipeUpThreshold",40);f(this,"swipeDownThreshold",40);f(this,"moveYInt",0);f(this,"clientX",0);f(this,"clientY",0);f(this,"_onTouchStart",e=>{if(e.target.closest(".swiper-container")){e.stopPropagation();return}const{touches:n}=e,[r]=n;this.isTouchStart=!0,this.touchStartX=r.clientX,this.touchStartY=r.clientY,this.angles=[],this.emit("touchstart",e)});f(this,"_onTouchEnd",e=>{if(e.target.closest(".swiper-container")){e.stopPropagation();return}this.emit("touchend",e),this.isTouchStart=!1,this.moveX=0,this.moveY=0,this.moveYInt=0,this.isSwipeRight=!1,this.isSwipeLeft=!1});f(this,"_onTouchMove",e=>{if(e.target.closest(".swiper-container")){e.stopPropagation();return}this.emit("touchmove",e);const{touches:n}=e,[r]=n,{clientX:h,clientY:o}=r;this.clientX=h,this.clientY=o,this.moveX=this.touchStartX-h,this.moveY=this.touchStartY-o;const a=Math.atan2(this.moveY,this.moveX);for(this.angles.push(a);this.angles.length>5;)this.angles.shift();let u=0;this.angles.forEach(c=>u+=c),this.averageAngle=u/this.angles.length,this.emit("swipe-right-progress",Math.min(-this.moveX/this.swipeRightThreshold,1)),this.emit("swipe-left-progress",Math.min(-this.moveX/-this.swipeLeftThreshold,1)),-this.moveX>this.swipeRightThreshold&&a>Math.PI-this.swipeRightAngleThreshold&&a<=Math.PI||-this.moveX>this.swipeRightThreshold&&a>=-Math.PI&&a<-Math.PI+this.swipeRightAngleThreshold?this.isSwipeRight||this._swipeRight():-this.moveX<-this.swipeLeftThreshold&&a<this.swipeLeftAngleThreshold&&a>-this.swipeLeftAngleThreshold&&(this.isSwipeLeft||this._swipeLeft());const l=Math.round(this.moveY/this.swipeDownThreshold);this.moveYInt!==l&&(this.emit("move-y",this.moveYInt>l?-1:1),this.moveYInt=l),this.isLockScroll&&e.preventDefault()});this._initEvents()}_initEvents(){window.addEventListener("touchstart",this._onTouchStart,{passive:!1}),window.addEventListener("touchend",this._onTouchEnd),window.addEventListener("touchmove",this._onTouchMove,{passive:!1})}_swipeRight(){this.isSwipeRight=!0,this.emit("swipe-right")}_swipeLeft(){this.isSwipeLeft=!0,this.emit("swipe-left")}resetSwipeStatus(){this.touchStartX=this.clientX,this.touchStartY=this.clientY}}class vn{constructor(){f(this,"flickNav");f(this,"swipeManager",new bn);f(this,"protrusion1");f(this,"protrusion2");f(this,"protrusion3");f(this,"protrusions");f(this,"activeProtrusion");f(this,"bg1");f(this,"bg2");f(this,"bg3");f(this,"activeBg");f(this,"bgs");f(this,"hasShownIntro",!1);f(this,"hasShownIntro2",!1);f(this,"_onSwipeRight",()=>{this.flickNav.swipeRight()});f(this,"_onSwipeLeft",()=>{this.flickNav.swipeLeft()});f(this,"_onSwipeVertical",t=>{this.flickNav.isVisible&&this.flickNav.swipeVertical(t)});f(this,"_onEnterNav",t=>{this._onChangeNav(t)});f(this,"_onLeaveNav",t=>{this._onChangeNav(t)});f(this,"_onChangeNav",t=>{switch(this.protrusions.forEach(e=>{e.setMinimum(0),e.setActive(!1)}),this.bgs.forEach(e=>{e.classList.remove("visible"),e.classList.remove("glimpse")}),t){case 0:this.protrusion1.setActive(!0),this.activeProtrusion=this.protrusion1;break;case 1:this.protrusion2.setMinimum(.5),this.protrusion2.setActive(!0),this.activeProtrusion=this.protrusion2,this.bg1.classList.add("visible"),this.bg2.classList.add("glimpse");break;case 2:this.protrusion3.setMinimum(.5),this.protrusion3.setActive(!0),this.activeProtrusion=this.protrusion3,this.bg2.classList.add("visible"),this.bg3.classList.add("glimpse");break;case 3:this.bg2.classList.add("visible"),this.bg3.classList.add("visible")}});f(this,"_onSelectNav",t=>{const i=!t.getAttribute("href").startsWith("#");this.protrusions.forEach(n=>n.setTransitional(i))});f(this,"_onShowNav",()=>{if(this.swipeManager.isLockScroll=!0,window.s){const t=document.getElementsByTagName("html")[0].getAttribute("lang"),e="",i="open",n=location.href;window.s.tl(!0,"o",`flickNav_${t}+${e}_to_${i}+${n}`)}});f(this,"_onHideNav",()=>{if(this.swipeManager.isLockScroll=!1,window.s){const t=document.getElementsByTagName("html")[0].getAttribute("lang"),e="",i="close",n=location.href;window.s.tl(!0,"o",`flickNav_${t}+${e}_to_${i}+${n}`)}});f(this,"_onResetSwipe",()=>{this.swipeManager.resetSwipeStatus()});f(this,"_onTouchStart",()=>{this.protrusions.forEach(t=>{t.isTouching=!0}),this.activeProtrusion.swipe(.3)});f(this,"_onTouchEnd",()=>{this.protrusions.forEach(t=>t.isTouching=!1)});f(this,"_onSwipeLeftProgress",t=>{this.activeProtrusion.swipe(t+.3)});f(this,"_onClickCloseBtn",t=>{t.preventDefault(),this._onSwipeRight(),this._onSwipeRight()});f(this,"_onScroll",()=>{});this._generateDoms(),this.protrusion1=new zt(document.querySelector(".tmpl-flickNav_protrusion"),40,80,"#000",0,!0),this.protrusion2=new zt(document.querySelector(".tmpl-flickNav_protrusion2"),40,80,"#333",.5),this.protrusion3=new zt(document.querySelector(".tmpl-flickNav_protrusion3"),40,80,"#fff",.5),this.activeProtrusion=this.protrusion1,this.protrusions=[this.protrusion1,this.protrusion2,this.protrusion3],this.bg1=document.querySelector(".tmpl-flickNav_bg"),this.bg2=document.querySelector(".tmpl-flickNav_bg-2"),this.bg3=document.querySelector(".tmpl-flickNav_bg-3"),this.activeBg=this.bg1,this.bgs=[this.bg1,this.bg2,this.bg3],this.flickNav=new os(document.querySelector(".tmpl-flickNav"),Array.from(document.querySelectorAll(".tmpl-footer-all, #tmpl_content, #tmpl-header"))),this._addEvents()}_addEvents(){var t;this.swipeManager.on("swipe-right",this._onSwipeRight),this.swipeManager.on("swipe-left",this._onSwipeLeft),this.swipeManager.on("move-y",this._onSwipeVertical),this.swipeManager.on("touchstart",this._onTouchStart),this.swipeManager.on("touchend",this._onTouchEnd),this.swipeManager.on("swipe-left-progress",this._onSwipeLeftProgress),this.flickNav.on("show-nav",this._onShowNav),this.flickNav.on("hide-nav",this._onHideNav),this.flickNav.on("reset-swipe",this._onResetSwipe),this.flickNav.on("enter",this._onEnterNav),this.flickNav.on("leave",this._onLeaveNav),this.flickNav.on("select",this._onSelectNav),(t=document.querySelector(".tmpl-flickNav_closeBtn"))==null||t.addEventListener("click",this._onClickCloseBtn),window.addEventListener("scroll",this._onScroll),this._onScroll()}_generateDoms(){const t=document.createElement("div");t.className="tmpl-flickNav";const e=document.createElement("a");e.className="tmpl-flickNav_closeBtn",t.append(e),this._generateBgDoms(t),this._generateLanguagesDoms(t),this._generateRootNaviDoms(t),document.body.append(t)}_generateBgDoms(t){const e=document.createElement("div");e.className="tmpl-flickNav_bg",e.innerHTML=`
          <div class="tmpl-flickNav_protrusion"></div>`,t.appendChild(e);const i=document.createElement("div");i.className="tmpl-flickNav_bg-2",i.innerHTML=`
          <div class="tmpl-flickNav_protrusion2"></div>`,t.appendChild(i);const n=document.createElement("div");n.className="tmpl-flickNav_bg-3",n.innerHTML=`
          <div class="tmpl-flickNav_protrusion3"></div>`,t.appendChild(n)}_generateLanguagesDoms(t){const e=document.createElement("div"),i=location.href.search("/ja/")>=0;e.className="tmpl-flickNav_languages",e.innerHTML=`<ul class="tmpl-flickNav_languages_list">
            <li class="tmpl-flickNav_languages_item ${i?"selecting":""}"><a class="tmpl-flickNav_languages_item-link" href='/ja'>JA</a></li>
            <li class="tmpl-flickNav_languages_item"> / </li>
            <li class="tmpl-flickNav_languages_item ${i?"":"selecting"}"><a class="tmpl-flickNav_languages_item-link" href='/en'>EN</a></li>
          </ul>`,t.append(e)}_generateRootNaviDoms(t){var a,u;const e=document.querySelector("#tmpl-headerNav_list"),i=document.createElement("div");i.id="tmpl-flickNavRoot",i.className="tmpl-flickNav_container",i.dataset.returnNav="";const n=document.createElement("span");n.className="tmpl-flickNav_upperArrow",i.append(n);const r=document.createElement("span");r.className="tmpl-flickNav_lowerArrow",i.append(r);const h=document.createElement("ul");h.className="tmpl-flickNav_list",i.append(h),t.appendChild(i);let o="";for(const l of e.children){const c=l.querySelector("a.tmpl-headerNavItem_label");if(!c){const d=((a=l.querySelector(".contactLink").textContent)==null?void 0:a.trim())||"",k=l.querySelector(".contactLink").getAttribute("href");o+=`<li class='tmpl-flickNav_item'><a class='tmpl-flickNav_link' href='${k}'>${d}</a></li>`;continue}const g=(u=c.textContent)==null?void 0:u.replace("","").trim(),w=c.getAttribute("aria-controls"),p=e.querySelector(`#${w}`),b=w==null?void 0:w.replace("tmpl-headerNavDropDown","tmpl-flickNavChild").replace("tmpl-contentNavDropDown","tmpl-flickNavChild");o+=`<li class='tmpl-flickNav_item'><a href='#${b}' class='tmpl-flickNav_nav-link'>${g}</a></li>`,this._generateChildNavDoms(t,b,p)}h.innerHTML=o}_generateChildNavDoms(t,e,i){var l,c,g,w;const n=i==null?void 0:i.querySelectorAll(".tmpl-headerNavDropDownItem > a, .tmpl-headerNavDropDown_toCategoryTop > a"),r=document.createElement("div");r.id=e,r.className="tmpl-flickNav_container";const h=document.createElement("span");h.className="tmpl-flickNav_upperArrow",r.append(h);const o=document.createElement("span");o.className="tmpl-flickNav_lowerArrow",r.append(o);const a=document.createElement("ul");a.id=e,a.className="tmpl-flickNav_list";let u="";for(const p of n){let b="";((l=p.textContent)==null?void 0:l.search("Discover Sony"))>=0&&(b=((g=(c=p.closest(".in_list"))==null?void 0:c.previousElementSibling)==null?void 0:g.innerHTML)+"&nbsp;");const k=b+p.innerHTML,O=p.getAttribute("href"),x=p.getAttribute("data-analytics-name"),q=(w=p.closest(".tmpl-headerNavDropDown"))==null?void 0:w.getAttribute("data-category");u+=`<li class='tmpl-flickNav_item'><a href='${O}' class='tmpl-flickNav_link' data-analytics-name='${x}' data-analytics-category='${q}'>${k}</a></li>`}a.innerHTML=u,r.appendChild(a),t.append(r)}}document.addEventListener("DOMContentLoaded",function(){new vn});
